<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Li</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Li">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Li">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Li" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.2.0/css/fork-awesome.min.css">

<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Li</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-ç‰¹å¾" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/07/01/%E7%89%B9%E5%BE%81/" class="article-date">
  <time class="dt-published" datetime="2025-07-01T13:23:53.000Z" itemprop="datePublished">2025-07-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/07/01/%E7%89%B9%E5%BE%81/">ç‰¹å¾</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="Trait"><a href="#Trait" class="headerlink" title="Trait"></a>Trait</h3><p>ç‰¹å¾å®šä¹‰äº†ä¸€ç»„å¯ä»¥è¢«å…±äº«çš„è¡Œä¸ºï¼Œåªè¦å®ç°äº†ç‰¹å¾ï¼Œä½ å°±èƒ½ä½¿ç”¨è¿™ç»„è¡Œä¸º;<font style="color:rgb(0, 0, 0);">ç‰¹å¾è·Ÿæ¥å£å¾ˆç±»ä¼¼</font></p>
<h4 id="å®šä¹‰ç‰¹å¾"><a href="#å®šä¹‰ç‰¹å¾" class="headerlink" title="å®šä¹‰ç‰¹å¾"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/trait/trait.html#%E5%AE%9A%E4%B9%89%E7%89%B9%E5%BE%81"><font style="color:rgb(0, 0, 0);">å®šä¹‰ç‰¹å¾</font></a></h4><p><strong><font style="color:rgb(0, 0, 0);">å®šä¹‰ç‰¹å¾</font></strong><font style="color:rgb(0, 0, 0);">æ˜¯æŠŠä¸€äº›æ–¹æ³•ç»„åˆåœ¨ä¸€èµ·ï¼Œç›®çš„æ˜¯å®šä¹‰ä¸€ä¸ªå®ç°æŸäº›ç›®æ ‡æ‰€å¿…éœ€çš„è¡Œä¸ºçš„é›†åˆã€‚</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">pub</span> <span class="keyword">trait</span> <span class="title class_">Summary</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">summarize</span>(&amp;<span class="keyword">self</span>) <span class="punctuation">-&gt;</span> <span class="type">String</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>trait</code><font style="color:rgb(0, 0, 0);"> å…³é”®å­—æ¥å£°æ˜ä¸€ä¸ªç‰¹å¾ï¼Œ</font><code>Summary</code><font style="color:rgb(0, 0, 0);"> æ˜¯ç‰¹å¾åã€‚åœ¨å¤§æ‹¬å·ä¸­å®šä¹‰äº†è¯¥ç‰¹å¾çš„æ‰€æœ‰æ–¹æ³•ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­æ˜¯ï¼š </font><code>fn summarize(&amp;self) -&gt; String</code></p>
<h4 id="ä¸ºç±»å‹å®ç°ç‰¹å¾"><a href="#ä¸ºç±»å‹å®ç°ç‰¹å¾" class="headerlink" title="ä¸ºç±»å‹å®ç°ç‰¹å¾"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/trait/trait.html#%E4%B8%BA%E7%B1%BB%E5%9E%8B%E5%AE%9E%E7%8E%B0%E7%89%B9%E5%BE%81"><font style="color:rgb(0, 0, 0);">ä¸ºç±»å‹å®ç°ç‰¹å¾</font></a></h4><p><font style="color:rgb(0, 0, 0);">å®ç°æ–¹æ³•å¾ˆåƒï¼š</font><code>impl Summary for Post</code><font style="color:rgb(0, 0, 0);">ï¼Œè¯»ä½œâ€œä¸º </font><code>Post</code><font style="color:rgb(0, 0, 0);"> ç±»å‹å®ç° </font><code>Summary</code><font style="color:rgb(0, 0, 0);"> ç‰¹å¾â€ï¼Œç„¶ååœ¨ </font><code>impl</code><font style="color:rgb(0, 0, 0);"> çš„èŠ±æ‹¬å·ä¸­å®ç°è¯¥ç‰¹å¾çš„å…·ä½“æ–¹æ³•</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">pub</span> <span class="keyword">trait</span> <span class="title class_">Summary</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">summarize</span>(&amp;<span class="keyword">self</span>) <span class="punctuation">-&gt;</span> <span class="type">String</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">pub</span> <span class="keyword">struct</span> <span class="title class_">Post</span> &#123;</span><br><span class="line">    <span class="keyword">pub</span> title: <span class="type">String</span>, <span class="comment">// æ ‡é¢˜</span></span><br><span class="line">    <span class="keyword">pub</span> author: <span class="type">String</span>, <span class="comment">// ä½œè€…</span></span><br><span class="line">    <span class="keyword">pub</span> content: <span class="type">String</span>, <span class="comment">// å†…å®¹</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">Summary</span> <span class="keyword">for</span> <span class="title class_">Post</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">summarize</span>(&amp;<span class="keyword">self</span>) <span class="punctuation">-&gt;</span> <span class="type">String</span> &#123;</span><br><span class="line">        <span class="built_in">format!</span>(<span class="string">&quot;æ–‡ç« &#123;&#125;, ä½œè€…æ˜¯&#123;&#125;&quot;</span>, <span class="keyword">self</span>.title, <span class="keyword">self</span>.author)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">pub</span> <span class="keyword">struct</span> <span class="title class_">Weibo</span> &#123;</span><br><span class="line">    <span class="keyword">pub</span> username: <span class="type">String</span>,</span><br><span class="line">    <span class="keyword">pub</span> content: <span class="type">String</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">Summary</span> <span class="keyword">for</span> <span class="title class_">Weibo</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">summarize</span>(&amp;<span class="keyword">self</span>) <span class="punctuation">-&gt;</span> <span class="type">String</span> &#123;</span><br><span class="line">        <span class="built_in">format!</span>(<span class="string">&quot;&#123;&#125;å‘è¡¨äº†å¾®åš&#123;&#125;&quot;</span>, <span class="keyword">self</span>.username, <span class="keyword">self</span>.content)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">post</span> = Post&#123;title: <span class="string">&quot;Rustè¯­è¨€ç®€ä»‹&quot;</span>.<span class="title function_ invoke__">to_string</span>(),author: <span class="string">&quot;Sunface&quot;</span>.<span class="title function_ invoke__">to_string</span>(), content: <span class="string">&quot;Rustæ£’æäº†!&quot;</span>.<span class="title function_ invoke__">to_string</span>()&#125;;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">weibo</span> = Weibo&#123;username: <span class="string">&quot;sunface&quot;</span>.<span class="title function_ invoke__">to_string</span>(),content: <span class="string">&quot;å¥½åƒå¾®åšæ²¡Tweetå¥½ç”¨&quot;</span>.<span class="title function_ invoke__">to_string</span>()&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>,post.<span class="title function_ invoke__">summarize</span>());</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>,weibo.<span class="title function_ invoke__">summarize</span>());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="é»˜è®¤å®ç°"><a href="#é»˜è®¤å®ç°" class="headerlink" title="é»˜è®¤å®ç°"></a>é»˜è®¤å®ç°</h4><p>é»˜è®¤å®ç°çš„æ–¹æ³•ï¼Œè¿™æ ·å…¶å®ƒç±»å‹æ— éœ€å†å®ç°è¯¥æ–¹æ³•ï¼Œæˆ–è€…ä¹Ÿå¯ä»¥é€‰æ‹©é‡å†™è¯¥æ–¹æ³•</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">pub</span> <span class="keyword">trait</span> <span class="title class_">Summary</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">summarize</span>(&amp;<span class="keyword">self</span>) <span class="punctuation">-&gt;</span> <span class="type">String</span> &#123;</span><br><span class="line">        <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;(Read more...)&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä¸€ä¸ªæ–¹æ³•å®ç°äº†Summary,ä½†æ˜¯æ²¡æœ‰è¿›è¡Œé‡å†™,ä½¿ç”¨é»˜è®¤å®ç°;å¦‚æœé‡å†™å°±ä½¿ç”¨é‡å†™æ–¹æ³•</p>
<h4 id="ä½¿ç”¨ç‰¹å¾ä½œä¸ºå‡½æ•°å‚æ•°"><a href="#ä½¿ç”¨ç‰¹å¾ä½œä¸ºå‡½æ•°å‚æ•°" class="headerlink" title="ä½¿ç”¨ç‰¹å¾ä½œä¸ºå‡½æ•°å‚æ•°"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/trait/trait.html#%E4%BD%BF%E7%94%A8%E7%89%B9%E5%BE%81%E4%BD%9C%E4%B8%BA%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0"><font style="color:rgb(0, 0, 0);">ä½¿ç”¨ç‰¹å¾ä½œä¸ºå‡½æ•°å‚æ•°</font></a></h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">pub</span> <span class="keyword">fn</span> <span class="title function_">notify</span>(item: &amp;<span class="keyword">impl</span> <span class="title class_">Summary</span>) &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;Breaking news! &#123;&#125;&quot;</span>, item.<span class="title function_ invoke__">summarize</span>());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¾‹å¦‚: impl Summary for A; å¯ä»¥ä½¿ç”¨ notify(&amp;A)è¿›è¡Œè°ƒç”¨</p>
<h4 id="ç‰¹å¾çº¦æŸ"><a href="#ç‰¹å¾çº¦æŸ" class="headerlink" title="ç‰¹å¾çº¦æŸ"></a>ç‰¹å¾çº¦æŸ</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">pub</span> <span class="keyword">fn</span> <span class="title function_">notify</span>&lt;T: Summary&gt;(item1: &amp;T, item2: &amp;T) &#123;&#125;</span><br></pre></td></tr></table></figure>

<p><font style="color:rgb(0, 0, 0);">æ³›å‹ç±»å‹ </font><code>T</code><font style="color:rgb(0, 0, 0);"> è¯´æ˜äº† </font><code>item1</code><font style="color:rgb(0, 0, 0);"> å’Œ </font><code>item2</code><font style="color:rgb(0, 0, 0);"> å¿…é¡»æ‹¥æœ‰åŒæ ·çš„ç±»å‹ï¼ŒåŒæ—¶ </font><code>T: Summary</code><font style="color:rgb(0, 0, 0);"> è¯´æ˜äº† </font><code>T</code><font style="color:rgb(0, 0, 0);"> å¿…é¡»å®ç° </font><code>Summary</code><font style="color:rgb(0, 0, 0);"> ç‰¹å¾ã€‚</font></p>
<h4 id="å¤šé‡çº¦æŸ"><a href="#å¤šé‡çº¦æŸ" class="headerlink" title="å¤šé‡çº¦æŸ"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/trait/trait.html#%E5%A4%9A%E9%87%8D%E7%BA%A6%E6%9D%9F"><font style="color:rgb(0, 0, 0);">å¤šé‡çº¦æŸ</font></a></h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">pub</span> <span class="keyword">fn</span> <span class="title function_">notify</span>(item: &amp;(<span class="keyword">impl</span> <span class="title class_">Summary</span> + Display)) &#123;&#125;</span><br><span class="line"><span class="comment">// ä¸ªäººæ›´å–œæ¬¢ä¸‹é¢è¿™ç§å†™æ³•</span></span><br><span class="line"><span class="keyword">pub</span> <span class="keyword">fn</span> <span class="title function_">notify</span>&lt;T: Summary + Display&gt;(item:&amp;T)&#123;&#125;</span><br></pre></td></tr></table></figure>

<p><code>notify</code> å‡½æ•°æ¥æ”¶ä¸€ä¸ª<strong>å¼•ç”¨ç±»å‹å‚æ•°</strong>ï¼Œè¿™ä¸ªå‚æ•°çš„ç±»å‹å¿…é¡»åŒæ—¶å®ç°äº† <code>Summary</code> å’Œ <code>Display</code> è¿™ä¸¤ä¸ª traitã€‚  </p>
<h5 id="impl-Summary-Display-æ˜¯ä»€ä¹ˆæ„æ€"><a href="#impl-Summary-Display-æ˜¯ä»€ä¹ˆæ„æ€" class="headerlink" title="(impl Summary + Display) æ˜¯ä»€ä¹ˆæ„æ€"></a>(impl Summary + Display) æ˜¯ä»€ä¹ˆæ„æ€</h5><p>è¡¨ç¤ºç±»å‹å¿…é¡»åŒæ—¶å®ç°ï¼š</p>
<ul>
<li><code>Summary</code>ï¼ˆä½ è‡ªå®šä¹‰çš„ traitï¼‰</li>
<li><code>Display</code>ï¼ˆRust æ ‡å‡†åº“é‡Œçš„æ ¼å¼åŒ– traitï¼Œæ”¯æŒ <code>&#123;&#125;</code> æ‰“å°ï¼‰</li>
</ul>
<p>æ¯”å¦‚ï¼Œè¿™æ ·çš„ç±»å‹æ‰èƒ½ä¼ è¿›å»ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">News</span> &#123;&#125;</span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">Summary</span> <span class="keyword">for</span> <span class="title class_">News</span> &#123; ... &#125;</span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">Display</span> <span class="keyword">for</span> <span class="title class_">News</span> &#123; ... &#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">notify</span>(&amp;news); <span class="comment">// âœ… æ»¡è¶³çº¦æŸ</span></span><br></pre></td></tr></table></figure>

<h5 id="ä»€ä¹ˆæ—¶å€™ç”¨-åˆå¹¶å¤šä¸ª-trait"><a href="#ä»€ä¹ˆæ—¶å€™ç”¨-åˆå¹¶å¤šä¸ª-trait" class="headerlink" title="ä»€ä¹ˆæ—¶å€™ç”¨ + åˆå¹¶å¤šä¸ª trait"></a>ä»€ä¹ˆæ—¶å€™ç”¨ <code>+</code> åˆå¹¶å¤šä¸ª trait</h5><p> å½“ä½ å¸Œæœ›å‡½æ•°å‚æ•°åŒæ—¶æ»¡è¶³å¤šä¸ª trait çš„çº¦æŸï¼ˆæ¯”å¦‚å¯ä»¥ <code>.sum()</code> åˆå¯ä»¥ <code>&#123;&#125;</code> æ‰“å°ï¼‰ï¼Œå°±éœ€è¦ç”¨ <code>+</code></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> std::fmt::Display;</span><br><span class="line"></span><br><span class="line"><span class="keyword">pub</span> <span class="keyword">trait</span> <span class="title class_">Summary</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">sum</span>(&amp;<span class="keyword">self</span>) <span class="punctuation">-&gt;</span> <span class="type">String</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">pub</span> <span class="keyword">fn</span> <span class="title function_">notify</span>(item: &amp;(<span class="keyword">impl</span> <span class="title class_">Summary</span> + Display)) &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125; - &#123;&#125;&quot;</span>, item, item.<span class="title function_ invoke__">sum</span>());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>å†™æ³•</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>fn notify(item: &amp;impl Summary)</code></td>
<td>æ¥æ”¶å®ç°äº† <code>Summary</code> çš„å¼•ç”¨</td>
</tr>
<tr>
<td><code>fn notify(item: &amp;impl Summary + Display)</code></td>
<td>æ¥æ”¶å®ç°äº† <code>Summary</code> <strong>å’Œ</strong> <code>Display</code> çš„å¼•ç”¨</td>
</tr>
<tr>
<td><code>fn notify&lt;T: Summary&gt;(item: &amp;T)</code></td>
<td>ç­‰ä»·äºç¬¬ 1 ç§ï¼Œå†™æ³•æ›´é€šç”¨</td>
</tr>
<tr>
<td><code>fn notify&lt;T: Summary + Display&gt;(item: &amp;T)</code></td>
<td>ç­‰ä»·äºç¬¬ 2 ç§ï¼Œæ›´çµæ´»</td>
</tr>
</tbody></table>
<h4 id="Where-çº¦æŸ"><a href="#Where-çº¦æŸ" class="headerlink" title="Where çº¦æŸ"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/trait/trait.html#where-%E7%BA%A6%E6%9D%9F"><font style="color:rgb(0, 0, 0);">Where çº¦æŸ</font></a></h4><h4 id="è¯­æ³•å¯¹æ¯”"><a href="#è¯­æ³•å¯¹æ¯”" class="headerlink" title="è¯­æ³•å¯¹æ¯”"></a>è¯­æ³•å¯¹æ¯”</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ™®é€šå†™æ³•ï¼šæ‰€æœ‰çº¦æŸéƒ½å†™åœ¨ &lt;&gt; ä¸­</span></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">example</span>&lt;T: TraitA + TraitB, U: TraitC&gt;(t: T, u: U) &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// where å†™æ³•ï¼šçº¦æŸå•ç‹¬å†™åœ¨ where é‡Œ</span></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">example</span>&lt;T, U&gt;(t: T, u: U)</span><br><span class="line"><span class="keyword">where</span></span><br><span class="line">    T: TraitA + TraitB,</span><br><span class="line">    U: TraitC,</span><br><span class="line">&#123;&#125;</span><br></pre></td></tr></table></figure>

<p> æ•ˆæœä¸€æ ·ï¼Œä½† <code>where</code> æ–¹å¼åœ¨çº¦æŸå¾ˆå¤šæ—¶æ›´æ¸…æ™°ï¼  </p>
<h5 id="ä¸¾ä¾‹"><a href="#ä¸¾ä¾‹" class="headerlink" title="ä¸¾ä¾‹"></a>ä¸¾ä¾‹</h5><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> std::fmt::Display;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">print_pair</span>&lt;T, U&gt;(x: T, y: U)</span><br><span class="line"><span class="keyword">where</span></span><br><span class="line">    T: Display,</span><br><span class="line">    U: Display,</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;x: &#123;&#125;, y: &#123;&#125;&quot;</span>, x, y);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="å‡½æ•°è¿”å›ä¸­çš„impl-Trait"><a href="#å‡½æ•°è¿”å›ä¸­çš„impl-Trait" class="headerlink" title="å‡½æ•°è¿”å›ä¸­çš„impl Trait"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/trait/trait.html#%E5%87%BD%E6%95%B0%E8%BF%94%E5%9B%9E%E4%B8%AD%E7%9A%84-impl-trait"><font style="color:rgb(0, 0, 0);">å‡½æ•°è¿”å›ä¸­çš„impl Trait</font></a></h4><ul>
<li>è¿”å›çš„ç±»å‹å¤ªå¤æ‚ï¼ˆæ¯”å¦‚é—­åŒ…ã€è¿­ä»£å™¨ï¼‰</li>
<li>ä¸æƒ³æš´éœ²ç±»å‹ç»†èŠ‚</li>
<li>æ›´æ¸…çˆ½ã€ç®€æ´</li>
</ul>
<table>
<thead>
<tr>
<th>ä¼ ç»Ÿå†™æ³•</th>
<th>impl Trait å†™æ³•</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td><code>-&gt; String</code></td>
<td><code>-&gt; impl Display</code></td>
<td>ä¸å‘Šè¯‰ä½ æ˜¯ Stringï¼Œåªè¯´èƒ½è¢«æ‰“å°</td>
</tr>
<tr>
<td><code>-&gt; Vec&lt;i32&gt;</code></td>
<td><code>-&gt; impl Iterator&lt;Item = i32&gt;</code></td>
<td>ä¸å‘Šè¯‰ä½ æ˜¯ Vecï¼Œåªè¯´èƒ½ä¸€ä¸ªä¸ªå–å‡ºæ¥</td>
</tr>
<tr>
<td><code>-&gt; MyClosureType</code></td>
<td><code>-&gt; impl Fn(i32) -&gt; i32</code></td>
<td>ä¸å‘Šè¯‰ä½ é—­åŒ…é•¿å•¥æ ·ï¼Œåªè¯´èƒ½æ‰§è¡Œå®ƒ</td>
</tr>
</tbody></table>
<h3 id="ç‰¹å¾å¯¹è±¡"><a href="#ç‰¹å¾å¯¹è±¡" class="headerlink" title="ç‰¹å¾å¯¹è±¡"></a>ç‰¹å¾å¯¹è±¡</h3><p>ç‰¹å¾å¯¹è±¡ï¼ˆtrait objectï¼‰æ˜¯â€œåœ¨è¿è¡Œæ—¶â€å†³å®šç±»å‹çš„æ–¹å¼ï¼Œå…è®¸ä½ é€šè¿‡ <code>**Box&lt;dyn Trait&gt;**</code> ä¹‹ç±»çš„æ–¹å¼æ¥å¤„ç†ä¸åŒç±»å‹çš„å€¼ï¼Œåªè¦å®ƒä»¬éƒ½å®ç°äº†æŸä¸ª trait(ç±»ä¼¼äºjavaä¸­çš„å¤šæ€)ã€‚  </p>
<p>Rust é»˜è®¤æ˜¯<strong>é™æ€åˆ†å‘</strong>ï¼ˆç¼–è¯‘æ—¶å†³å®šç±»å‹ï¼‰ï¼Œè¿™æœ‰åˆ©äºæ€§èƒ½ï¼Œä½†é™åˆ¶äº†æŸäº›çµæ´»æ€§ï¼Œæ¯”å¦‚ï¼š  </p>
<p>åœºæ™¯ï¼šä½ æƒ³è®©ä¸€ä¸ªå˜é‡ï¼Œèƒ½è£…ä¸‹å¤šç§ä¸åŒç±»å‹çš„å¯¹è±¡ï¼Œåªè¦å®ƒä»¬éƒ½æœ‰ç›¸åŒçš„åŠŸèƒ½ï¼ˆå®ç°äº†åŒä¸€ä¸ª traitï¼‰</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">trait</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">speak</span>(&amp;<span class="keyword">self</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Dog</span>;</span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">Animal</span> <span class="keyword">for</span> <span class="title class_">Dog</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">speak</span>(&amp;<span class="keyword">self</span>) &#123; <span class="built_in">println!</span>(<span class="string">&quot;æ±ªæ±ªï¼&quot;</span>); &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Cat</span>;</span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">Animal</span> <span class="keyword">for</span> <span class="title class_">Cat</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">speak</span>(&amp;<span class="keyword">self</span>) &#123; <span class="built_in">println!</span>(<span class="string">&quot;å–µå–µï¼&quot;</span>); &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="variable">zoo</span> = <span class="built_in">vec!</span>[Dog, Cat]; <span class="comment">// âŒ ç¼–è¯‘é”™è¯¯ï¼Œä¸åŒç±»å‹ä¸èƒ½è¿›åŒä¸€ä¸ª Vec</span></span><br></pre></td></tr></table></figure>

<p> ä½¿ç”¨ç‰¹å¾å¯¹è±¡è§£å†³ </p>
<p><code>Box&lt;dyn Animal&gt;</code> å°±æ˜¯ä¸€ä¸ª <strong>ç‰¹å¾å¯¹è±¡</strong>ã€‚<br>æ„æ€æ˜¯ï¼šâ€œæˆ‘ä¸çŸ¥é“ä½ å…·ä½“æ˜¯ Dog è¿˜æ˜¯ Catï¼Œåæ­£ä½ èƒ½ <code>speak()</code> å°±è¡Œâ€ã€‚  </p>
<h4 id="ç‰¹å¾å¯¹è±¡çš„ä½¿ç”¨æ¡ä»¶"><a href="#ç‰¹å¾å¯¹è±¡çš„ä½¿ç”¨æ¡ä»¶" class="headerlink" title="ç‰¹å¾å¯¹è±¡çš„ä½¿ç”¨æ¡ä»¶"></a>ç‰¹å¾å¯¹è±¡çš„ä½¿ç”¨æ¡ä»¶</h4><p>åªæœ‰ <strong>trait</strong> æ»¡è¶³ä»¥ä¸‹æ¡ä»¶æ‰èƒ½è¢«åšæˆç‰¹å¾å¯¹è±¡ï¼š</p>
<h5 id="å¿…é¡»æ»¡è¶³"><a href="#å¿…é¡»æ»¡è¶³" class="headerlink" title="å¿…é¡»æ»¡è¶³"></a>å¿…é¡»æ»¡è¶³</h5><ul>
<li>trait ä¸èƒ½æœ‰æ³›å‹å‚æ•°</li>
<li>trait æ–¹æ³•ä¸èƒ½ä½¿ç”¨ <code>Self</code> ä½œä¸ºè¿”å›å€¼ï¼ˆé™¤éé…åˆ <code>Box&lt;Self&gt;</code>ï¼‰</li>
<li>trait è¦æ”¯æŒ <strong>å¯¹è±¡å®‰å…¨ï¼ˆobject safeï¼‰</strong></li>
</ul>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">trait</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">speak</span>(&amp;<span class="keyword">self</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Dog</span>;</span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">Animal</span> <span class="keyword">for</span> <span class="title class_">Dog</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">speak</span>(&amp;<span class="keyword">self</span>) &#123; <span class="built_in">println!</span>(<span class="string">&quot;Dog says: æ±ªæ±ªï¼&quot;</span>); &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Cat</span>;</span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">Animal</span> <span class="keyword">for</span> <span class="title class_">Cat</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">speak</span>(&amp;<span class="keyword">self</span>) &#123; <span class="built_in">println!</span>(<span class="string">&quot;Cat says: å–µå–µï¼&quot;</span>); &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">zoo</span>: <span class="type">Vec</span>&lt;<span class="type">Box</span>&lt;<span class="keyword">dyn</span> Animal&gt;&gt; = <span class="built_in">vec!</span>[</span><br><span class="line">        <span class="type">Box</span>::<span class="title function_ invoke__">new</span>(Dog),</span><br><span class="line">        <span class="type">Box</span>::<span class="title function_ invoke__">new</span>(Cat),</span><br><span class="line">    ];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="variable">animal</span> <span class="keyword">in</span> zoo &#123;</span><br><span class="line">        animal.<span class="title function_ invoke__">speak</span>(); <span class="comment">// åŠ¨æ€è°ƒç”¨</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="dyn"><a href="#dyn" class="headerlink" title="dyn"></a>dyn</h4><p><code>**dyn**</code> æ˜¯ Rust ä¸­çš„å…³é”®è¯ï¼Œæ„æ€æ˜¯ï¼šâ€œæˆ‘è¦ä½¿ç”¨ä¸€ä¸ª<strong>åŠ¨æ€åˆ†å‘çš„ trait å¯¹è±¡</strong>â€ã€‚</p>
<p><code>dyn Trait</code> æ˜¯åŠ¨æ€å¤§å°ç±»å‹ï¼ˆDSTï¼‰ï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œå¿…é¡»ç”¨ <code>Box</code>ã€<code>&amp;</code> æˆ– <code>Rc</code> ç­‰åŒ…èµ·æ¥ã€‚</p>
<table>
<thead>
<tr>
<th>åŒ…è£…æ–¹å¼</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>Box&lt;dyn Trait&gt;</code></td>
<td>æ”¾åˆ°å †ä¸Šï¼Œé€‚åˆæ‰€æœ‰æƒè½¬ç§»</td>
</tr>
<tr>
<td><code>&amp;dyn Trait</code></td>
<td>å€Ÿç”¨å¼•ç”¨ï¼Œé€‚åˆåªè¯»è°ƒç”¨</td>
</tr>
<tr>
<td><code>Rc&lt;dyn Trait&gt;</code></td>
<td>å¤šæ‰€æœ‰æƒï¼Œé€‚åˆå¤šå¤„å…±äº«ä½¿ç”¨</td>
</tr>
<tr>
<td><code>Arc&lt;dyn Trait&gt;</code></td>
<td>å¤šçº¿ç¨‹å…±äº«</td>
</tr>
</tbody></table>
<h5 id="ç±»æ¯”ç†è§£ï¼ˆğŸ“¦è£…ç®±æ€æƒ³ï¼‰"><a href="#ç±»æ¯”ç†è§£ï¼ˆğŸ“¦è£…ç®±æ€æƒ³ï¼‰" class="headerlink" title="ç±»æ¯”ç†è§£ï¼ˆğŸ“¦è£…ç®±æ€æƒ³ï¼‰"></a>ç±»æ¯”ç†è§£ï¼ˆğŸ“¦è£…ç®±æ€æƒ³ï¼‰</h5><p>ä½ å¯ä»¥æŠŠ <code>dyn Trait</code> ç†è§£æˆä¸€ä¸ªâ€œå°ºå¯¸ä¸å®šçš„ç‰©å“â€ï¼ŒRust ä¸å…è®¸ä½ ç›´æ¥æ‹¿åœ¨æ‰‹ä¸Šï¼Œå¿…é¡»ï¼š</p>
<ul>
<li>ç”¨ä¸€ä¸ªç›’å­ï¼ˆ<code>Box</code>ï¼‰è£…èµ·æ¥ï¼Œæ”¾å †ä¸Š</li>
<li>æˆ–è€…ç”¨å¼•ç”¨ï¼ˆ<code>&amp;</code>ï¼‰æŒ‡å‘å®ƒ</li>
</ul>
<p>å¦åˆ™ç¼–è¯‘å™¨æ— æ³•åˆ†é…ç©ºé—´ï¼Œä¸çŸ¥é“è¯¥æ€ä¹ˆå¤„ç†å®ƒã€‚</p>
<h4 id="Self-ä¸-self"><a href="#Self-ä¸-self" class="headerlink" title="Self ä¸ self"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/trait/trait-object.html#self-%E4%B8%8E-self"><font style="color:rgb(0, 0, 0);">Self ä¸ self</font></a></h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">trait</span> <span class="title class_">Draw</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">draw</span>(&amp;<span class="keyword">self</span>) <span class="punctuation">-&gt;</span> <span class="keyword">Self</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#[derive(Clone)]</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Button</span>;</span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">Draw</span> <span class="keyword">for</span> <span class="title class_">Button</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">draw</span>(&amp;<span class="keyword">self</span>) <span class="punctuation">-&gt;</span> <span class="keyword">Self</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span>.<span class="title function_ invoke__">clone</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">button</span> = Button;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">newb</span> = button.<span class="title function_ invoke__">draw</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>self</code><font style="color:rgb(0, 0, 0);">æŒ‡ä»£çš„å°±æ˜¯å½“å‰çš„å®ä¾‹å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯ </font><code>button.draw()</code><font style="color:rgb(0, 0, 0);"> ä¸­çš„ </font><code>button</code><font style="color:rgb(0, 0, 0);"> å®ä¾‹ï¼Œ</font><code>Self</code><font style="color:rgb(0, 0, 0);"> åˆ™æŒ‡ä»£çš„æ˜¯ </font><code>Button</code><font style="color:rgb(0, 0, 0);"> ç±»å‹</font></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/07/01/%E7%89%B9%E5%BE%81/" data-id="cmckkof2b000oqrqw4swv3ed1" data-title="ç‰¹å¾" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Rust/" rel="tag">Rust</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-æ–¹æ³•" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/06/29/%E6%96%B9%E6%B3%95/" class="article-date">
  <time class="dt-published" datetime="2025-06-29T08:11:03.000Z" itemprop="datePublished">2025-06-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/06/29/%E6%96%B9%E6%B3%95/">æ–¹æ³•</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <table>
<thead>
<tr>
<th>ç±»å‹</th>
<th>å®šä¹‰æ–¹å¼</th>
<th>æ˜¯å¦éœ€è¦å®ä¾‹ï¼ˆselfï¼‰</th>
<th>è°ƒç”¨æ–¹å¼</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>æ™®é€šå‡½æ•°</td>
<td><code>fn xxx(...)</code></td>
<td>âŒ ä¸ç”¨ <code>self</code></td>
<td><code>xxx(...)</code></td>
<td>å…¨å±€æˆ–æ¨¡å—å‡½æ•°</td>
</tr>
<tr>
<td>æ–¹æ³•ï¼ˆæ–¹æ³•å‡½æ•°ï¼‰</td>
<td><code>fn xxx(&amp;self)</code></td>
<td>âœ… éœ€è¦å®ä¾‹ï¼ˆselfï¼‰</td>
<td><code>å®ä¾‹.xxx()</code></td>
<td>æ“ä½œæŸä¸ªå®ä¾‹çš„è¡Œä¸ºï¼ˆé¢å‘å¯¹è±¡ï¼‰</td>
</tr>
<tr>
<td>å…³è”å‡½æ•°</td>
<td><code>fn xxx(...)</code>ï¼ˆä½†åœ¨ impl å—ä¸­ï¼‰</td>
<td>âŒ ä¸éœ€è¦ <code>self</code></td>
<td><code>ç±»å‹å::xxx(...)</code></td>
<td>å±äºç±»å‹ï¼Œä½†ä¸éœ€è¦å¯¹è±¡</td>
</tr>
</tbody></table>
<h3 id="æ™®é€šå‡½æ•°ï¼ˆfunctionï¼‰"><a href="#æ™®é€šå‡½æ•°ï¼ˆfunctionï¼‰" class="headerlink" title="æ™®é€šå‡½æ•°ï¼ˆfunctionï¼‰"></a>æ™®é€šå‡½æ•°ï¼ˆfunctionï¼‰</h3><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">printPet</span>(name: Pets) &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;Pet is &#123;:?&#125;&quot;</span>, name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ˜¯å…¨å±€å‡½æ•°</li>
<li>è·Ÿç±»å‹ <code>Pets</code> æ²¡å…³ç³»</li>
<li>è°ƒç”¨æ—¶ç›´æ¥ç”¨ <code>printPet(...)</code></li>
</ul>
<h3 id="æ–¹æ³•ï¼ˆmethodï¼‰"><a href="#æ–¹æ³•ï¼ˆmethodï¼‰" class="headerlink" title="æ–¹æ³•ï¼ˆmethodï¼‰"></a>æ–¹æ³•ï¼ˆmethodï¼‰</h3><p>å®šä¹‰åœ¨ <code>impl</code> å—ä¸­ï¼Œå¹¶ä¸”æœ‰ <code>&amp;self</code>ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    name: <span class="type">String</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">say_hi</span>(&amp;<span class="keyword">self</span>) &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;Hi, æˆ‘æ˜¯ &#123;&#125;&quot;</span>, <span class="keyword">self</span>.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">p</span> = Person &#123;</span><br><span class="line">        name: <span class="string">&quot;å°æ˜&quot;</span>.<span class="title function_ invoke__">to_string</span>(),</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    p.<span class="title function_ invoke__">say_hi</span>(); <span class="comment">// â¬…ï¸ è°ƒç”¨æ–¹æ³•æ—¶ï¼Œè‡ªåŠ¨æŠŠ p ä½œä¸º &amp;self ä¼ è¿›å»</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>&amp;self</code> è¡¨ç¤ºè¿™ä¸ªæ–¹æ³•ä½œç”¨åœ¨æŸä¸ªå…·ä½“çš„å®ä¾‹ä¸Š</li>
</ul>
<p>è¿™è¡Œ</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">p.<span class="title function_ invoke__">say_hi</span>();</span><br></pre></td></tr></table></figure>

<p>ç­‰ä»·äºä¸‹é¢è¿™è¡Œ <strong>çœŸå®çš„ä¼ å‚æ–¹å¼</strong>ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Person::<span class="title function_ invoke__">say_hi</span>(&amp;p);</span><br></pre></td></tr></table></figure>

<p>&amp;self å…¶å®å°±æ˜¯ &amp;p</p>
<h3 id="å…³è”å‡½æ•°ï¼ˆassociated-functionï¼‰"><a href="#å…³è”å‡½æ•°ï¼ˆassociated-functionï¼‰" class="headerlink" title="å…³è”å‡½æ•°ï¼ˆassociated functionï¼‰"></a>å…³è”å‡½æ•°ï¼ˆassociated functionï¼‰</h3><p> å®šä¹‰åœ¨ <code>impl</code> å—ä¸­ï¼Œä½†æ²¡æœ‰ <code>self</code> å‚æ•°ï¼š  </p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Circle</span> &#123;</span><br><span class="line">    radius: <span class="type">f64</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">Circle</span> &#123;</span><br><span class="line">    <span class="comment">// å…³è”å‡½æ•°ï¼ˆæ„é€ å™¨ï¼‰</span></span><br><span class="line">    <span class="comment">// newæ˜¯Circleçš„å…³è”å‡½æ•°ï¼Œå› ä¸ºå®ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸æ˜¯selfï¼Œä¸”newå¹¶ä¸æ˜¯å…³é”®å­—</span></span><br><span class="line">    <span class="comment">// è¿™ç§æ–¹æ³•å¾€å¾€ç”¨äºåˆå§‹åŒ–å½“å‰ç»“æ„ä½“çš„å®ä¾‹</span></span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">new</span>(radius: <span class="type">f64</span>) <span class="punctuation">-&gt;</span> <span class="keyword">Self</span> &#123;</span><br><span class="line">        <span class="keyword">Self</span> &#123; radius &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ–¹æ³•ï¼ˆéœ€è¦å®ä¾‹ï¼‰</span></span><br><span class="line">    <span class="comment">// Circleçš„æ–¹æ³•ï¼Œ&amp;selfè¡¨ç¤ºå€Ÿç”¨å½“å‰çš„Circleç»“æ„ä½“</span></span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">area</span>(&amp;<span class="keyword">self</span>) <span class="punctuation">-&gt;</span> <span class="type">f64</span> &#123;</span><br><span class="line">        <span class="number">3.14</span> * <span class="keyword">self</span>.radius * <span class="keyword">self</span>.radius</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">c</span> = Circle::<span class="title function_ invoke__">new</span>(<span class="number">2.0</span>);   <span class="comment">// è°ƒç”¨å…³è”å‡½æ•°</span></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;é¢ç§¯æ˜¯ &#123;&#125;&quot;</span>, c.<span class="title function_ invoke__">area</span>()); <span class="comment">// è°ƒç”¨æ–¹æ³•</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>æ²¡æœ‰ <code>self</code>ï¼Œä»£è¡¨è¿™ä¸ªå‡½æ•°<strong>å’Œå®ä¾‹æ²¡å…³ç³»</strong></li>
<li>è°ƒç”¨æ–¹å¼æ˜¯é€šè¿‡ç±»å‹åï¼š<code>Pets::print(&amp;dog)</code></li>
</ul>
<p>å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆ Java&#x2F;C++&#x2F;Python ä¸­çš„ â€œé™æ€æ–¹æ³•â€ã€‚</p>
<h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><ol>
<li>æ™®é€šå‡½æ•°ä¸è¿› implï¼Œå“ªé‡Œéƒ½èƒ½è°ƒï¼›</li>
<li>æ–¹æ³•å¿…é¡»æœ‰ selfï¼Œç”¨å¯¹è±¡æ¥è°ƒï¼›</li>
<li>å…³è”å‡½æ•°æ—  selfï¼Œç”¨ç±»å‹æ¥æ‰¾ã€‚</li>
<li><code>impl å—</code> ä¸­çš„åç§°ï¼Œå¿…é¡»æ˜¯ä½ è¦ç»™å®ƒå®ç°æ–¹æ³•çš„ç±»å‹åã€‚å¦‚æœä½ æƒ³ç»™ <code>Person</code> ç±»å‹æ·»åŠ æ–¹æ³•ï¼Œé‚£ <code>impl</code> åé¢å°±å¿…é¡»å†™ <code>Person</code>ã€‚</li>
</ol>
<h3 id="selfã€-self-å’Œ-mut-self"><a href="#selfã€-self-å’Œ-mut-self" class="headerlink" title="selfã€&amp;self å’Œ &amp;mut self"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/method.html#selfself-%E5%92%8C-mut-self"><font style="color:rgb(0, 0, 0);">selfã€&amp;self å’Œ &amp;mut self</font></a></h3><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#[derive(Debug)]</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Rectangle</span> &#123;</span><br><span class="line">    width: <span class="type">u32</span>,</span><br><span class="line">    height: <span class="type">u32</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">Rectangle</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">area</span>(&amp;<span class="keyword">self</span>) <span class="punctuation">-&gt;</span> <span class="type">u32</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.width * <span class="keyword">self</span>.height</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">rect1</span> = Rectangle &#123; width: <span class="number">30</span>, height: <span class="number">50</span> &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">println!</span>(</span><br><span class="line">        <span class="string">&quot;The area of the rectangle is &#123;&#125; square pixels.&quot;</span>,</span><br><span class="line">        rect1.<span class="title function_ invoke__">area</span>()</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>self</code><font style="color:rgb(0, 0, 0);"> è¡¨ç¤º </font><code>Rectangle</code><font style="color:rgb(0, 0, 0);"> çš„æ‰€æœ‰æƒè½¬ç§»åˆ°è¯¥æ–¹æ³•ä¸­ï¼Œè¿™ç§å½¢å¼ç”¨çš„è¾ƒå°‘</font></li>
<li><code>&lt;&amp;self</code><font style="color:rgb(0, 0, 0);"> </font><font style="color:rgb(0, 0, 0);">è¡¨ç¤ºè¯¥æ–¹æ³•å¯¹</font><font style="color:rgb(0, 0, 0);"> </font><code>Rectangle</code><font style="color:rgb(0, 0, 0);"> </font><font style="color:rgb(0, 0, 0);">çš„ä¸å¯å˜å€Ÿç”¨</font></li>
<li><code>&amp;mut self</code><font style="color:rgb(0, 0, 0);"> è¡¨ç¤ºå¯å˜å€Ÿç”¨</font></li>
<li><code>Self</code><font style="color:rgb(0, 0, 0);"> æŒ‡ä»£è¢«å®ç°æ–¹æ³•çš„ç»“æ„ä½“ç±»å‹</font></li>
</ul>
<h3 id="æ–¹æ³•åè·Ÿç»“æ„ä½“å­—æ®µåç›¸åŒ"><a href="#æ–¹æ³•åè·Ÿç»“æ„ä½“å­—æ®µåç›¸åŒ" class="headerlink" title="æ–¹æ³•åè·Ÿç»“æ„ä½“å­—æ®µåç›¸åŒ"></a>æ–¹æ³•åè·Ÿç»“æ„ä½“å­—æ®µåç›¸åŒ</h3><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">impl</span> <span class="title class_">Rectangle</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">width</span>(&amp;<span class="keyword">self</span>) <span class="punctuation">-&gt;</span> <span class="type">bool</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.width &gt; <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">new</span>(width:<span class="type">u32</span>,height:<span class="type">u32</span>)<span class="punctuation">-&gt;</span><span class="keyword">Self</span>&#123;</span><br><span class="line">        Rectangle&#123;width,height&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">rect1</span> = Rectangle &#123;</span><br><span class="line">        width: <span class="number">30</span>,</span><br><span class="line">        height: <span class="number">50</span>,</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> rect1.<span class="title function_ invoke__">width</span>() &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;The rectangle has a nonzero width; it is &#123;&#125;&quot;</span>, rect1.width);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><font style="color:rgb(0, 0, 0);">ä½¿ç”¨ </font><code>rect1.width()</code><font style="color:rgb(0, 0, 0);"> æ—¶ï¼ŒRust çŸ¥é“æˆ‘ä»¬è°ƒç”¨çš„æ˜¯å®ƒçš„æ–¹æ³•ï¼Œå¦‚æœä½¿ç”¨ </font><code>rect1.width</code><font style="color:rgb(0, 0, 0);">ï¼Œåˆ™æ˜¯è®¿é—®å®ƒçš„å­—æ®µ</font></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/06/29/%E6%96%B9%E6%B3%95/" data-id="cmckkof27000gqrqwgsjz2xwg" data-title="æ–¹æ³•" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Rust/" rel="tag">Rust</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-æ¨¡å¼åŒ¹é…" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/06/28/%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D/" class="article-date">
  <time class="dt-published" datetime="2025-06-28T08:13:24.000Z" itemprop="datePublished">2025-06-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/06/28/%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D/">æ¨¡å¼åŒ¹é…</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="match"><a href="#match" class="headerlink" title="match"></a>match</h3><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">direction</span> = Direction::Down;</span><br><span class="line">    <span class="keyword">match</span>  direction &#123;</span><br><span class="line">        Direction::Up =&gt; <span class="built_in">println!</span>(<span class="string">&quot;Up&quot;</span>),</span><br><span class="line">        _=&gt;<span class="built_in">println!</span>(<span class="string">&quot;other&quot;</span>),</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Direction</span> &#123;</span><br><span class="line">    Up,</span><br><span class="line">    Down,</span><br><span class="line">    Left,</span><br><span class="line">    Right,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>match</code><font style="color:rgb(0, 0, 0);"> çš„åŒ¹é…å¿…é¡»è¦ç©·ä¸¾å‡ºæ‰€æœ‰å¯èƒ½ï¼Œå› æ­¤è¿™é‡Œç”¨ </font><code>_</code><font style="color:rgb(0, 0, 0);"> æ¥ä»£è¡¨æœªåˆ—å‡ºçš„æ‰€æœ‰å¯èƒ½æ€§</font></li>
<li><code>match</code><font style="color:rgb(0, 0, 0);"> </font><font style="color:rgb(0, 0, 0);">çš„æ¯ä¸€ä¸ªåˆ†æ”¯éƒ½å¿…é¡»æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œä¸”æ‰€æœ‰åˆ†æ”¯çš„è¡¨è¾¾å¼æœ€ç»ˆè¿”å›å€¼çš„ç±»å‹å¿…é¡»ç›¸åŒ</font></li>
<li><strong><font style="color:rgb(0, 0, 0);">X | Y</font></strong><font style="color:rgb(0, 0, 0);">ï¼Œç±»ä¼¼é€»è¾‘è¿ç®—ç¬¦ </font><code>æˆ–</code><font style="color:rgb(0, 0, 0);">ï¼Œä»£è¡¨è¯¥åˆ†æ”¯å¯ä»¥åŒ¹é… </font><code>X</code><font style="color:rgb(0, 0, 0);"> ä¹Ÿå¯ä»¥åŒ¹é… </font><code>Y</code><font style="color:rgb(0, 0, 0);">ï¼Œåªè¦æ»¡è¶³ä¸€ä¸ªå³å¯</font></li>
</ul>
<h4 id="matchåŒ¹é…"><a href="#matchåŒ¹é…" class="headerlink" title="matchåŒ¹é…"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/match-pattern/match-if-let.html#match-%E5%8C%B9%E9%85%8D"><font style="color:rgb(0, 0, 0);">matchåŒ¹é…</font></a></h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">match</span> target &#123;</span><br><span class="line">    æ¨¡å¼<span class="number">1</span> =&gt; è¡¨è¾¾å¼<span class="number">1</span>,</span><br><span class="line">    æ¨¡å¼<span class="number">2</span> =&gt; &#123;</span><br><span class="line">        è¯­å¥<span class="number">1</span>;</span><br><span class="line">        è¯­å¥<span class="number">2</span>;</span><br><span class="line">        è¡¨è¾¾å¼<span class="number">2</span></span><br><span class="line">    &#125;,</span><br><span class="line">    _ =&gt; è¡¨è¾¾å¼<span class="number">3</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¨¡å¼2ä¸¾ä¾‹</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">num</span> = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">result</span> = <span class="keyword">match</span> num &#123;</span><br><span class="line">        <span class="number">1</span> =&gt; <span class="string">&quot;one&quot;</span>,</span><br><span class="line">        <span class="number">2</span> =&gt; &#123;</span><br><span class="line">            <span class="built_in">println!</span>(<span class="string">&quot;åŒ¹é…åˆ°æ•°å­— 2&quot;</span>);</span><br><span class="line">            <span class="keyword">let</span> <span class="variable">msg</span> = <span class="string">&quot;two&quot;</span>;</span><br><span class="line">            msg  <span class="comment">// è¿”å›å€¼æ˜¯ &quot;two&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        _ =&gt; <span class="string">&quot;other&quot;</span>,</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;result = &#123;&#125;&quot;</span>, result); <span class="comment">// è¾“å‡ºï¼šresult = two</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä½¿ç”¨matchè¡¨è¾¾å¼èµ‹å€¼"><a href="#ä½¿ç”¨matchè¡¨è¾¾å¼èµ‹å€¼" class="headerlink" title="ä½¿ç”¨matchè¡¨è¾¾å¼èµ‹å€¼"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/match-pattern/match-if-let.html#%E4%BD%BF%E7%94%A8-match-%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%B5%8B%E5%80%BC"><font style="color:rgb(0, 0, 0);">ä½¿ç”¨matchè¡¨è¾¾å¼èµ‹å€¼</font></a></h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">IpAddr</span> &#123;</span><br><span class="line">   Ipv4,</span><br><span class="line">   Ipv6</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">ip1</span> = IpAddr::Ipv6;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">ip_str</span> = <span class="keyword">match</span> ip1 &#123;</span><br><span class="line">        IpAddr::Ipv4 =&gt; <span class="string">&quot;127.0.0.1&quot;</span>,</span><br><span class="line">        _ =&gt; <span class="string">&quot;::1&quot;</span>,</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, ip_str);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><font style="color:rgb(0, 0, 0);">åŒ¹é…åˆ° </font><code>_</code><font style="color:rgb(0, 0, 0);"> åˆ†æ”¯ï¼Œæ‰€ä»¥å°† </font><code>&quot;::1&quot;</code><font style="color:rgb(0, 0, 0);"> èµ‹å€¼ç»™äº† </font><code>ip_str</code></p>
<h4 id="æ¨¡å¼ç»‘å®š"><a href="#æ¨¡å¼ç»‘å®š" class="headerlink" title="æ¨¡å¼ç»‘å®š"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/match-pattern/match-if-let.html#%E6%A8%A1%E5%BC%8F%E7%BB%91%E5%AE%9A"><font style="color:rgb(0, 0, 0);">æ¨¡å¼ç»‘å®š</font></a></h4><p><font style="color:rgb(0, 0, 0);">æ¨¡å¼åŒ¹é…çš„å¦å¤–ä¸€ä¸ªé‡è¦åŠŸèƒ½æ˜¯ä»æ¨¡å¼ä¸­å–å‡ºç»‘å®šçš„å€¼</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">   <span class="keyword">let</span> <span class="variable">coin</span> =  Coin::<span class="title function_ invoke__">Quarter</span>(UsState::Alabama);</span><br><span class="line">   <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>,<span class="title function_ invoke__">value</span>(coin))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">value</span>(coin:Coin)<span class="punctuation">-&gt;</span><span class="type">u8</span>&#123;</span><br><span class="line">    <span class="keyword">match</span> coin &#123;</span><br><span class="line">        Coin::<span class="title function_ invoke__">Quarter</span>(state)=&gt;&#123;</span><br><span class="line">            <span class="built_in">println!</span>(<span class="string">&quot;&#123;:?&#125;&quot;</span>,state);</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;,</span><br><span class="line">        _=&gt;&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#[derive(Debug)]</span></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">UsState</span> &#123;</span><br><span class="line">    Alabama,</span><br><span class="line">    Alaska,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Coin</span> &#123;</span><br><span class="line">    Penny,</span><br><span class="line">    Nickel,</span><br><span class="line">    Dime,</span><br><span class="line">    <span class="title function_ invoke__">Quarter</span>(UsState),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="é€šé…ç¬¦"><a href="#é€šé…ç¬¦" class="headerlink" title="_é€šé…ç¬¦"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/match-pattern/match-if-let.html#_-%E9%80%9A%E9%85%8D%E7%AC%A6"><font style="color:rgb(0, 0, 0);">_é€šé…ç¬¦</font></a></h4><p>åœ¨ Rust ä¸­ï¼Œ<code>_</code> è¢«ç§°ä¸º<strong>é€šé…ç¬¦æ¨¡å¼</strong>ï¼Œå®ƒçš„ä½œç”¨æ˜¯ï¼š</p>
<p>âœ… <strong>åŒ¹é…ä»»æ„å€¼ï¼Œä½†</strong><br>âŒ <strong>ä¸ä¼šç»‘å®šå˜é‡ï¼Œä¹Ÿä¸ä¼šä½¿ç”¨è¿™ä¸ªå€¼ã€‚</strong></p>
<table>
<thead>
<tr>
<th><strong>ç”¨æ³•åœºæ™¯</strong></th>
<th><strong>ä½œç”¨</strong></th>
</tr>
</thead>
<tbody><tr>
<td><code>match</code> çš„é»˜è®¤åˆ†æ”¯</td>
<td><strong>åŒ¹é…æ‰€æœ‰å‰©ä¸‹çš„æƒ…å†µ</strong></td>
</tr>
<tr>
<td><strong>è§£æ„æ—¶å¿½ç•¥æŸäº›å­—æ®µ</strong></td>
<td><strong>åªå–ä½ å…³å¿ƒçš„å€¼ï¼Œå¿½ç•¥å…¶ä»–</strong></td>
</tr>
<tr>
<td><strong>æŠ‘åˆ¶ unused å˜é‡è­¦å‘Š</strong></td>
<td><strong>ä½ å£°æ˜äº†å˜é‡ä½†æš‚æ—¶ä¸ç”¨</strong></td>
</tr>
</tbody></table>
<h4 id="æ¨¡å¼å®ˆå«"><a href="#æ¨¡å¼å®ˆå«" class="headerlink" title="æ¨¡å¼å®ˆå«"></a>æ¨¡å¼å®ˆå«</h4><p><strong>æ¨¡å¼å®ˆå«</strong>æ˜¯å†™åœ¨ <code>match</code> åˆ†æ”¯åé¢çš„é¢å¤–æ¡ä»¶ï¼Œç”¨ <code>if</code> å¼•å…¥ï¼Œèµ·åˆ°â€œè¿‡æ»¤å™¨â€çš„ä½œç”¨ã€‚</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">x</span> = <span class="title function_ invoke__">Some</span>(<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">match</span> x &#123;</span><br><span class="line">    <span class="title function_ invoke__">Some</span>(i) <span class="keyword">if</span> i &gt; <span class="number">3</span> =&gt; <span class="built_in">println!</span>(<span class="string">&quot;Big number: &#123;&#125;&quot;</span>, i),</span><br><span class="line">    <span class="title function_ invoke__">Some</span>(i) =&gt; <span class="built_in">println!</span>(<span class="string">&quot;Small number: &#123;&#125;&quot;</span>, i),</span><br><span class="line">    <span class="literal">None</span> =&gt; <span class="built_in">println!</span>(<span class="string">&quot;Got nothing&quot;</span>),</span><br><span class="line">&#125;	</span><br></pre></td></tr></table></figure>

<ul>
<li><code>if i &gt; 3</code> å°±æ˜¯ä¸€ä¸ª <strong>æ¨¡å¼å®ˆå«</strong></li>
<li>å®ƒåªæœ‰åœ¨æ¨¡å¼ <code>Some(i)</code> åŒ¹é…æˆåŠŸåï¼Œ<strong>å†åˆ¤æ–­ <strong><code>**i &gt; 3**</code></strong> æ˜¯å¦ä¸º true</strong></li>
</ul>
<h4 id="æ¨¡å¼å®ˆå«è¿­ä»£å™¨"><a href="#æ¨¡å¼å®ˆå«è¿­ä»£å™¨" class="headerlink" title="æ¨¡å¼å®ˆå«è¿­ä»£å™¨"></a>æ¨¡å¼å®ˆå«è¿­ä»£å™¨</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">a</span> = <span class="built_in">vec!</span>[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">b</span> = <span class="built_in">vec!</span>[<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>];</span><br><span class="line">    <span class="keyword">for</span> (a, b) <span class="keyword">in</span> a.<span class="title function_ invoke__">iter</span>().<span class="title function_ invoke__">zip</span>(b.<span class="title function_ invoke__">iter</span>()) &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125; &#123;&#125;-&gt;&#123;&#125;&quot;</span>, a, b, a + b);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">æ‰“å°ç»“æœ</span><br><span class="line"><span class="number">1</span> <span class="number">4</span><span class="punctuation">-&gt;</span><span class="number">5</span></span><br><span class="line"><span class="number">2</span> <span class="number">5</span><span class="punctuation">-&gt;</span><span class="number">7</span></span><br><span class="line"><span class="number">3</span> <span class="number">6</span><span class="punctuation">-&gt;</span><span class="number">9</span></span><br></pre></td></tr></table></figure>

<h3 id="if-letåŒ¹é…"><a href="#if-letåŒ¹é…" class="headerlink" title="if letåŒ¹é…"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/match-pattern/match-if-let.html#if-let-%E5%8C%B9%E9%85%8D"><font style="color:rgb(0, 0, 0);">if letåŒ¹é…</font></a></h3><p><font style="color:rgb(0, 0, 0);">æœ‰æ—¶ä¼šé‡åˆ°åªæœ‰ä¸€ä¸ªæ¨¡å¼çš„å€¼éœ€è¦è¢«å¤„ç†ï¼Œå…¶å®ƒå€¼ç›´æ¥å¿½ç•¥çš„åœºæ™¯ï¼Œå¦‚æœç”¨ </font><code>match</code><font style="color:rgb(0, 0, 0);"> æ¥å¤„ç†å°±è¦å†™æˆä¸‹é¢è¿™æ ·ï¼š</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">v</span> = <span class="title function_ invoke__">Some</span>(<span class="number">3u8</span>);</span><br><span class="line"><span class="keyword">match</span> v &#123;</span><br><span class="line">    <span class="title function_ invoke__">Some</span>(<span class="number">3</span>) =&gt; <span class="built_in">println!</span>(<span class="string">&quot;three&quot;</span>),</span><br><span class="line">    _ =&gt; (),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥ä½¿ç”¨if letåŒ¹é…</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> <span class="variable">Some</span>(<span class="number">3</span>) = v &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;three&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><font style="color:rgb(0, 0, 0);">å½“ä½ åªè¦åŒ¹é…ä¸€ä¸ªæ¡ä»¶ï¼Œä¸”å¿½ç•¥å…¶ä»–æ¡ä»¶æ—¶å°±ç”¨ </font></strong><code>if let</code><strong><font style="color:rgb(0, 0, 0);"> ï¼Œå¦åˆ™éƒ½ç”¨ </font></strong><code>match</code><font style="color:rgb(0, 0, 0);">ã€‚</font></p>
<h3 id="matches-å®"><a href="#matches-å®" class="headerlink" title="matches!å®"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/match-pattern/match-if-let.html#matches%E5%AE%8F"><font style="color:rgb(0, 0, 0);">matches!å®</font></a></h3><p><font style="color:rgb(0, 0, 0);">å®ƒå¯ä»¥å°†ä¸€ä¸ªè¡¨è¾¾å¼è·Ÿæ¨¡å¼è¿›è¡ŒåŒ¹é…ï¼Œç„¶åè¿”å›åŒ¹é…çš„ç»“æœ </font><code>true</code><font style="color:rgb(0, 0, 0);"> or </font><code>false</code><font style="color:rgb(0, 0, 0);">ã€‚</font></p>
<h4 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a><font style="color:rgb(0, 0, 0);">è¯­æ³•</font></h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">matches!(å€¼, æ¨¡å¼)</span><br></pre></td></tr></table></figure>

<ul>
<li><code>match</code>: å¤šç§åˆ†æ”¯é€»è¾‘å¤„ç†</li>
<li><code>matches!</code>: åˆ¤æ–­æ˜¯å¦ç¬¦åˆæŸç§æ¨¡å¼ï¼Œç»“æœæ˜¯å¸ƒå°”å€¼</li>
</ul>
<h4 id="åŒ¹é…æŸä¸ªæšä¸¾å˜ä½“"><a href="#åŒ¹é…æŸä¸ªæšä¸¾å˜ä½“" class="headerlink" title="åŒ¹é…æŸä¸ªæšä¸¾å˜ä½“"></a>åŒ¹é…æŸä¸ªæšä¸¾å˜ä½“</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">MyEnum</span> &#123;</span><br><span class="line">    A,</span><br><span class="line">    B,</span><br><span class="line">    <span class="title function_ invoke__">C</span>(<span class="type">i32</span>),</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="variable">val</span> = MyEnum::<span class="title function_ invoke__">C</span>(<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> matches!(val, MyEnum::<span class="title function_ invoke__">C</span>(_)) &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;æ˜¯ C å˜ä½“ï¼&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç»“åˆ-if-ä½¿ç”¨"><a href="#ç»“åˆ-if-ä½¿ç”¨" class="headerlink" title="ç»“åˆ if ä½¿ç”¨"></a>ç»“åˆ <code>if</code> ä½¿ç”¨</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">x</span>: <span class="type">Option</span>&lt;<span class="type">i32</span>&gt; = <span class="title function_ invoke__">Some</span>(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> matches!(x, <span class="title function_ invoke__">Some</span>(_)) &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;æœ‰å€¼ï¼&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="ç”¨ä½œå¸ƒå°”è¡¨è¾¾å¼"><a href="#ç”¨ä½œå¸ƒå°”è¡¨è¾¾å¼" class="headerlink" title="ç”¨ä½œå¸ƒå°”è¡¨è¾¾å¼"></a>ç”¨ä½œå¸ƒå°”è¡¨è¾¾å¼</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">x</span> = <span class="title function_ invoke__">Some</span>(<span class="number">3</span>);</span><br><span class="line"><span class="keyword">let</span> <span class="variable">is_none</span> = matches!(x, <span class="literal">None</span>);  <span class="comment">// false</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="å¸¦æ¡ä»¶åŒ¹é…ï¼ˆå®ˆå«ï¼‰"><a href="#å¸¦æ¡ä»¶åŒ¹é…ï¼ˆå®ˆå«ï¼‰" class="headerlink" title="å¸¦æ¡ä»¶åŒ¹é…ï¼ˆå®ˆå«ï¼‰"></a>å¸¦æ¡ä»¶åŒ¹é…ï¼ˆå®ˆå«ï¼‰</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">x</span> = <span class="title function_ invoke__">Some</span>(<span class="number">4</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> matches!(x, <span class="title function_ invoke__">Some</span>(v) <span class="keyword">if</span> v &gt; <span class="number">3</span>) &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;åŒ¹é…åˆ°å¤§äº 3 çš„ Some&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><table>
<thead>
<tr>
<th>ç‰¹æ€§</th>
<th><code>match</code> è¯­å¥</th>
<th><code>matches!</code> å®</th>
</tr>
</thead>
<tbody><tr>
<td>è¿”å›ç±»å‹</td>
<td>ä»»æ„ç±»å‹ï¼ˆè¡¨è¾¾å¼ï¼‰</td>
<td><code>bool</code>ï¼ˆtrue &#x2F; falseï¼‰</td>
</tr>
<tr>
<td>ç”¨äº</td>
<td>æ‰§è¡Œä¸åŒé€»è¾‘</td>
<td>åˆ¤æ–­æŸä¸ªå€¼æ˜¯å¦åŒ¹é…æŸä¸ªæ¨¡å¼</td>
</tr>
<tr>
<td>å¯å¦å†™é€»è¾‘å—</td>
<td>âœ… å¯ä»¥å†™ <code>&#123;&#125;</code> å¤šè¡Œ</td>
<td>âŒ ä¸èƒ½ï¼Œåªèƒ½åˆ¤æ–­</td>
</tr>
<tr>
<td>æ˜¯å¦ç®€æ´</td>
<td>âŒ ç›¸å¯¹ç¹ç</td>
<td>âœ… éå¸¸ç®€æ´</td>
</tr>
</tbody></table>
<h3 id="å˜é‡é®è”½"><a href="#å˜é‡é®è”½" class="headerlink" title="å˜é‡é®è”½"></a>å˜é‡é®è”½</h3><h4 id="if-let-Some-age-age-ä¸­ï¼Œä¸ºä»€ä¹ˆè¿˜èƒ½æ‰“å°å‡º-age-30ï¼Ÿ"><a href="#if-let-Some-age-age-ä¸­ï¼Œä¸ºä»€ä¹ˆè¿˜èƒ½æ‰“å°å‡º-age-30ï¼Ÿ" class="headerlink" title="if let Some(age) = age ä¸­ï¼Œä¸ºä»€ä¹ˆè¿˜èƒ½æ‰“å°å‡º age = 30ï¼Ÿ"></a><code>if let Some(age) = age</code> ä¸­ï¼Œä¸ºä»€ä¹ˆè¿˜èƒ½æ‰“å°å‡º <code>age = 30</code>ï¼Ÿ</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">   <span class="keyword">let</span> <span class="variable">age</span> = <span class="title function_ invoke__">Some</span>(<span class="number">30</span>);</span><br><span class="line">   <span class="built_in">println!</span>(<span class="string">&quot;åœ¨åŒ¹é…å‰ï¼Œageæ˜¯&#123;:?&#125;&quot;</span>, age);</span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span> <span class="keyword">let</span> <span class="variable">Some</span>(age) = age &#123;</span><br><span class="line">       <span class="built_in">println!</span>(<span class="string">&quot;åŒ¹é…å‡ºæ¥çš„ageæ˜¯&#123;&#125;&quot;</span>, age);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="built_in">println!</span>(<span class="string">&quot;åœ¨åŒ¹é…åï¼Œageæ˜¯&#123;:?&#125;&quot;</span>, age);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¿™ä¸€å¥å…¶å®åšäº† <strong>ä¸¤ä»¶äº‹</strong>ï¼š</p>
<ol>
<li><strong>åŒ¹é…</strong>å¤–å±‚çš„ <code>age</code>ï¼ˆå®ƒæ˜¯ <code>Option&lt;i32&gt;</code>ï¼Œå€¼ä¸º <code>Some(30)</code>ï¼‰</li>
<li>**åˆ›å»ºä¸€ä¸ªæ–°çš„å±€éƒ¨å˜é‡ **<code>**age**</code>ï¼Œå®ƒçš„ç±»å‹æ˜¯ <code>i32</code>ï¼Œå€¼æ˜¯ 30</li>
</ol>
<p>è¿™å°±å«åš <strong>å˜é‡é®è”½ï¼ˆshadowingï¼‰</strong>ï¼š</p>
<ul>
<li><code>if let</code> é‡Œçš„ <code>age</code><strong>æ˜¯æ–°çš„å˜é‡</strong></li>
<li>å®ƒ **æš‚æ—¶é®è”½äº†å¤–å±‚çš„ **<code>**age**</code></li>
<li>åŒ¹é…ä»£ç å—å¤–è¿˜æ˜¯åŸæ¥çš„ <code>Option&lt;i32&gt;</code> ç±»å‹</li>
</ul>
<h3 id="ç»‘å®šç¬¦"><a href="#ç»‘å®šç¬¦" class="headerlink" title="@ç»‘å®šç¬¦"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/match-pattern/all-patterns.html#%E7%BB%91%E5%AE%9A"><font style="color:rgb(0, 0, 0);">@ç»‘å®š</font></a>ç¬¦</h3><p> Rust é‡Œçš„ <code>@</code> æ˜¯â€œ<strong>ä¸€è¾¹åŒ¹é…ï¼Œä¸€è¾¹å‘½å</strong>â€çš„å·¥å…·ã€‚  </p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">age</span> = <span class="title function_ invoke__">Some</span>(<span class="number">18</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> <span class="variable">Some</span>(x @ <span class="number">13</span>..=<span class="number">19</span>) = age &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;é’å°‘å¹´ï¼š&#123;&#125;&quot;</span>, n);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>å†™æ³•</th>
<th>æ„æ€</th>
</tr>
</thead>
<tbody><tr>
<td><code>x @ æ¡ä»¶</code></td>
<td>å¦‚æœæ»¡è¶³â€œæ¡ä»¶â€ï¼Œå°±èµ·åå« <code>x</code></td>
</tr>
<tr>
<td><code>Some(x @ ..)</code></td>
<td>åŒ¹é… <code>Some</code>ï¼Œè§£å‡ºå€¼å« <code>x</code></td>
</tr>
</tbody></table>
<h4 id="å‰ç»‘å®šåè§£æ„"><a href="#å‰ç»‘å®šåè§£æ„" class="headerlink" title="@å‰ç»‘å®šåè§£æ„"></a>@å‰ç»‘å®šåè§£æ„</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#[derive(Debug)]</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Point</span> &#123;</span><br><span class="line">    x: <span class="type">i32</span>,</span><br><span class="line">    y: <span class="type">i32</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="comment">// ç»‘å®šæ–°å˜é‡ `p`ï¼ŒåŒæ—¶å¯¹ `Point` è¿›è¡Œè§£æ„</span></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">p</span> @ Point &#123;x: px, y: py &#125; = Point &#123;x: <span class="number">10</span>, y: <span class="number">23</span>&#125;;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;x: &#123;&#125;, y: &#123;&#125;&quot;</span>, px, py);</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;:?&#125;&quot;</span>, p);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">point</span> = Point &#123;x: <span class="number">10</span>, y: <span class="number">5</span>&#125;;</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> <span class="variable">p</span> @ Point &#123;x: <span class="number">10</span>, y&#125; = point &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;x is 10 and y is &#123;&#125; in &#123;:?&#125;&quot;</span>, y, p);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;x was not 10 :(&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="åºåˆ—åŒ–-ååºåˆ—åŒ–"><a href="#åºåˆ—åŒ–-ååºåˆ—åŒ–" class="headerlink" title="åºåˆ—åŒ–-&gt;ååºåˆ—åŒ–"></a>åºåˆ—åŒ–-&gt;ååºåˆ—åŒ–</h3><p>å¼•å…¥ä¾èµ–</p>
<figure class="highlight toml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[dependencies]</span></span><br><span class="line"><span class="attr">serde</span> = &#123; version = <span class="string">&quot;1.0&quot;</span>, features = [<span class="string">&quot;derive&quot;</span>] &#125;</span><br><span class="line"><span class="attr">serde_json</span> = <span class="string">&quot;1.0&quot;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>serde</code> æ˜¯ <strong>åºåˆ—åŒ–æ¡†æ¶çš„æ ¸å¿ƒ</strong>ï¼ˆè´Ÿè´£ trait å®šä¹‰ã€æ¨å¯¼æœºåˆ¶ï¼‰</li>
<li><code>serde_json</code> æ˜¯ <strong>æ”¯æŒ JSON æ ¼å¼çš„å…·ä½“å®ç°</strong></li>
</ul>
<h4 id="serde"><a href="#serde" class="headerlink" title="serde"></a><code>serde</code></h4><p>æä¾›äº† <code>Serialize</code>ã€<code>Deserialize</code> è¿™ä¸¤ä¸ªæ ¸å¿ƒ traitï¼Œè¿˜æœ‰å® <code>#[derive(Serialize, Deserialize)]</code></p>
<h4 id="serde-json"><a href="#serde-json" class="headerlink" title="serde_json"></a>serde_json</h4><p>æä¾›äº†å…·ä½“çš„ JSON æ ¼å¼å¤„ç†å™¨ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li><code>to_string()</code></li>
<li><code>from_str()</code></li>
<li><code>Value</code> ç±»å‹ï¼ˆç±»ä¼¼ JS çš„åŠ¨æ€ JSON ç±»å‹ï¼‰</li>
</ul>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> serde::&#123;Deserialize, Serialize&#125;;</span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">info</span> = Information &#123;</span><br><span class="line">        name: <span class="string">&quot;John&quot;</span>.<span class="title function_ invoke__">to_string</span>(),</span><br><span class="line">        age: <span class="number">20</span>,</span><br><span class="line">        email: <span class="string">&quot;john@example.com&quot;</span>.<span class="title function_ invoke__">to_string</span>(),</span><br><span class="line">        address: Address &#123;</span><br><span class="line">            strees: <span class="string">&quot;123 Main St&quot;</span>.<span class="title function_ invoke__">to_string</span>(),</span><br><span class="line">            city: <span class="string">&quot;New York&quot;</span>.<span class="title function_ invoke__">to_string</span>(),</span><br><span class="line">        &#125;,</span><br><span class="line">        phone_number: <span class="built_in">vec!</span>[<span class="string">&quot;123-456-7890&quot;</span>.<span class="title function_ invoke__">to_string</span>(), <span class="string">&quot;098-765-4321&quot;</span>.<span class="title function_ invoke__">to_string</span>()],</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">str_info</span> = serde_json::<span class="title function_ invoke__">to_string_pretty</span>(&amp;info).<span class="title function_ invoke__">unwrap</span>();</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, str_info);</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">infomation</span>: Information = serde_json::<span class="title function_ invoke__">from_str</span>(&amp;str_info).<span class="title function_ invoke__">unwrap</span>();</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;:?&#125;&quot;</span>, infomation);</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#[derive(Serialize, Deserialize, Debug)]</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Information</span> &#123;</span><br><span class="line">    name: <span class="type">String</span>,</span><br><span class="line">    age: <span class="type">i32</span>,</span><br><span class="line">    email: <span class="type">String</span>,</span><br><span class="line">    address: Address,</span><br><span class="line">    phone_number: <span class="type">Vec</span>&lt;<span class="type">String</span>&gt;,</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#[derive(Serialize, Deserialize, Debug)]</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Address</span> &#123;</span><br><span class="line">    strees: <span class="type">String</span>,</span><br><span class="line">    city: <span class="type">String</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/06/28/%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D/" data-id="cmckkof29000kqrqw4pfe3xeg" data-title="æ¨¡å¼åŒ¹é…" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Rust/" rel="tag">Rust</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-ç»“æ„ä½“" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/06/27/%E7%BB%93%E6%9E%84%E4%BD%93/" class="article-date">
  <time class="dt-published" datetime="2025-06-27T01:12:57.000Z" itemprop="datePublished">2025-06-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/06/27/%E7%BB%93%E6%9E%84%E4%BD%93/">ç»“æ„ä½“</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="ç»“æ„ä½“è¯­æ³•"><a href="#ç»“æ„ä½“è¯­æ³•" class="headerlink" title="ç»“æ„ä½“è¯­æ³•"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/compound-type/struct.html#%E7%BB%93%E6%9E%84%E4%BD%93%E8%AF%AD%E6%B3%95"><font style="color:rgb(0, 0, 0);">ç»“æ„ä½“è¯­æ³•</font></a></h3><h4 id="å®šä¹‰ç»“æ„ä½“"><a href="#å®šä¹‰ç»“æ„ä½“" class="headerlink" title="å®šä¹‰ç»“æ„ä½“"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/compound-type/struct.html#%E5%AE%9A%E4%B9%89%E7%BB%93%E6%9E%84%E4%BD%93"><font style="color:rgb(0, 0, 0);">å®šä¹‰ç»“æ„ä½“</font></a></h4><p><font style="color:rgb(0, 0, 0);">ä¸€ä¸ªç»“æ„ä½“ç”±å‡ éƒ¨åˆ†ç»„æˆï¼š</font></p>
<ul>
<li><font style="color:rgb(0, 0, 0);">é€šè¿‡å…³é”®å­—</font><font style="color:rgb(0, 0, 0);"> </font><code>&gt;struct</code><font style="color:rgb(0, 0, 0);"> </font><font style="color:rgb(0, 0, 0);">å®šä¹‰</font></li>
<li><font style="color:rgb(0, 0, 0);">ä¸€ä¸ªæ¸…æ™°æ˜ç¡®çš„ç»“æ„ä½“</font><font style="color:rgb(0, 0, 0);"> </font><code>åç§°</code></li>
<li><font style="color:rgb(0, 0, 0);">å‡ ä¸ªæœ‰åå­—çš„ç»“æ„ä½“ </font><code>å­—æ®µ</code></li>
</ul>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    active: <span class="type">bool</span>,</span><br><span class="line">    username: <span class="type">String</span>,</span><br><span class="line">    email: <span class="type">String</span>,</span><br><span class="line">    sign_in_count: <span class="type">u64</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="åˆ›å»ºç»“æ„ä½“å®ä¾‹"><a href="#åˆ›å»ºç»“æ„ä½“å®ä¾‹" class="headerlink" title="åˆ›å»ºç»“æ„ä½“å®ä¾‹"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/compound-type/struct.html#%E5%88%9B%E5%BB%BA%E7%BB%93%E6%9E%84%E4%BD%93%E5%AE%9E%E4%BE%8B"><font style="color:rgb(0, 0, 0);">åˆ›å»ºç»“æ„ä½“å®ä¾‹</font></a></h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">user1</span> = User &#123;</span><br><span class="line">    email: <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;someone@example.com&quot;</span>),</span><br><span class="line">    username: <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;someusername123&quot;</span>),</span><br><span class="line">    active: <span class="literal">true</span>,</span><br><span class="line">    sign_in_count: <span class="number">1</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol>
<li><font style="color:rgb(0, 0, 0);">åˆå§‹åŒ–å®ä¾‹æ—¶ï¼Œ</font><strong><font style="color:rgb(0, 0, 0);">æ¯ä¸ªå­—æ®µ</font></strong><font style="color:rgb(0, 0, 0);">éƒ½éœ€è¦è¿›è¡Œåˆå§‹åŒ–</font></li>
<li><font style="color:rgb(0, 0, 0);">åˆå§‹åŒ–æ—¶çš„å­—æ®µé¡ºåº</font><strong><font style="color:rgb(0, 0, 0);">ä¸éœ€è¦</font></strong><font style="color:rgb(0, 0, 0);">å’Œç»“æ„ä½“å®šä¹‰æ—¶çš„é¡ºåºä¸€è‡´</font></li>
</ol>
<h4 id="è®¿é—®ç»“æ„ä½“å­—æ®µ"><a href="#è®¿é—®ç»“æ„ä½“å­—æ®µ" class="headerlink" title="è®¿é—®ç»“æ„ä½“å­—æ®µ"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/compound-type/struct.html#%E8%AE%BF%E9%97%AE%E7%BB%93%E6%9E%84%E4%BD%93%E5%AD%97%E6%AE%B5"><font style="color:rgb(0, 0, 0);">è®¿é—®ç»“æ„ä½“å­—æ®µ</font></a></h4><p><font style="color:rgb(0, 0, 0);">é€šè¿‡ </font><code>.</code><font style="color:rgb(0, 0, 0);"> æ“ä½œç¬¦å³å¯è®¿é—®ç»“æ„ä½“å®ä¾‹å†…éƒ¨çš„å­—æ®µå€¼ï¼Œä¹Ÿå¯ä»¥ä¿®æ”¹å®ƒä»¬ï¼š</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯å˜çš„æ‰èƒ½è¿›è¡Œä¿®æ”¹</span></span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">user</span> = User &#123;</span><br><span class="line">        active: <span class="literal">true</span>,</span><br><span class="line">        username: <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;someusername123&quot;</span>),</span><br><span class="line">        email: <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;someone@example.com&quot;</span>),</span><br><span class="line">        sign_in_count: <span class="number">1</span>,</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    user.active = <span class="literal">false</span>;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, user.active)</span><br></pre></td></tr></table></figure>

<h4 id="ç»“æ„ä½“æ›´æ–°è¯­æ³•"><a href="#ç»“æ„ä½“æ›´æ–°è¯­æ³•" class="headerlink" title="ç»“æ„ä½“æ›´æ–°è¯­æ³•"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/compound-type/struct.html#%E7%BB%93%E6%9E%84%E4%BD%93%E6%9B%B4%E6%96%B0%E8%AF%AD%E6%B3%95"><font style="color:rgb(0, 0, 0);">ç»“æ„ä½“æ›´æ–°è¯­æ³•</font></a></h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">user2</span> = User &#123;</span><br><span class="line">      active: user1.active,</span><br><span class="line">      username: user1.username,</span><br><span class="line">      email: <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;another@example.com&quot;</span>),</span><br><span class="line">      sign_in_count: user1.sign_in_count,</span><br><span class="line">  &#125;;</span><br></pre></td></tr></table></figure>

<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">user2</span> = User &#123;</span><br><span class="line">      email: <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;another@example.com&quot;</span>),</span><br><span class="line">      ..user1</span><br><span class="line">  &#125;;</span><br></pre></td></tr></table></figure>

<p><code>..user1</code><font style="color:rgb(0, 0, 0);"> å¿…é¡»åœ¨ç»“æ„ä½“çš„å°¾éƒ¨ä½¿ç”¨ã€‚</font></p>
<p><font style="color:#DF2A3F;">æ³¨æ„:</font>user éƒ¨åˆ†å­—æ®µè½¬ç§»ç»™äº† user2,user çš„ username æ‰€æœ‰æƒè¿›è¡Œäº†è½¬ç§»,å¯¼è‡´ user ä¸­ username æ— æ³•ä½¿ç”¨</p>
<h3 id="å…ƒç»„ç»“æ„ä½“-Tuple-Struct"><a href="#å…ƒç»„ç»“æ„ä½“-Tuple-Struct" class="headerlink" title="å…ƒç»„ç»“æ„ä½“(Tuple Struct)"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/compound-type/struct.html#%E5%85%83%E7%BB%84%E7%BB%93%E6%9E%84%E4%BD%93tuple-struct"><font style="color:rgb(0, 0, 0);">å…ƒç»„ç»“æ„ä½“(Tuple Struct)</font></a></h3><p><font style="color:rgb(0, 0, 0);">ç»“æ„ä½“å¿…é¡»è¦æœ‰åç§°ï¼Œä½†æ˜¯ç»“æ„ä½“çš„å­—æ®µå¯ä»¥æ²¡æœ‰åç§°ï¼Œè¿™ç§ç»“æ„ä½“é•¿å¾—å¾ˆåƒå…ƒç»„ï¼Œå› æ­¤è¢«ç§°ä¸ºå…ƒç»„ç»“æ„ä½“ï¼Œä¾‹å¦‚ï¼š</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">Color</span>(<span class="type">i32</span>, <span class="type">i32</span>, <span class="type">i32</span>);</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">color</span> = <span class="title function_ invoke__">Color</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, color.<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å•å…ƒç»“æ„ä½“-Unit-like-Struct"><a href="#å•å…ƒç»“æ„ä½“-Unit-like-Struct" class="headerlink" title="å•å…ƒç»“æ„ä½“(Unit-like Struct)"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/compound-type/struct.html#%E5%8D%95%E5%85%83%E7%BB%93%E6%9E%84%E4%BD%93unit-like-struct"><font style="color:rgb(0, 0, 0);">å•å…ƒç»“æ„ä½“(Unit-like Struct)</font></a></h3><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> std::fmt::Display;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">AlwaysEqual</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">Display</span> <span class="keyword">for</span> <span class="title class_">AlwaysEqual</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">fmt</span>(&amp;<span class="keyword">self</span>, f: &amp;<span class="keyword">mut</span> std::fmt::Formatter) <span class="punctuation">-&gt;</span> std::fmt::<span class="type">Result</span> &#123;</span><br><span class="line">        <span class="built_in">write!</span>(f, <span class="string">&quot;Iâ€™m always equal!&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">a</span> = AlwaysEqual;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><code>AlwaysEqual</code> æ˜¯ä¸€ä¸ª<strong>å•å…ƒç»“æ„ä½“</strong>ï¼Œä¸å­˜å‚¨æ•°æ®ï¼Œåªä»£è¡¨ä¸€ç§ç±»å‹ï¼Œé€‚ç”¨äºä½ åªå…³å¿ƒå®ƒçš„â€œè¡Œä¸ºâ€ï¼ˆå³å®ç°äº†å“ªäº› traitï¼‰ï¼Œä¸å…³å¿ƒå®ƒâ€œé•¿ä»€ä¹ˆæ ·å­â€</p>
<table>
<thead>
<tr>
<th>å†™æ³•</th>
<th>åç§°</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>struct Person &#123; name: String &#125;</code></td>
<td>æ™®é€šç»“æ„ä½“</td>
<td>æœ‰å­—æ®µï¼Œæœ‰æ•°æ®</td>
</tr>
<tr>
<td><code>struct Color(u8, u8, u8);</code></td>
<td>å…ƒç»„ç»“æ„ä½“</td>
<td>æœ‰å­—æ®µï¼Œä½†ç”¨ä½ç½®æ ‡è¯†</td>
</tr>
<tr>
<td><code>struct AlwaysEqual;</code></td>
<td>å•å…ƒç»“æ„ä½“</td>
<td>æ²¡å­—æ®µï¼Œåªä»£è¡¨ä¸€ç§â€œç±»å‹â€</td>
</tr>
</tbody></table>
<h3 id="ç»“æ„ä½“æ•°æ®çš„æ‰€æœ‰æƒ"><a href="#ç»“æ„ä½“æ•°æ®çš„æ‰€æœ‰æƒ" class="headerlink" title="ç»“æ„ä½“æ•°æ®çš„æ‰€æœ‰æƒ"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/compound-type/struct.html#%E7%BB%93%E6%9E%84%E4%BD%93%E6%95%B0%E6%8D%AE%E7%9A%84%E6%89%80%E6%9C%89%E6%9D%83"><font style="color:rgb(0, 0, 0);">ç»“æ„ä½“æ•°æ®çš„æ‰€æœ‰æƒ</font></a></h3><p>Rust ä¸­ç»“æ„ä½“çš„æ‰€æœ‰æƒå°±æ˜¯å­—æ®µçš„æ‰€æœ‰æƒç»„åˆï¼Œå½“ä½ ç§»åŠ¨ç»“æ„ä½“æˆ–å­—æ®µæ—¶ï¼Œç›¸å…³å­—æ®µä¹Ÿè·Ÿç€è½¬ç§»ï¼›ç”¨å¼•ç”¨æˆ– clone å¯é¿å… moveã€‚</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#[derive(Debug, Clone)]</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    name: <span class="type">String</span>,</span><br><span class="line">    age: <span class="type">u32</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ„å‘³ç€ï¼š</p>
<ul>
<li><code>name</code> æ˜¯ <code>String</code>ï¼Œä¸æ˜¯ <code>Copy</code>ï¼Œ<strong>ä¼š move æˆ– clone</strong></li>
<li><code>age</code> æ˜¯ <code>u32</code>ï¼Œæ˜¯ <code>Copy</code>ï¼Œ<strong>ä¸ä¼š move</strong></li>
</ul>
<h4 id="ç›´æ¥-move"><a href="#ç›´æ¥-move" class="headerlink" title="ç›´æ¥ move"></a>ç›´æ¥ move</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">u1</span> = User &#123;</span><br><span class="line">    name: <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;Tom&quot;</span>),</span><br><span class="line">    age: <span class="number">18</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="variable">u2</span> = u1;</span><br></pre></td></tr></table></figure>

<p>è¿‡ç¨‹æ˜¯ <strong>æ•´ä½“ move</strong></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>          <span class="string">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span><br><span class="line"><span class="string">â”‚</span> <span class="string">u1</span>         <span class="string">â”‚</span>    <span class="string">==&gt;</span>   <span class="string">â”‚</span> <span class="string">u2</span>         <span class="string">â”‚</span></span><br><span class="line"><span class="string">â”‚</span> <span class="attr">name:</span> <span class="string">&quot;Tom&quot;</span><span class="string">â”‚</span>          <span class="string">â”‚</span> <span class="attr">name:</span> <span class="string">&quot;Tom&quot;</span><span class="string">â”‚</span></span><br><span class="line"><span class="string">â”‚</span> <span class="attr">age:</span> <span class="number">18</span>    <span class="string">â”‚</span>          <span class="string">â”‚</span> <span class="attr">age:</span> <span class="number">18</span>    <span class="string">â”‚</span></span><br><span class="line"><span class="string">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>          <span class="string">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span></span><br></pre></td></tr></table></figure>

<p>ä¹‹å <code>u1</code> å·²ç»æ— æ•ˆï¼Œä¸èƒ½å†ä½¿ç”¨ï¼</p>
<h4 id="clone"><a href="#clone" class="headerlink" title="clone"></a>clone</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">u2</span> = u1.<span class="title function_ invoke__">clone</span>();</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªè¿‡ç¨‹æ˜¯ <strong>æ·±æ‹·è´ name å­—æ®µ</strong>ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>          <span class="string">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span><br><span class="line"><span class="string">â”‚</span> <span class="string">u1</span>         <span class="string">â”‚</span>          <span class="string">â”‚</span> <span class="string">u2</span>         <span class="string">â”‚</span></span><br><span class="line"><span class="string">â”‚</span> <span class="attr">name:</span> <span class="string">&quot;Tom&quot;</span><span class="string">â”‚</span>    <span class="string">==&gt;</span>   <span class="string">â”‚</span> <span class="attr">name:</span> <span class="string">&quot;Tom&quot;</span><span class="string">â”‚</span> <span class="string">ï¼ˆå †å†…å­˜é‡æ–°åˆ†é…ï¼‰</span></span><br><span class="line"><span class="string">â”‚</span> <span class="attr">age:</span> <span class="number">18</span>    <span class="string">â”‚</span>          <span class="string">â”‚</span> <span class="attr">age:</span> <span class="number">18</span>    <span class="string">â”‚</span></span><br><span class="line"><span class="string">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>          <span class="string">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ä¸¤è€…éƒ½èƒ½ç»§ç»­ç”¨ï¼</p>
<h4 id="å­—æ®µå€Ÿç”¨ï¼ˆå¼•ç”¨ï¼‰"><a href="#å­—æ®µå€Ÿç”¨ï¼ˆå¼•ç”¨ï¼‰" class="headerlink" title="å­—æ®µå€Ÿç”¨ï¼ˆå¼•ç”¨ï¼‰"></a>å­—æ®µå€Ÿç”¨ï¼ˆå¼•ç”¨ï¼‰</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">name</span> = &amp;u1.name;</span><br></pre></td></tr></table></figure>

<p>å€Ÿç”¨åªæ˜¯â€œæŒ‡å‘â€ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span><br><span class="line"><span class="string">â”‚</span> <span class="string">u1</span>         <span class="string">â”‚</span></span><br><span class="line"><span class="string">â”‚</span> <span class="attr">name:</span> <span class="string">&quot;Tom&quot;</span><span class="string">â”‚</span> <span class="string">&lt;â”€â”€â”€</span> <span class="attr">name:</span> <span class="string">&amp;Stringï¼ˆå¼•ç”¨ï¼‰</span></span><br><span class="line"><span class="string">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ç»“æ„ä½“å­—æ®µåˆ†ä¸¤ç±»ï¼š</span><br><span class="line">- <span class="built_in">Copy</span> ç±»å‹å­—æ®µï¼šä¸ä¼š <span class="keyword">move</span>ï¼Œå¯é‡å¤ä½¿ç”¨</span><br><span class="line">- é <span class="built_in">Copy</span> å­—æ®µï¼ˆå¦‚ <span class="type">String</span>ï¼‰ï¼šä½¿ç”¨å <span class="keyword">move</span>ï¼ŒåŸå¤„ä½œåºŸ</span><br><span class="line">- æƒ³é¿å… <span class="keyword">move</span>ï¼šç”¨ clone æˆ–å¼•ç”¨ï¼ˆ&amp;ï¼‰</span><br></pre></td></tr></table></figure>

<h3 id="è§£æ„ç»“æ„ä½“"><a href="#è§£æ„ç»“æ„ä½“" class="headerlink" title="è§£æ„ç»“æ„ä½“"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/match-pattern/all-patterns.html#%E8%A7%A3%E6%9E%84%E7%BB%93%E6%9E%84%E4%BD%93"><font style="color:rgb(0, 0, 0);">è§£æ„ç»“æ„ä½“</font></a></h3><p><font style="color:rgb(0, 0, 0);">æ¨¡å¼ä¸­çš„å˜é‡åä¸å¿…ä¸ç»“æ„ä½“ä¸­çš„å­—æ®µåä¸€è‡´</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Point</span> &#123;</span><br><span class="line">    x: <span class="type">i32</span>,</span><br><span class="line">    y: <span class="type">i32</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">p</span> = Point &#123; x: <span class="number">0</span>, y: <span class="number">7</span> &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">Point</span> &#123; x: a, y: b &#125; = p;</span><br><span class="line">    <span class="built_in">assert_eq!</span>(<span class="number">0</span>, a);</span><br><span class="line">    <span class="built_in">assert_eq!</span>(<span class="number">7</span>, b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/06/27/%E7%BB%93%E6%9E%84%E4%BD%93/" data-id="cmckkof2b000qqrqwcp7khtak" data-title="ç»“æ„ä½“" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Rust/" rel="tag">Rust</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-æšä¸¾" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/06/26/%E6%9E%9A%E4%B8%BE/" class="article-date">
  <time class="dt-published" datetime="2025-06-26T02:29:48.000Z" itemprop="datePublished">2025-06-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/06/26/%E6%9E%9A%E4%B8%BE/">æšä¸¾</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="æšä¸¾å€¼"><a href="#æšä¸¾å€¼" class="headerlink" title="æšä¸¾å€¼"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/compound-type/enum.html#%E6%9E%9A%E4%B8%BE%E5%80%BC"><font style="color:rgb(0, 0, 0);">æšä¸¾å€¼</font></a></h3><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">PokerSuit</span> &#123;</span><br><span class="line">  Clubs,</span><br><span class="line">  Spades,</span><br><span class="line">  Diamonds,</span><br><span class="line">  Hearts,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><font style="color:rgb(0, 0, 0);">é€šè¿‡ </font><code>::</code><font style="color:rgb(0, 0, 0);"> æ“ä½œç¬¦æ¥è®¿é—® </font><code>PokerSuit</code><font style="color:rgb(0, 0, 0);"> ä¸‹çš„å…·ä½“æˆå‘˜</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">heart</span> = PokerSuit::Hearts;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">diamond</span> = PokerSuit::Diamonds;</span><br></pre></td></tr></table></figure>

<h4 id="ç»“æ„ä½“"><a href="#ç»“æ„ä½“" class="headerlink" title="ç»“æ„ä½“"></a>ç»“æ„ä½“</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">PokerSuit</span> &#123;</span><br><span class="line">    Clubs,</span><br><span class="line">    Spades,</span><br><span class="line">    Diamonds,</span><br><span class="line">    Hearts,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">PokerCard</span> &#123;</span><br><span class="line">    suit: PokerSuit,</span><br><span class="line">    value: <span class="type">u8</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">   <span class="keyword">let</span> <span class="variable">c1</span> = PokerCard &#123;</span><br><span class="line">       suit: PokerSuit::Clubs,</span><br><span class="line">       value: <span class="number">1</span>,</span><br><span class="line">   &#125;;</span><br><span class="line">   <span class="keyword">let</span> <span class="variable">c2</span> = PokerCard &#123;</span><br><span class="line">       suit: PokerSuit::Diamonds,</span><br><span class="line">       value: <span class="number">12</span>,</span><br><span class="line">   &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç›´æ¥å°†æ•°æ®ä¿¡æ¯å…³è”åˆ°æšä¸¾æˆå‘˜"><a href="#ç›´æ¥å°†æ•°æ®ä¿¡æ¯å…³è”åˆ°æšä¸¾æˆå‘˜" class="headerlink" title="ç›´æ¥å°†æ•°æ®ä¿¡æ¯å…³è”åˆ°æšä¸¾æˆå‘˜"></a><font style="color:rgb(0, 0, 0);">ç›´æ¥å°†æ•°æ®ä¿¡æ¯å…³è”åˆ°æšä¸¾æˆå‘˜</font></h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">PokerCard</span> &#123;</span><br><span class="line">    <span class="title function_ invoke__">Clubs</span>(<span class="type">u8</span>),</span><br><span class="line">    <span class="title function_ invoke__">Spades</span>(<span class="type">u8</span>),</span><br><span class="line">    <span class="title function_ invoke__">Diamonds</span>(<span class="type">u8</span>),</span><br><span class="line">    <span class="title function_ invoke__">Hearts</span>(<span class="type">u8</span>),</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">   <span class="keyword">let</span> <span class="variable">c1</span> = PokerCard::<span class="title function_ invoke__">Spades</span>(<span class="number">5</span>);</span><br><span class="line">   <span class="keyword">let</span> <span class="variable">c2</span> = PokerCard::<span class="title function_ invoke__">Diamonds</span>(<span class="number">13</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Option"><a href="#Option" class="headerlink" title="Option"></a>Option<T></h3><p><code>Option&lt;T&gt;</code> ä»£è¡¨ï¼š<strong>å¯èƒ½æœ‰å€¼ï¼ˆSomeï¼‰</strong>ï¼Œä¹Ÿ<strong>å¯èƒ½æ²¡æœ‰å€¼ï¼ˆNoneï¼‰</strong></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Option</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="title function_ invoke__">Some</span>(T),  <span class="comment">// æœ‰å€¼</span></span><br><span class="line">    <span class="literal">None</span>,     <span class="comment">// æ²¡æœ‰å€¼</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>Some(k)</code> æ˜¯ä¸€ä¸ªâ€œæ‹†ç›’å­â€çš„æ¨¡å¼ã€‚å®ƒé—®ï¼šè¿™ä¸ª <code>Option</code> æœ‰å€¼å—ï¼Ÿæœ‰çš„è¯ï¼ŒæŠŠé‡Œé¢çš„å€¼å–å‡ºæ¥ç»™å˜é‡ <code>k</code>ã€‚</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">key</span>: <span class="type">Option</span>&lt;<span class="type">String</span>&gt; = <span class="title function_ invoke__">Some</span>(<span class="string">&quot;é—¨é’¥åŒ™&quot;</span>.<span class="title function_ invoke__">to_string</span>());</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> <span class="variable">Some</span>(k) = key &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;æˆ‘å¸¦äº†ï¼š&#123;&#125;&quot;</span>, k);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;æˆ‘æ²¡å¸¦é’¥åŒ™ï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><code>Some(k)</code> æ˜¯ä¸€ä¸ª <strong>æ¨¡å¼ï¼ˆpatternï¼‰</strong>ï¼Œç”¨æ¥â€œæ‹†å¼€â€ <code>Option</code> ç±»å‹ã€‚</p>
<ul>
<li>å¦‚æœ <code>key</code> çš„å€¼æ˜¯ <code>Some(ä¸œè¥¿)</code>ï¼Œå°±ï¼š<ul>
<li>å–å‡ºé‡Œé¢çš„ <code>ä¸œè¥¿</code></li>
<li>æ”¾åˆ°å˜é‡ <code>k</code> é‡Œ</li>
</ul>
</li>
</ul>
<h4 id="unwrap-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#unwrap-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title=".unwrap() æ˜¯ä»€ä¹ˆï¼Ÿ"></a>.unwrap() æ˜¯ä»€ä¹ˆï¼Ÿ</h4><ul>
<li><code>unwrap()</code> çš„æ„æ€æ˜¯ï¼š<strong>æˆ‘ç¡®å®šä¸€å®šæœ‰å€¼ï¼ŒæŠŠå®ƒæ‹¿å‡ºæ¥</strong></li>
<li>ä½†å¦‚æœæ˜¯ <code>None</code>ï¼Œç¨‹åºå°±ä¼š <strong>å´©æºƒ</strong>ï¼š</li>
</ul>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">x</span>: <span class="type">Option</span>&lt;<span class="type">i32</span>&gt; = <span class="literal">None</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">n</span> = x.<span class="title function_ invoke__">unwrap</span>(); <span class="comment">// âŒ ç›´æ¥ panic!</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="å®‰å…¨åœ°ä½¿ç”¨-unwrap-or"><a href="#å®‰å…¨åœ°ä½¿ç”¨-unwrap-or" class="headerlink" title="å®‰å…¨åœ°ä½¿ç”¨ .unwrap_or()"></a>å®‰å…¨åœ°ä½¿ç”¨ .unwrap_or()</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">key</span>: <span class="type">Option</span>&lt;<span class="type">String</span>&gt; = <span class="literal">None</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="variable">real_key</span> = key.<span class="title function_ invoke__">unwrap_or</span>(<span class="string">&quot;å¤‡ç”¨é’¥åŒ™&quot;</span>.<span class="title function_ invoke__">to_string</span>());</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;ä½¿ç”¨é’¥åŒ™ï¼š&#123;&#125;&quot;</span>, real_key);</span><br></pre></td></tr></table></figure>

<h3 id="Result"><a href="#Result" class="headerlink" title="Result"></a>Result</h3><p><code>Result</code> æ˜¯ Rust ç”¨æ¥è¡¨ç¤º <strong>å¯èƒ½æˆåŠŸï¼Œä¹Ÿå¯èƒ½å¤±è´¥</strong> çš„ä¸€ç§ç±»å‹ã€‚</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Result</span>&lt;T, E&gt; &#123;</span><br><span class="line">    <span class="title function_ invoke__">Ok</span>(T),    <span class="comment">// æˆåŠŸï¼Œé‡Œé¢æ˜¯ç»“æœ</span></span><br><span class="line">    <span class="title function_ invoke__">Err</span>(E),   <span class="comment">// å¤±è´¥ï¼Œé‡Œé¢æ˜¯é”™è¯¯åŸå› </span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="ä¸¾ä¾‹"><a href="#ä¸¾ä¾‹" class="headerlink" title="ä¸¾ä¾‹"></a>ä¸¾ä¾‹</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">divide</span>(x: <span class="type">i32</span>, y: <span class="type">i32</span>) <span class="punctuation">-&gt;</span> <span class="type">Result</span>&lt;<span class="type">i32</span>, <span class="type">String</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> y == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="title function_ invoke__">Err</span>(<span class="string">&quot;ä¸èƒ½é™¤ä»¥ 0&quot;</span>.<span class="title function_ invoke__">to_string</span>())</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_ invoke__">Ok</span>(x / y)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">result</span> = <span class="title function_ invoke__">divide</span>(<span class="number">10</span>, <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">match</span> result &#123;</span><br><span class="line">        <span class="title function_ invoke__">Ok</span>(val) =&gt; <span class="built_in">println!</span>(<span class="string">&quot;ç»“æœæ˜¯ &#123;&#125;&quot;</span>, val),</span><br><span class="line">        <span class="title function_ invoke__">Err</span>(err) =&gt; <span class="built_in">println!</span>(<span class="string">&quot;å‡ºé”™äº†ï¼š&#123;&#125;&quot;</span>, err),</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ›´çŸ­çš„å†™æ³•ï¼šif-let"><a href="#æ›´çŸ­çš„å†™æ³•ï¼šif-let" class="headerlink" title="æ›´çŸ­çš„å†™æ³•ï¼šif let"></a>æ›´çŸ­çš„å†™æ³•ï¼šif let</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> <span class="variable">Ok</span>(value) = <span class="title function_ invoke__">divide</span>(<span class="number">10</span>, <span class="number">2</span>) &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;æˆåŠŸï¼š&#123;&#125;&quot;</span>, value);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;å‡ºé”™äº†&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Option-å’Œ-Result-è½¬æ¢-åŠå¸¸ç”¨-api"><a href="#Option-å’Œ-Result-è½¬æ¢-åŠå¸¸ç”¨-api" class="headerlink" title="Option å’Œ Result è½¬æ¢,åŠå¸¸ç”¨ api"></a>Option å’Œ Result è½¬æ¢,åŠå¸¸ç”¨ api</h3><ul>
<li><code>Option&lt;T&gt;</code>ï¼šå¯èƒ½æœ‰å€¼ï¼ˆ<code>Some(T)</code>ï¼‰ï¼Œä¹Ÿå¯èƒ½æ²¡æœ‰å€¼ï¼ˆ<code>None</code>ï¼‰</li>
<li><code>Result&lt;T, E&gt;</code>ï¼šå¯èƒ½æˆåŠŸï¼ˆ<code>Ok(T)</code>ï¼‰ï¼Œä¹Ÿå¯èƒ½å¤±è´¥ï¼ˆ<code>Err(E)</code>ï¼‰</li>
</ul>
<h4 id="Option-â†’-Result"><a href="#Option-â†’-Result" class="headerlink" title="Option â†’ Result"></a>Option â†’ Result</h4><p>å¦‚æœä½ æƒ³æŠŠä¸€ä¸ª <code>Option</code> å˜æˆ <code>Result</code>ï¼Œä½ å¾—æä¾›ä¸€ä¸ªé”™è¯¯å€¼ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">maybe_name</span>: <span class="type">Option</span>&lt;&amp;<span class="type">str</span>&gt; = <span class="title function_ invoke__">Some</span>(<span class="string">&quot;å°æ˜&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="variable">result</span>: <span class="type">Result</span>&lt;&amp;<span class="type">str</span>, &amp;<span class="type">str</span>&gt; = maybe_name.<span class="title function_ invoke__">ok_or</span>(<span class="string">&quot;æ²¡æœ‰åå­—&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;&#123;:?&#125;&quot;</span>, result); <span class="comment">// Ok(&quot;å°æ˜&quot;)</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>ok_or(err)</code>ï¼šå¦‚æœæ˜¯ <code>Some(val)</code>ï¼Œå°±å˜æˆ <code>Ok(val)</code>ï¼›å¦‚æœæ˜¯ <code>None</code>ï¼Œå°±å˜æˆ <code>Err(err)</code></li>
</ul>
<h4 id="Result-â†’-Option"><a href="#Result-â†’-Option" class="headerlink" title="Result â†’ Option"></a>Result â†’ Option</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">result</span>: <span class="type">Result</span>&lt;<span class="type">i32</span>, &amp;<span class="type">str</span>&gt; = <span class="title function_ invoke__">Ok</span>(<span class="number">42</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="variable">maybe</span>: <span class="type">Option</span>&lt;<span class="type">i32</span>&gt; = result.<span class="title function_ invoke__">ok</span>(); <span class="comment">// æŠŠ Ok(42) è½¬ä¸º Some(42)</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;&#123;:?&#125;&quot;</span>, maybe); <span class="comment">// Some(42)</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>ok()</code>ï¼šæŠŠ <code>Ok(val)</code> å˜æˆ <code>Some(val)</code>ï¼Œ<code>Err(_)</code> å˜æˆ <code>None</code></li>
<li><code>err()</code>ï¼šåè¿‡æ¥å–é”™è¯¯å€¼ï¼š<code>Err(e)</code> â†’ <code>Some(e)</code></li>
</ul>
<h3 id="é—­åŒ…"><a href="#é—­åŒ…" class="headerlink" title="é—­åŒ…"></a>é—­åŒ…</h3><h4 id="é—­åŒ…-vs-æ™®é€šå‡½æ•°"><a href="#é—­åŒ…-vs-æ™®é€šå‡½æ•°" class="headerlink" title="é—­åŒ… vs æ™®é€šå‡½æ•°"></a>é—­åŒ… vs æ™®é€šå‡½æ•°</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">add1_fn</span>(x: <span class="type">i32</span>) <span class="punctuation">-&gt;</span> <span class="type">i32</span> &#123;</span><br><span class="line">    x + <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="variable">add1_closure</span> = |x: <span class="type">i32</span>| x + <span class="number">1</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>fn</code> æ˜¯æ™®é€šå‡½æ•°ï¼Œå¿…é¡»å†™åœ¨å¤–é¢</li>
<li><code>|x| x + 1</code> æ˜¯é—­åŒ…ï¼Œå¯ä»¥å†™åœ¨ä»»ä½•åœ°æ–¹ï¼Œæ›´çµæ´»</li>
</ul>
<h4 id="é—­åŒ…ä¸ä¼ å‚æ•°çš„å†™æ³•"><a href="#é—­åŒ…ä¸ä¼ å‚æ•°çš„å†™æ³•" class="headerlink" title="é—­åŒ…ä¸ä¼ å‚æ•°çš„å†™æ³•"></a>é—­åŒ…ä¸ä¼ å‚æ•°çš„å†™æ³•</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">say_hi</span> = || <span class="built_in">println!</span>(<span class="string">&quot;Hi!&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">say_hi</span>(); <span class="comment">// è¾“å‡ºï¼šHi!</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>||</code> è¡¨ç¤ºè¿™ä¸ªé—­åŒ…ä¸æ¥æ”¶ä»»ä½•å‚æ•°</li>
<li>é—­åŒ…ä½“å°±åƒæ™®é€šå‡½æ•°ä¸€æ ·å†™ <code>&#123;&#125;</code>ï¼Œæˆ–è€…å•è¡Œå¯ä»¥çœç•¥</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/06/26/%E6%9E%9A%E4%B8%BE/" data-id="cmckkof28000iqrqwfv7uekgu" data-title="æšä¸¾" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Rust/" rel="tag">Rust</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-å­—ç¬¦ä¸²" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/06/25/%E5%AD%97%E7%AC%A6%E4%B8%B2/" class="article-date">
  <time class="dt-published" datetime="2025-06-25T07:25:28.000Z" itemprop="datePublished">2025-06-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/06/25/%E5%AD%97%E7%AC%A6%E4%B8%B2/">å­—ç¬¦ä¸²</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="åˆ‡ç‰‡"><a href="#åˆ‡ç‰‡" class="headerlink" title="åˆ‡ç‰‡"></a>åˆ‡ç‰‡</h3><p><font style="color:rgb(0, 0, 0);">ä½¿ç”¨æ–¹æ‹¬å·åŒ…æ‹¬çš„ä¸€ä¸ªåºåˆ—ï¼š</font><strong><font style="color:rgb(0, 0, 0);">[å¼€å§‹ç´¢å¼•..ç»ˆæ­¢ç´¢å¼•]åŒ…å«å·¦ä¸åŒ…å«å³</font></strong></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">s</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hello world&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="variable">hello</span> = &amp;s[<span class="number">0</span>..<span class="number">5</span>];</span><br><span class="line"><span class="keyword">let</span> <span class="variable">world</span> = &amp;s[<span class="number">6</span>..<span class="number">11</span>];</span><br></pre></td></tr></table></figure>

<p>è·å–æœ€åä¸€ä¸ªå…ƒç´ çš„ 2 ç§æ–¹æ³•</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">s</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="variable">len</span> = s.<span class="title function_ invoke__">len</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="variable">slice</span> = &amp;s[<span class="number">4</span>..len];</span><br><span class="line"><span class="keyword">let</span> <span class="variable">slice</span> = &amp;s[<span class="number">4</span>..];</span><br></pre></td></tr></table></figure>

<h3 id="å­—ç¬¦ä¸²çš„å­—é¢é‡æ˜¯åˆ‡ç‰‡"><a href="#å­—ç¬¦ä¸²çš„å­—é¢é‡æ˜¯åˆ‡ç‰‡" class="headerlink" title="å­—ç¬¦ä¸²çš„å­—é¢é‡æ˜¯åˆ‡ç‰‡"></a>å­—ç¬¦ä¸²çš„å­—é¢é‡æ˜¯åˆ‡ç‰‡</h3><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¹‹å‰æåˆ°è¿‡å­—ç¬¦ä¸²å­—é¢é‡ï¼Œä½†æ˜¯æ²¡æœ‰æåˆ°å®ƒçš„ç±»å‹ï¼š</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">s</span> = <span class="string">&quot;Hello, world!&quot;</span>;</span><br><span class="line"><span class="comment">// å®é™…ä¸Šï¼Œs çš„ç±»å‹æ˜¯ &amp;strï¼Œå› æ­¤ä½ ä¹Ÿå¯ä»¥è¿™æ ·å£°æ˜ï¼š</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">s</span>: &amp;<span class="type">str</span> = <span class="string">&quot;Hello, world!&quot;</span>;</span><br></pre></td></tr></table></figure>

<p><code>&amp;str</code>æŒ‡å‘çš„æ˜¯ä¸å¯å˜çš„å¼•ç”¨</p>
<h3 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a><a target="_blank" rel="noopener" href="https://www.yuque.com/lisiyi-ephgy/nyhpoz/pzgsysfcyx4y5btw#QVwW0">å­—ç¬¦ä¸²</a></h3><h4 id="String-ä¸-str-çš„è½¬æ¢"><a href="#String-ä¸-str-çš„è½¬æ¢" class="headerlink" title="String ä¸ &amp;str çš„è½¬æ¢"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/compound-type/string-slice.html#string-%E4%B8%8E-str-%E7%9A%84%E8%BD%AC%E6%8D%A2"><font style="color:rgb(0, 0, 0);">String ä¸ &amp;str çš„è½¬æ¢</font></a></h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">s</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hello,world!&quot;</span>);</span><br><span class="line">    <span class="title function_ invoke__">say_hello</span>(&amp;s);</span><br><span class="line">    <span class="title function_ invoke__">say_hello</span>(&amp;s[..]);</span><br><span class="line">    <span class="title function_ invoke__">say_hello</span>(s.<span class="title function_ invoke__">as_str</span>()); <span class="comment">// è¯¦è§æ‰€æœ‰æƒä¸­å­—ç¬¦ä¸²è§£é‡Š</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">say_hello</span>(s: &amp;<span class="type">str</span>) &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>,s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ“ä½œå­—ç¬¦ä¸²"><a href="#æ“ä½œå­—ç¬¦ä¸²" class="headerlink" title="æ“ä½œå­—ç¬¦ä¸²"></a>æ“ä½œå­—ç¬¦ä¸²</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&amp;<span class="symbol">&#x27;static</span> <span class="type">str</span></span><br></pre></td></tr></table></figure>

<p>å®ƒæ˜¯ä¸€ä¸ªï¼š</p>
<ul>
<li><strong>ä¸å¯å˜çš„å­—ç¬¦ä¸²å¼•ç”¨</strong></li>
<li>å­˜å‚¨åœ¨<strong>ç¨‹åºçš„åªè¯»å†…å­˜åŒº</strong></li>
<li>ç”Ÿå‘½å‘¨æœŸæ˜¯ <code>&#39;static</code>ï¼ˆç¨‹åºæ•´ä¸ªè¿è¡ŒæœŸéƒ½æœ‰æ•ˆï¼‰</li>
<li>æœ‰èƒ½åŠ›å»ä¿®æ”¹å†…å®¹</li>
</ul>
<h5 id="è¿½åŠ -Push"><a href="#è¿½åŠ -Push" class="headerlink" title="è¿½åŠ (Push)"></a>è¿½åŠ (Push)</h5><p><font style="color:rgb(0, 0, 0);">åœ¨å­—ç¬¦ä¸²å°¾éƒ¨å¯ä»¥ä½¿ç”¨ </font><code>push()</code><font style="color:rgb(0, 0, 0);"> æ–¹æ³•è¿½åŠ å­—ç¬¦ </font><code>char</code><font style="color:rgb(0, 0, 0);">ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ </font><code>push_str()</code><font style="color:rgb(0, 0, 0);"> æ–¹æ³•è¿½åŠ å­—ç¬¦ä¸²å­—é¢é‡ã€‚è¿™ä¸¤ä¸ªæ–¹æ³•éƒ½æ˜¯</font><strong><font style="color:rgb(0, 0, 0);">åœ¨åŸæœ‰çš„å­—ç¬¦ä¸²ä¸Šè¿½åŠ ï¼Œå¹¶ä¸ä¼šè¿”å›æ–°çš„å­—ç¬¦ä¸²</font></strong><font style="color:rgb(0, 0, 0);">ã€‚ç”±äºå­—ç¬¦ä¸²è¿½åŠ æ“ä½œè¦ä¿®æ”¹åŸæ¥çš„å­—ç¬¦ä¸²ï¼Œåˆ™è¯¥å­—ç¬¦ä¸²å¿…é¡»æ˜¯å¯å˜çš„ï¼Œå³</font><strong><font style="color:rgb(0, 0, 0);">å­—ç¬¦ä¸²å˜é‡å¿…é¡»ç”± </font></strong><code>**mut**</code><strong><font style="color:rgb(0, 0, 0);"> å…³é”®å­—ä¿®é¥°</font></strong><font style="color:rgb(0, 0, 0);">ã€‚</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">s</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;Hello &quot;</span>);</span><br><span class="line"></span><br><span class="line">    s.<span class="title function_ invoke__">push_str</span>(<span class="string">&quot;rust&quot;</span>);</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;è¿½åŠ å­—ç¬¦ä¸² push_str() -&gt; &#123;&#125;&quot;</span>, s);</span><br><span class="line"></span><br><span class="line">    s.<span class="title function_ invoke__">push</span>(<span class="string">&#x27;!&#x27;</span>);</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;è¿½åŠ å­—ç¬¦ push() -&gt; &#123;&#125;&quot;</span>, s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="æ’å…¥-Insert"><a href="#æ’å…¥-Insert" class="headerlink" title="æ’å…¥(Insert)"></a>æ’å…¥(Insert)</h5><p><font style="color:rgb(0, 0, 0);">å­—ç¬¦ä¸²æ’å…¥æ“ä½œè¦</font><strong><font style="color:rgb(0, 0, 0);">ä¿®æ”¹åŸæ¥çš„å­—ç¬¦ä¸²</font></strong><font style="color:rgb(0, 0, 0);">ï¼Œåˆ™è¯¥å­—ç¬¦ä¸²å¿…é¡»æ˜¯å¯å˜çš„ï¼Œå³</font><strong><font style="color:rgb(0, 0, 0);">å­—ç¬¦ä¸²å˜é‡å¿…é¡»ç”± </font></strong><code>**mut**</code><strong><font style="color:rgb(0, 0, 0);"> å…³é”®å­—ä¿®é¥°</font></strong><font style="color:rgb(0, 0, 0);">ã€‚</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">s</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;Hello rust!&quot;</span>);</span><br><span class="line">    s.<span class="title function_ invoke__">insert</span>(<span class="number">5</span>, <span class="string">&#x27;,&#x27;</span>);</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;æ’å…¥å­—ç¬¦ insert() -&gt; &#123;&#125;&quot;</span>, s);</span><br><span class="line">    s.<span class="title function_ invoke__">insert_str</span>(<span class="number">6</span>, <span class="string">&quot; I like&quot;</span>);</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;æ’å…¥å­—ç¬¦ä¸² insert_str() -&gt; &#123;&#125;&quot;</span>, s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="æ›¿æ¢-Replace"><a href="#æ›¿æ¢-Replace" class="headerlink" title="æ›¿æ¢ (Replace)"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/compound-type/string-slice.html#%E6%9B%BF%E6%8D%A2-replace"><font style="color:rgb(0, 0, 0);">æ›¿æ¢ (Replace)</font></a></h5><p><font style="color:rgb(0, 0, 0);">è¯¥æ–¹æ³•æ˜¯è¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯æ“ä½œåŸæ¥çš„å­—ç¬¦ä¸²ã€‚</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">string_replace</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;I like rust. Learning rust is my favorite!&quot;</span>);</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">new_string_replace</span> = string_replace.<span class="title function_ invoke__">replace</span>(<span class="string">&quot;rust&quot;</span>, <span class="string">&quot;RUST&quot;</span>);</span><br><span class="line">    dbg!(new_string_replace);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="replacen"><a href="#replacen" class="headerlink" title="replacen"></a><font style="color:rgb(48, 25, 0);background-color:rgb(246, 247, 246);">replacen</font></h5><p><font style="color:rgb(0, 0, 0);">å‰ä¸¤ä¸ªå‚æ•°ä¸ </font><code>replace()</code><font style="color:rgb(0, 0, 0);"> æ–¹æ³•ä¸€æ ·ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°åˆ™è¡¨ç¤ºæ›¿æ¢çš„ä¸ªæ•°ã€‚</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">string_replace</span> = <span class="string">&quot;I like rust. Learning rust is my favorite!&quot;</span>;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">new_string_replacen</span> = string_replace.<span class="title function_ invoke__">replacen</span>(<span class="string">&quot;rust&quot;</span>, <span class="string">&quot;RUST&quot;</span>, <span class="number">1</span>);</span><br><span class="line">    dbg!(new_string_replacen);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="replace-range"><a href="#replace-range" class="headerlink" title="replace_range"></a>replace_range</h5><p>è¯¥æ–¹æ³•æ˜¯ç›´æ¥æ“ä½œåŸæ¥çš„å­—ç¬¦ä¸²</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">string</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">    <span class="comment">// å¦‚æœèŒƒå›´å°äºæ›¿æ¢é•¿åº¦,å­—ç¬¦ä¸²ä¼šå˜é•¿,åä¹‹ä¼šå˜çŸ­</span></span><br><span class="line">    string.<span class="title function_ invoke__">replace_range</span>(<span class="number">0</span>..<span class="number">1</span>, <span class="string">&quot;H&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="åˆ é™¤-Delete"><a href="#åˆ é™¤-Delete" class="headerlink" title="åˆ é™¤ (Delete)"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/compound-type/string-slice.html#%E5%88%A0%E9%99%A4-delete"><font style="color:rgb(0, 0, 0);">åˆ é™¤ (Delete)</font></a></h5><p><font style="color:rgb(0, 0, 0);">ä¸å­—ç¬¦ä¸²åˆ é™¤ç›¸å…³çš„æ–¹æ³•æœ‰ 4 ä¸ªï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ </font><code>pop()</code><font style="color:rgb(0, 0, 0);">ï¼Œ</font><code>remove()</code><font style="color:rgb(0, 0, 0);">ï¼Œ</font><code>truncate()</code><font style="color:rgb(0, 0, 0);">ï¼Œ</font><code>clear()</code><font style="color:rgb(0, 0, 0);">ã€‚è¿™å››ä¸ªæ–¹æ³•ä»…é€‚ç”¨äº </font><code>String</code>ç±»å‹<br><code>pop</code><font style="color:rgb(0, 0, 0);"> â€”â€” åˆ é™¤å¹¶è¿”å›å­—ç¬¦ä¸²çš„æœ€åä¸€ä¸ªå­—ç¬¦</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">string_pop</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;rust pop ä¸­æ–‡!&quot;</span>);</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">p1</span> = string_pop.<span class="title function_ invoke__">pop</span>();</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">p2</span> = string_pop.<span class="title function_ invoke__">pop</span>();</span><br><span class="line">    dbg!(p1);</span><br><span class="line">    dbg!(p2);</span><br><span class="line">    dbg!(string_pop);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>remove</code><font style="color:rgb(0, 0, 0);"> â€”â€” åˆ é™¤å¹¶è¿”å›å­—ç¬¦ä¸²ä¸­æŒ‡å®šä½ç½®çš„å­—ç¬¦</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">string_remove</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;æµ‹è¯•removeæ–¹æ³•&quot;</span>);</span><br><span class="line">    <span class="built_in">println!</span>(</span><br><span class="line">        <span class="string">&quot;string_remove å  &#123;&#125; ä¸ªå­—èŠ‚&quot;</span>,</span><br><span class="line">        std::mem::<span class="title function_ invoke__">size_of_val</span>(string_remove.<span class="title function_ invoke__">as_str</span>())</span><br><span class="line">    );</span><br><span class="line">    <span class="comment">// åˆ é™¤ç¬¬ä¸€ä¸ªæ±‰å­—</span></span><br><span class="line">    string_remove.<span class="title function_ invoke__">remove</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="comment">// ä¸‹é¢ä»£ç ä¼šå‘ç”Ÿé”™è¯¯</span></span><br><span class="line">    <span class="comment">// string_remove.remove(1);</span></span><br><span class="line">    <span class="comment">// ç›´æ¥åˆ é™¤ç¬¬äºŒä¸ªæ±‰å­—</span></span><br><span class="line">    <span class="comment">// string_remove.remove(3);</span></span><br><span class="line">    dbg!(string_remove);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>truncate</code><font style="color:rgb(0, 0, 0);"> â€”â€” åˆ é™¤å­—ç¬¦ä¸²ä¸­ä»æŒ‡å®šä½ç½®å¼€å§‹åˆ°ç»“å°¾çš„å…¨éƒ¨å­—ç¬¦</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">string_truncate</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;æµ‹è¯•truncate&quot;</span>);</span><br><span class="line">    string_truncate.<span class="title function_ invoke__">truncate</span>(<span class="number">3</span>);</span><br><span class="line">    dbg!(string_truncate);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>clear</code><font style="color:rgb(0, 0, 0);"> â€”â€” æ¸…ç©ºå­—ç¬¦ä¸²</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">string_clear</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;string clear&quot;</span>);</span><br><span class="line">    string_clear.<span class="title function_ invoke__">clear</span>();</span><br><span class="line">    dbg!(string_clear);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="è¿æ¥-Concatenate"><a href="#è¿æ¥-Concatenate" class="headerlink" title="è¿æ¥ (Concatenate)"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/compound-type/string-slice.html#%E8%BF%9E%E6%8E%A5-concatenate"><font style="color:rgb(0, 0, 0);">è¿æ¥ (Concatenate)</font></a></h5><h6 id="ä½¿ç”¨-æˆ–è€…-è¿æ¥å­—ç¬¦ä¸²"><a href="#ä½¿ç”¨-æˆ–è€…-è¿æ¥å­—ç¬¦ä¸²" class="headerlink" title="ä½¿ç”¨ + æˆ–è€… += è¿æ¥å­—ç¬¦ä¸²"></a><font style="color:rgb(0, 0, 0);">ä½¿ç”¨ </font><code>+</code><font style="color:rgb(0, 0, 0);"> æˆ–è€… </font><code>+=</code><font style="color:rgb(0, 0, 0);"> è¿æ¥å­—ç¬¦ä¸²</font></h6><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">string_append</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hello &quot;</span>);</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">string_rust</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;rust&quot;</span>);</span><br><span class="line">    <span class="comment">// &amp;string_rustä¼šè‡ªåŠ¨è§£å¼•ç”¨ä¸º&amp;str</span></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">result</span> = string_append + &amp;string_rust;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">result</span> = result + <span class="string">&quot;!&quot;</span>; <span class="comment">// `result + &quot;!&quot;` ä¸­çš„ `result` æ˜¯ä¸å¯å˜çš„</span></span><br><span class="line">    result += <span class="string">&quot;!!!&quot;</span>;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;è¿æ¥å­—ç¬¦ä¸² + -&gt; &#123;&#125;&quot;</span>, result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="let-result-string-append-string-rust"><a href="#let-result-string-append-string-rust" class="headerlink" title="let result &#x3D; string_append + &amp;string_rust;"></a>let result &#x3D; string_append + &amp;string_rust;</h6><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿™2è¡Œä»£ç ç­‰ä»·</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">result</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hello &quot;</span>) + &amp;<span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;rust&quot;</span>);</span><br><span class="line"><span class="comment">// è¿™ä¸ª + çš„è¡Œä¸ºå…¶å®æ˜¯ï¼š</span></span><br><span class="line"><span class="type">String</span>::<span class="title function_ invoke__">add</span>(<span class="keyword">self</span>, rhs: &amp;<span class="type">str</span>) <span class="punctuation">-&gt;</span> <span class="type">String</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>string_append</code> è¢« <strong>ç§»åŠ¨ï¼ˆmoveï¼‰</strong></li>
<li><code>&amp;string_rust</code> ä¼šè¢«è‡ªåŠ¨è§£å¼•ç”¨ä¸º <code>&amp;str</code></li>
<li>ç»“æœæ˜¯ä¸€ä¸ªæ–°çš„ <code>String</code>ï¼Œèµ‹å€¼ç»™ <code>result</code></li>
</ul>
<h6 id="let-mut-result-result-â€œ-â€"><a href="#let-mut-result-result-â€œ-â€" class="headerlink" title="let mut result &#x3D; result + â€œ!â€;"></a>let mut result &#x3D; result + â€œ!â€;</h6><ul>
<li>åŸæ¥çš„ <code>result</code> æ˜¯ä¸å¯å˜çš„</li>
<li>ä½ ç”¨ <code>+ &quot;!&quot;</code> åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ <code>String</code></li>
<li>ç„¶åä½ æŠŠè¿™ä¸ªæ–°çš„å­—ç¬¦ä¸²ç”¨ <code>let mut result = ...</code><strong>é‡æ–°å£°æ˜ä¸ºä¸€ä¸ªå¯å˜å˜é‡</strong></li>
</ul>
<p>â— è¿™ä¸æ˜¯ä¿®æ”¹æ—§çš„ <code>result</code>ï¼Œè€Œæ˜¯åˆ›å»ºäº†æ–°çš„å˜é‡ï¼ˆåŒåï¼‰ï¼Œå¹¶ä¸”æ˜¯ <code>mut</code>ã€‚</p>
<h6 id="result-â€œ-â€"><a href="#result-â€œ-â€" class="headerlink" title="result +&#x3D; â€œ!!!â€;"></a>result +&#x3D; â€œ!!!â€;</h6><ul>
<li>è¿™æ˜¯å¯¹æ–°çš„ã€å¯å˜çš„ <code>result</code> åšæ“ä½œ</li>
<li><code>+=</code> å®é™…ä¸Šè°ƒç”¨çš„æ˜¯ <code>String::push_str()</code> æ–¹æ³•</li>
</ul>
<h6 id="String-add-self-rhs-str-String"><a href="#String-add-self-rhs-str-String" class="headerlink" title="String::add(self, rhs: &amp;str) -&gt; String"></a>String::add(self, rhs: &amp;str) -&gt; String</h6><ol>
<li>self æ˜¯ Stringï¼ˆæ‰€æœ‰æƒï¼‰ï¼Œä¸æ˜¯ &amp;String</li>
<li>rhs æ˜¯ &amp;strï¼Œä¹Ÿå°±æ˜¯å³è¾¹ä½ ç”¨ &amp;string_rust æ˜¯ âœ… æ²¡é—®é¢˜çš„</li>
</ol>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">s1</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hello,&quot;</span>);</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">s2</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;world!&quot;</span>);</span><br><span class="line">    <span class="comment">// åœ¨ä¸‹å¥ä¸­ï¼Œs1çš„æ‰€æœ‰æƒè¢«è½¬ç§»èµ°äº†ï¼Œå› æ­¤åé¢ä¸èƒ½å†ä½¿ç”¨s1</span></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">s3</span> = s1 + &amp;s2;</span><br><span class="line">    <span class="built_in">assert_eq!</span>(s3,<span class="string">&quot;hello,world!&quot;</span>);</span><br><span class="line">    <span class="comment">// ä¸‹é¢çš„è¯­å¥å¦‚æœå»æ‰æ³¨é‡Šï¼Œå°±ä¼šæŠ¥é”™ ,s1çš„æ‰€æœ‰æƒå·²ç»è½¬ç§»åˆ°s3</span></span><br><span class="line">    <span class="comment">// println!(&quot;&#123;&#125;&quot;,s1);</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="ä½¿ç”¨-format-è¿æ¥å­—ç¬¦ä¸²"><a href="#ä½¿ç”¨-format-è¿æ¥å­—ç¬¦ä¸²" class="headerlink" title="ä½¿ç”¨ format! è¿æ¥å­—ç¬¦ä¸²"></a><font style="color:rgb(0, 0, 0);">ä½¿ç”¨ </font><code>format!</code><font style="color:rgb(0, 0, 0);"> è¿æ¥å­—ç¬¦ä¸²</font></h6><p><code>format!</code><font style="color:rgb(0, 0, 0);"> è¿™ç§æ–¹å¼é€‚ç”¨äº </font><code>String</code><font style="color:rgb(0, 0, 0);"> å’Œ </font><code>&amp;str</code><font style="color:rgb(48, 25, 0);background-color:rgb(246, 247, 246);">,æ‰€æœ‰æƒä¸ä¼šè½¬ç§»</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">s1</span> = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">s2</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;rust&quot;</span>);</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">s</span> = <span class="built_in">format!</span>(<span class="string">&quot;&#123;&#125; &#123;&#125;!&quot;</span>, s1, s2);</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, s);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="æ“ä½œ-UTF-8-å­—ç¬¦ä¸²"><a href="#æ“ä½œ-UTF-8-å­—ç¬¦ä¸²" class="headerlink" title="æ“ä½œ UTF-8 å­—ç¬¦ä¸²"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/compound-type/string-slice.html#%E6%93%8D%E4%BD%9C-utf-8-%E5%AD%97%E7%AC%A6%E4%B8%B2"><font style="color:rgb(0, 0, 0);">æ“ä½œ UTF-8 å­—ç¬¦ä¸²</font></a></h4><h5 id="å­—ç¬¦"><a href="#å­—ç¬¦" class="headerlink" title="å­—ç¬¦"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/compound-type/string-slice.html#%E5%AD%97%E7%AC%A6"><font style="color:rgb(0, 0, 0);">å­—ç¬¦</font></a></h5><p><font style="color:rgb(0, 0, 0);">å¦‚æœä½ æƒ³è¦ä»¥ Unicode å­—ç¬¦çš„æ–¹å¼éå†å­—ç¬¦ä¸²ï¼Œæœ€å¥½çš„åŠæ³•æ˜¯ä½¿ç”¨ </font><code>chars</code><font style="color:rgb(0, 0, 0);"> æ–¹æ³•ï¼Œä¾‹å¦‚ï¼š</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> <span class="variable">c</span> <span class="keyword">in</span> <span class="string">&quot;ä¸­å›½äºº&quot;</span>.<span class="title function_ invoke__">chars</span>() &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, c);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="å­—èŠ‚"><a href="#å­—èŠ‚" class="headerlink" title="å­—èŠ‚"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/compound-type/string-slice.html#%E5%AD%97%E8%8A%82"><font style="color:rgb(0, 0, 0);">å­—èŠ‚</font></a></h5><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> <span class="variable">b</span> <span class="keyword">in</span> <span class="string">&quot;ä¸­å›½äºº&quot;</span>.<span class="title function_ invoke__">bytes</span>() &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="utf8-slice"><a href="#utf8-slice" class="headerlink" title="utf8_slice"></a><a target="_blank" rel="noopener" href="https://practice-zh.course.rs/collections/string.html#utf8_slice"><font style="color:rgb(0, 0, 0);">utf8_slice</font></a></h5><p><font style="color:rgb(0, 0, 0);">å¯ä»¥ä½¿ç”¨ </font><a target="_blank" rel="noopener" href="https://docs.rs/utf8_slice/1.0.0/utf8_slice/fn.slice.html"><font style="color:rgb(32, 96, 159);">utf8_slice</font></a><font style="color:rgb(0, 0, 0);"> æ¥æŒ‰ç…§å­—ç¬¦çš„è‡ªç„¶ç´¢å¼•æ–¹å¼å¯¹ UTF-8 å­—ç¬¦ä¸²è¿›è¡Œåˆ‡ç‰‡è®¿é—®ï¼Œä¸ä¹‹å‰çš„åˆ‡ç‰‡æ–¹å¼ç›¸æ¯”ï¼Œå®ƒç´¢å¼•çš„æ˜¯å­—ç¬¦ï¼Œè€Œä¹‹å‰çš„æ–¹å¼ç´¢å¼•çš„æ˜¯å­—èŠ‚.</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> utf8_slice;</span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">   <span class="keyword">let</span> <span class="variable">s</span> = <span class="string">&quot;The ğŸš€ goes to the ğŸŒ‘!&quot;</span>;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">let</span> <span class="variable">rocket</span> = utf8_slice::<span class="title function_ invoke__">slice</span>(s, <span class="number">4</span>, <span class="number">5</span>);</span><br><span class="line">   <span class="comment">// Will equal &quot;ğŸš€&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/06/25/%E5%AD%97%E7%AC%A6%E4%B8%B2/" data-id="cmckkof220006qrqw6zq33mrv" data-title="å­—ç¬¦ä¸²" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Rust/" rel="tag">Rust</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-æ•°ç»„åˆ‡ç‰‡" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/06/24/%E6%95%B0%E7%BB%84%E5%88%87%E7%89%87/" class="article-date">
  <time class="dt-published" datetime="2025-06-24T06:41:10.000Z" itemprop="datePublished">2025-06-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/06/24/%E6%95%B0%E7%BB%84%E5%88%87%E7%89%87/">æ•°ç»„åˆ‡ç‰‡</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h3><ul>
<li><font style="color:rgb(0, 0, 0);">é•¿åº¦å›ºå®š</font></li>
<li><font style="color:rgb(0, 0, 0);">å…ƒç´ å¿…é¡»æœ‰ç›¸åŒçš„ç±»å‹</font></li>
<li><font style="color:rgb(0, 0, 0);">ä¾æ¬¡çº¿æ€§æ’åˆ—</font></li>
</ul>
<p><font style="color:rgb(0, 0, 0);">è¿™é‡Œè¯´çš„æ•°ç»„æ˜¯ Rust çš„åŸºæœ¬ç±»å‹ï¼Œæ˜¯å›ºå®šé•¿åº¦çš„ï¼Œè¿™ç‚¹ä¸å…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸åŒï¼Œå…¶å®ƒç¼–ç¨‹è¯­è¨€çš„æ•°ç»„å¾€å¾€æ˜¯å¯å˜é•¿åº¦çš„ï¼Œä¸ Rust ä¸­çš„åŠ¨æ€æ•°ç»„ </font><code>Vecto</code><font style="color:rgb(0, 0, 0);"> ç±»ä¼¼</font></p>
<h4 id="åˆ›å»ºæ•°ç»„"><a href="#åˆ›å»ºæ•°ç»„" class="headerlink" title="åˆ›å»ºæ•°ç»„"></a><font style="color:rgb(0, 0, 0);">åˆ›å»ºæ•°ç»„</font></h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">a</span> = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="æ•°ç»„å£°æ˜ç±»å‹"><a href="#æ•°ç»„å£°æ˜ç±»å‹" class="headerlink" title="æ•°ç»„å£°æ˜ç±»å‹"></a><font style="color:rgb(0, 0, 0);">æ•°ç»„å£°æ˜ç±»å‹</font></h5><p><code>i32</code><font style="color:rgb(0, 0, 0);"> æ˜¯å…ƒç´ ç±»å‹ï¼Œåˆ†å·åé¢çš„æ•°å­— </font><code>5</code><font style="color:rgb(0, 0, 0);"> æ˜¯æ•°ç»„é•¿åº¦</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">a</span> = [<span class="number">3</span>; <span class="number">5</span>];</span><br></pre></td></tr></table></figure>

<p><code>[3; 5]</code><font style="color:rgb(0, 0, 0);"> å’Œ </font><code>[ç±»å‹; é•¿åº¦]</code></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">a</span> = [<span class="number">3</span>; <span class="number">5</span>];</span><br></pre></td></tr></table></figure>

<h3 id="æ•°ç»„åˆ‡ç‰‡"><a href="#æ•°ç»„åˆ‡ç‰‡" class="headerlink" title="æ•°ç»„åˆ‡ç‰‡"></a>æ•°ç»„åˆ‡ç‰‡</h3><p><font style="color:rgb(0, 0, 0);">è®¸ä½ å¼•ç”¨é›†åˆä¸­çš„éƒ¨åˆ†è¿ç»­ç‰‡æ®µï¼Œè€Œä¸æ˜¯æ•´ä¸ªé›†åˆï¼Œå¯¹äºæ•°ç»„ä¹Ÿæ˜¯ï¼Œæ•°ç»„åˆ‡ç‰‡å…è®¸æˆ‘ä»¬å¼•ç”¨æ•°ç»„çš„ä¸€éƒ¨åˆ†ï¼š</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">a</span>: [<span class="type">i32</span>; <span class="number">5</span>] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="variable">slice</span>: &amp;[<span class="type">i32</span>] = &amp;a[<span class="number">1</span>..<span class="number">3</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">assert_eq!</span>(slice, &amp;[<span class="number">2</span>, <span class="number">3</span>]);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/06/24/%E6%95%B0%E7%BB%84%E5%88%87%E7%89%87/" data-id="cmckkof26000eqrqwg8it0qgl" data-title="æ•°ç»„åˆ‡ç‰‡" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Rust/" rel="tag">Rust</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-æ‰€æœ‰æƒå’Œå€Ÿç”¨" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/06/23/%E6%89%80%E6%9C%89%E6%9D%83%E5%92%8C%E5%80%9F%E7%94%A8/" class="article-date">
  <time class="dt-published" datetime="2025-06-23T07:23:00.000Z" itemprop="datePublished">2025-06-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/06/23/%E6%89%80%E6%9C%89%E6%9D%83%E5%92%8C%E5%80%9F%E7%94%A8/">æ‰€æœ‰æƒå’Œå€Ÿç”¨</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="æ‰€æœ‰æƒ"><a href="#æ‰€æœ‰æƒ" class="headerlink" title="æ‰€æœ‰æƒ"></a>æ‰€æœ‰æƒ</h3><h4 id="æ‰€æœ‰æƒçš„åŸåˆ™"><a href="#æ‰€æœ‰æƒçš„åŸåˆ™" class="headerlink" title="æ‰€æœ‰æƒçš„åŸåˆ™"></a>æ‰€æœ‰æƒçš„åŸåˆ™</h4><ol>
<li><font style="color:rgb(0, 0, 0);">Rust ä¸­æ¯ä¸€ä¸ªå€¼éƒ½è¢«ä¸€ä¸ªå˜é‡æ‰€æ‹¥æœ‰ï¼Œè¯¥å˜é‡è¢«ç§°ä¸ºå€¼çš„æ‰€æœ‰è€…</font></li>
<li><font style="color:rgb(0, 0, 0);">ä¸€ä¸ªå€¼åŒæ—¶åªèƒ½è¢«ä¸€ä¸ªå˜é‡æ‰€æ‹¥æœ‰ï¼Œæˆ–è€…è¯´ä¸€ä¸ªå€¼åªèƒ½æ‹¥æœ‰ä¸€ä¸ªæ‰€æœ‰è€…</font></li>
<li><font style="color:rgb(0, 0, 0);">å½“æ‰€æœ‰è€…ï¼ˆå˜é‡ï¼‰ç¦»å¼€ä½œç”¨åŸŸèŒƒå›´æ—¶ï¼Œè¿™ä¸ªå€¼å°†è¢«ä¸¢å¼ƒ(drop)</font></li>
</ol>
<h4 id="è½¬ç§»æ‰€æœ‰æƒ"><a href="#è½¬ç§»æ‰€æœ‰æƒ" class="headerlink" title="è½¬ç§»æ‰€æœ‰æƒ"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/ownership/ownership.html#%E8%BD%AC%E7%A7%BB%E6%89%80%E6%9C%89%E6%9D%83"><font style="color:rgb(0, 0, 0);">è½¬ç§»æ‰€æœ‰æƒ</font></a></h4><p>è¯¥æ®µä»£ç æ˜¯é€šè¿‡<font style="color:#DF2A3F;">è‡ªåŠ¨æ‹·è´</font>çš„æ–¹å¼æ¥èµ‹å€¼,éƒ½è¢«å­˜åœ¨æ ˆä¸­,ä¸éœ€è¦å †ä¸Šåˆ†é…å†…å­˜;å› æ­¤ä¸éœ€è¦æ‰€æœ‰æƒè½¬ç§»</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">x</span> = <span class="number">5</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">y</span> = x;</span><br></pre></td></tr></table></figure>

<h4 id="String"><a href="#String" class="headerlink" title="String"></a>String</h4><blockquote>
<p>å›å¿†:å½“åˆæ¥è§¦ Java çš„æ—¶å€™ä¹Ÿè§‰å¾— String å¥½éš¾,æ•°ä¸æ¸…çš„ api è¦ç†Ÿæ‚‰</p>
</blockquote>
<p><font style="color:rgb(0, 0, 0);"><code>String</code> ç±»å‹æ˜¯ä¸€ä¸ªå¤æ‚ç±»å‹ï¼Œç”±å­˜å‚¨åœ¨æ ˆä¸­çš„</font><strong><font style="color:rgb(0, 0, 0);">å †æŒ‡é’ˆ</font></strong><font style="color:rgb(0, 0, 0);">ã€</font><strong><font style="color:rgb(0, 0, 0);">å­—ç¬¦ä¸²é•¿åº¦</font></strong><font style="color:rgb(0, 0, 0);">ã€</font><strong><font style="color:rgb(0, 0, 0);">å­—ç¬¦ä¸²å®¹é‡</font></strong><font style="color:rgb(0, 0, 0);">å…±åŒç»„æˆï¼Œå…¶ä¸­</font><strong><font style="color:rgb(0, 0, 0);">å †æŒ‡é’ˆ</font></strong><font style="color:rgb(0, 0, 0);">æ˜¯æœ€é‡è¦çš„ï¼Œå®ƒæŒ‡å‘äº†çœŸå®å­˜å‚¨å­—ç¬¦ä¸²å†…å®¹çš„å †å†…å­˜ï¼Œè‡³äºé•¿åº¦å’Œå®¹é‡;ï¼šå®¹é‡æ˜¯å †å†…å­˜åˆ†é…ç©ºé—´çš„å¤§å°ï¼Œé•¿åº¦æ˜¯ç›®å‰å·²ç»ä½¿ç”¨çš„å¤§å°</font></p>
<h5 id="String-æ˜¯å †åˆ†é…çš„æ‹¥æœ‰æ‰€æœ‰æƒçš„ç±»å‹"><a href="#String-æ˜¯å †åˆ†é…çš„æ‹¥æœ‰æ‰€æœ‰æƒçš„ç±»å‹" class="headerlink" title="String æ˜¯å †åˆ†é…çš„æ‹¥æœ‰æ‰€æœ‰æƒçš„ç±»å‹"></a>String æ˜¯å †åˆ†é…çš„æ‹¥æœ‰æ‰€æœ‰æƒçš„ç±»å‹</h5><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">s1</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">s2</span> = s1;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;, world!&quot;</span>, s1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è§£é‡Šï¼š</p>
<ul>
<li>String::from(â€œhelloâ€) åˆ›å»ºäº†ä¸€ä¸ªå †åˆ†é…çš„å­—ç¬¦ä¸²ï¼Œs1 æ˜¯å®ƒçš„æ‰€æœ‰è€…ã€‚</li>
<li>s2 &#x3D; s1; æ˜¯<strong>æ‰€æœ‰æƒçš„è½¬ç§»ï¼ˆmoveï¼‰</strong>ï¼Œs1 è¢«â€œæ¬èµ°â€ï¼Œä¸å†æœ‰æ•ˆã€‚</li>
<li>æ‰€ä»¥å†ä½¿ç”¨ s1 ä¼šæŠ¥é”™ï¼Œå› ä¸º Rust ä¸å…è®¸ä½¿ç”¨å·²ç»å¤±æ•ˆçš„æ‰€æœ‰æƒå˜é‡ã€‚</li>
</ul>
<h5 id="str-æ˜¯ä¸å¯å˜å¼•ç”¨ï¼ˆæŒ‡å‘é™æ€å†…å­˜ï¼‰"><a href="#str-æ˜¯ä¸å¯å˜å¼•ç”¨ï¼ˆæŒ‡å‘é™æ€å†…å­˜ï¼‰" class="headerlink" title="&amp;str æ˜¯ä¸å¯å˜å¼•ç”¨ï¼ˆæŒ‡å‘é™æ€å†…å­˜ï¼‰"></a>&amp;str æ˜¯ä¸å¯å˜å¼•ç”¨ï¼ˆæŒ‡å‘é™æ€å†…å­˜ï¼‰</h5><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">x</span>: &amp;<span class="type">str</span> = <span class="string">&quot;hello, world&quot;</span>;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">y</span> = x;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;,&#123;&#125;&quot;</span>,x,y);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è§£é‡Šï¼š</p>
<ul>
<li>â€œhello, worldâ€ æ˜¯ä¸€ä¸ª å­—ç¬¦ä¸²å­—é¢é‡ï¼Œç±»å‹æ˜¯ &amp;â€™static strï¼Œä¿å­˜åœ¨ åªè¯»å†…å­˜åŒºåŸŸã€‚</li>
<li>x æ˜¯è¿™ä¸ªå­—ç¬¦ä¸²çš„ä¸å¯å˜å¼•ç”¨ã€‚</li>
<li>y &#x3D; x åªæ˜¯å¤åˆ¶äº†å¼•ç”¨ï¼ˆæŒ‡é’ˆåœ°å€ï¼‰ï¼Œæ²¡æœ‰æ‰€æœ‰æƒçš„è½¬ç§»ã€‚</li>
<li>æ‰€ä»¥ x å’Œ y éƒ½å¯ä»¥ç»§ç»­ä½¿ç”¨ã€‚</li>
</ul>
<p>&amp;â€™static str</p>
<ul>
<li>æŒ‡å‘ä¸€æ®µåªè¯» UTF-8 å­—ç¬¦ä¸²çš„ä¸å¯å˜å¼•ç”¨</li>
<li>è¿™æ®µå†…å­˜ç”±ç¼–è¯‘å™¨åœ¨ç¨‹åºç¼–è¯‘æ—¶åˆ†é…ï¼Œæ°¸è¿œä¸ä¼šé‡Šæ”¾</li>
<li>æ‰€ä»¥ä½ ä¸éœ€è¦ä¹Ÿä¸èƒ½ç®¡ç†å®ƒçš„ç”Ÿå‘½å‘¨æœŸ</li>
</ul>
<h6 id="ä¸ºä»€ä¹ˆ-str-ä¸ä¼šè½¬ç§»æ‰€æœ‰æƒ"><a href="#ä¸ºä»€ä¹ˆ-str-ä¸ä¼šè½¬ç§»æ‰€æœ‰æƒ" class="headerlink" title="** ä¸ºä»€ä¹ˆ &amp;str ä¸ä¼šè½¬ç§»æ‰€æœ‰æƒ **"></a>** ä¸ºä»€ä¹ˆ <code>&amp;str</code> ä¸ä¼šè½¬ç§»æ‰€æœ‰æƒ **</h6><p>å› ä¸ºå®ƒåªæ˜¯ä¸€ä¸ªâ€œåªè¯»æŒ‡é’ˆâ€ï¼Œä¸æ‹¥æœ‰çœŸæ­£çš„å†…å­˜å—ã€‚</p>
<ul>
<li>æ‰€æœ‰æƒæ¦‚å¿µåªé€‚ç”¨äºæ‹¥æœ‰å †å†…å­˜çš„æ•°æ®ï¼Œå¦‚ <code>String</code>ã€<code>Vec</code>ã€‚</li>
<li><code>&amp;str</code> åªæ˜¯â€œçœ‹ä¸€ä¸‹â€è€Œå·²ï¼ŒRust ç¼–è¯‘å™¨ä¸è®¤ä¸ºä½ æŠŠä¸œè¥¿â€œæ¬èµ°â€äº†ï¼Œæ‰€ä»¥ä¸ä¼šè§¦å‘ <code>move</code>ã€‚</li>
</ul>
<h5 id="String-vs-str"><a href="#String-vs-str" class="headerlink" title="String vs &amp;str"></a>String vs &amp;str</h5><table>
<thead>
<tr>
<th>è¡¨è¾¾å¼</th>
<th>ç±»å‹</th>
<th>å­˜å‚¨ä½ç½®</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>&quot;hello, world&quot;</code></td>
<td><code>&amp;&#39;static str</code></td>
<td>ç¼–è¯‘æœŸé™æ€å†…å­˜</td>
<td><code>&amp;str</code> æ˜¯å€Ÿç”¨çš„å­—ç¬¦ä¸²åˆ‡ç‰‡ï¼ˆå¼•ç”¨ï¼‰ï¼Œè€Œä¸æ˜¯æ‹¥æœ‰å†…å­˜çš„å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td><code>String::from(&quot;hello&quot;)</code></td>
<td><code>String</code></td>
<td>å †ï¼ˆheapï¼‰</td>
<td>æ˜¯ä¸€ä¸ª æ‹¥æœ‰æ‰€æœ‰æƒçš„åŠ¨æ€å­—ç¬¦ä¸²å¯¹è±¡</td>
</tr>
</tbody></table>
<ul>
<li>String å°±åƒä¸€ä¸ªæ‹¥æœ‰è‡ªå·±â€œå†…å­˜â€çš„åŒ…è£¹ï¼ˆç›’å­ï¼‰ï¼Œé‡Œé¢è£…çš„æ˜¯å­—ç¬¦æ•°ç»„ã€‚</li>
<li>&amp;str å°±åƒæ˜¯ä»è¿™ä¸ªåŒ…è£¹é‡Œâ€œæ‹†å‡ºâ€ä¸€å—æ ‡ç­¾ï¼ŒæŒ‡å‘è¿™æ®µå­—ç¬¦æ•°æ®ã€‚</li>
<li>ä½ ä¸èƒ½ç›´æ¥ç”¨ä¸€ä¸ªåŒ…è£¹å½“ä½œæ ‡ç­¾ï¼Œå¾—â€œæ‰“å¼€â€å®ƒï¼Œæ‹¿å‡ºæ ‡ç­¾ï¼ˆå³ &amp;stringï¼‰ã€‚</li>
</ul>
<h6 id="ä¸¾ä¾‹"><a href="#ä¸¾ä¾‹" class="headerlink" title="ä¸¾ä¾‹"></a>ä¸¾ä¾‹</h6><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">s</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> <span class="variable">s_slice</span>: &amp;<span class="type">str</span> = &amp;s;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>s</code> æ‹¥æœ‰å †ä¸Šçš„å­—ç¬¦ä¸² <code>&quot;hello&quot;</code></li>
<li><code>s_slice</code> åªæ˜¯â€œå€Ÿç”¨â€äº† <code>s</code> çš„ä¸€éƒ¨åˆ†æˆ–è€…å…¨éƒ¨</li>
<li>ä¸ä¼šå‘ç”Ÿæ‰€æœ‰æƒè½¬ç§»</li>
<li><code>s</code> å’Œ <code>s_slice</code> å¯ä»¥åŒæ—¶ä½¿ç”¨ï¼ˆå› ä¸º <code>&amp;str</code> æ˜¯ä¸å¯å˜å¼•ç”¨ï¼‰</li>
</ul>
<h5 id="å…‹éš†-æ·±æ‹·è´"><a href="#å…‹éš†-æ·±æ‹·è´" class="headerlink" title="å…‹éš†(æ·±æ‹·è´)"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/ownership/ownership.html#%E5%85%8B%E9%9A%86%E6%B7%B1%E6%8B%B7%E8%B4%9D"><font style="color:rgb(0, 0, 0);">å…‹éš†(æ·±æ‹·è´)</font></a></h5><p><font style="color:rgb(0, 0, 0);">Rust æ°¸è¿œä¹Ÿä¸ä¼šè‡ªåŠ¨åˆ›å»ºæ•°æ®çš„ â€œæ·±æ‹·è´â€ä»»ä½•</font><strong><font style="color:rgb(0, 0, 0);">è‡ªåŠ¨</font></strong><font style="color:rgb(0, 0, 0);">çš„å¤åˆ¶éƒ½ä¸æ˜¯æ·±æ‹·è´ï¼Œå¯ä»¥è¢«è®¤ä¸ºå¯¹è¿è¡Œæ—¶æ€§èƒ½å½±å“è¾ƒå°ã€‚</font></p>
<p><font style="color:rgb(0, 0, 0);">æ·±æ‹·è´ä½¿ç”¨<code>clone</code></font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">s1</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> <span class="variable">s2</span> = s1.<span class="title function_ invoke__">clone</span>();</span><br><span class="line"></span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;s1 = &#123;&#125;, s2 = &#123;&#125;&quot;</span>, s1, s2);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="æ‹·è´-æµ…æ‹·è´-æµ…æ‹·è´"><a href="#æ‹·è´-æµ…æ‹·è´-æµ…æ‹·è´" class="headerlink" title="æ‹·è´(æµ…æ‹·è´)æµ…æ‹·è´"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/ownership/ownership.html#%E6%8B%B7%E8%B4%9D%E6%B5%85%E6%8B%B7%E8%B4%9D"><font style="color:rgb(0, 0, 0);">æ‹·è´(æµ…æ‹·è´)</font></a><font style="color:rgb(0, 0, 0);">æµ…æ‹·è´</font></h5><p><font style="color:rgb(0, 0, 0);">åªå‘ç”Ÿåœ¨æ ˆä¸Šï¼Œå› æ­¤æ€§èƒ½å¾ˆé«˜ï¼Œåœ¨æ—¥å¸¸ç¼–ç¨‹ä¸­ï¼Œæµ…æ‹·è´æ— å¤„ä¸åœ¨;</font><font style="color:rgb(0, 0, 0);">å«åš <code>copy</code> çš„ç‰¹å¾</font></p>
<p><font style="color:rgb(0, 0, 0);">ä»»ä½•åŸºæœ¬ç±»å‹çš„ç»„åˆå¯ä»¥</font><code>copy</code>ä¸éœ€è¦åˆ†é…å†…å­˜æˆ–æŸç§å½¢å¼èµ„æºçš„ç±»å‹æ˜¯å¯ä»¥ <code>copy</code> çš„</p>
<p><font style="color:rgb(0, 0, 0);">ä¸å¯å˜å¼•ç”¨ </font><code>&amp;T</code><font style="color:rgb(0, 0, 0);">å¯å˜å¼•ç”¨ </font><code>&amp;mut T</code><font style="color:rgb(0, 0, 0);"> æ˜¯ä¸å¯ä»¥ Copy çš„</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">x</span> = <span class="number">5</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">y</span> = x;</span><br><span class="line"></span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;x = &#123;&#125;, y = &#123;&#125;&quot;</span>, x, y);</span><br></pre></td></tr></table></figure>

<h5 id="å‡½æ•°ä¼ å€¼ä¸è¿”å›"><a href="#å‡½æ•°ä¼ å€¼ä¸è¿”å›" class="headerlink" title="å‡½æ•°ä¼ å€¼ä¸è¿”å›"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/ownership/ownership.html#%E5%87%BD%E6%95%B0%E4%BC%A0%E5%80%BC%E4%B8%8E%E8%BF%94%E5%9B%9E"><font style="color:rgb(0, 0, 0);">å‡½æ•°ä¼ å€¼ä¸è¿”å›</font></a></h5><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">  <span class="keyword">let</span> <span class="variable">a</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">  <span class="keyword">let</span> <span class="variable">b</span> = <span class="number">123</span>;</span><br><span class="line">  <span class="title function_ invoke__">str</span>(a);</span><br><span class="line">  <span class="title function_ invoke__">copy</span>(b);</span><br><span class="line">  <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, a); <span class="comment">// è¿™è¡Œä¼šæŠ¥é”™å‡ºaç¦»å¼€strä½œç”¨åŸŸå°±ä¼šdrop</span></span><br><span class="line">  <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">str</span>(some_string: <span class="type">String</span>)&#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, some_string)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">copy</span>(some_integer: <span class="type">i32</span>)&#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, some_integer)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="as-bytes-å’Œ-into-bytes"><a href="#as-bytes-å’Œ-into-bytes" class="headerlink" title="as_bytes å’Œ into_bytes"></a>as_bytes å’Œ into_bytes</h5><p>into_bytes</p>
<ul>
<li>è¿”å›å€¼ç±»å‹æ˜¯ï¼š<code>Vec&lt;u8&gt;</code> â†’ ä¸€ä¸ªæ–°çš„å­—èŠ‚æ•°ç»„ï¼Œæ‹¥æœ‰å †å†…å­˜</li>
<li>è½¬ç§»äº† <code>String</code> çš„æ‰€æœ‰æƒï¼Œ<code>s</code> ä¸å†å¯ç”¨</li>
<li>åˆ›å»ºæ–°å¯¹è±¡å¹¶è¿”å›ï¼Œå¯éšæ„ä¿®æ”¹</li>
</ul>
<p>as_bytes()</p>
<ul>
<li>è¿”å›å€¼ç±»å‹æ˜¯ï¼š<code>&amp;[u8]</code> â†’ å­—èŠ‚åˆ‡ç‰‡çš„å¼•ç”¨</li>
<li>æ˜¯å¯¹ <code>String</code> ä¸­åº•å±‚æ•°æ®çš„ ä¸å¯å˜å€Ÿç”¨</li>
<li>ä¸åˆ›å»ºæ–°æ•°æ®ã€ä¸ç§»åŠ¨å†…å­˜</li>
<li>å¿«é€Ÿã€å®‰å…¨</li>
<li>ä¸èƒ½ä¿®æ”¹è¿”å›çš„å­—èŠ‚æ•°ç»„</li>
</ul>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">s</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">    <span class="comment">// as_bytes ä¸è½¬ç§»æ‰€æœ‰æƒ</span></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">a</span> = s.<span class="title function_ invoke__">as_bytes</span>();         <span class="comment">// a: &amp;[u8]</span></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;:?&#125;&quot;</span>, a);          <span class="comment">// è¾“å‡º: [104, 101, 108, 108, 111]</span></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, s);            <span class="comment">// âœ… s è¿˜èƒ½ç”¨</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// into_bytes ä¼šè½¬ç§»æ‰€æœ‰æƒ</span></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">b</span> = s.<span class="title function_ invoke__">into_bytes</span>();       <span class="comment">// b: Vec&lt;u8&gt;</span></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;:?&#125;&quot;</span>, b);          <span class="comment">// è¾“å‡º: [104, 101, 108, 108, 111]</span></span><br><span class="line">    <span class="comment">// println!(&quot;&#123;&#125;&quot;, s);         // âŒ ç¼–è¯‘é”™è¯¯ï¼šs å·²è¢« move</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>è¿”å›ç±»å‹</th>
<th>æ˜¯å¦æ¶ˆè€— <code>String</code> æ‰€æœ‰æƒ</th>
<th>æ˜¯å¦åˆ†é…æ–°å†…å­˜</th>
<th>æ˜¯å¦å¯ä¿®æ”¹</th>
</tr>
</thead>
<tbody><tr>
<td><code>as_bytes()</code></td>
<td><code>&amp;[u8]</code>ï¼ˆå­—èŠ‚åˆ‡ç‰‡å¼•ç”¨ï¼‰</td>
<td>âŒ å¦ï¼ˆåªæ˜¯å€Ÿç”¨ï¼‰</td>
<td>âŒ å¦</td>
<td>âŒ ä¸å¯ä¿®æ”¹</td>
</tr>
<tr>
<td><code>into_bytes()</code></td>
<td><code>Vec&lt;u8&gt;</code>ï¼ˆå †åˆ†é…çš„å­—èŠ‚æ•°ç»„ï¼‰</td>
<td>âœ… æ˜¯ï¼ˆç§»åŠ¨æ‰€æœ‰æƒï¼‰</td>
<td>âœ… æ˜¯</td>
<td>âœ… å¯ä¿®æ”¹</td>
</tr>
</tbody></table>
<p>åªçœ‹ä¸åŠ¨ç”¨ <code>as_bytes()</code>ï¼Œè¦æ”¹è¦å¸¦èµ°ç”¨ <code>into_bytes()</code></p>
<h5 id="ref"><a href="#ref" class="headerlink" title="ref"></a>ref</h5><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">t</span> = (<span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hello&quot;</span>), <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;world&quot;</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// fill the blanks</span></span><br><span class="line">    <span class="keyword">let</span> (<span class="keyword">ref</span> s1, <span class="keyword">ref</span> s2) = t;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;:?&#125;, &#123;:?&#125;, &#123;:?&#125;&quot;</span>, s1, s2, t); <span class="comment">// -&gt; &quot;hello&quot;, &quot;world&quot;, (&quot;hello&quot;, &quot;world&quot;)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> (<span class="keyword">ref</span> s1, <span class="keyword">ref</span> s2) = t</span><br></pre></td></tr></table></figure>

<p>è¿™è¡Œä»£ç çš„æ„æ€æ˜¯æˆ‘ä¸è¦æŠŠ <code>t</code> æ‹†å¼€å¹¶ç§»åŠ¨ï¼ˆmoveï¼‰é‡Œé¢çš„ä¸¤ä¸ª <code>String</code>ï¼Œè€Œæ˜¯æƒ³ç”¨å¼•ç”¨çš„æ–¹å¼å€Ÿç”¨å®ƒä»¬ï¼Œè®© <code>s1</code> å’Œ <code>s2</code> æ˜¯ä¸¤ä¸ª <code>&amp;String</code> ç±»å‹çš„å¼•ç”¨ã€‚</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">t ----------<span class="punctuation">-&gt;</span> (<span class="title function_ invoke__">String</span>(<span class="string">&quot;hello&quot;</span>), <span class="title function_ invoke__">String</span>(<span class="string">&quot;world&quot;</span>))</span><br><span class="line">                |              |</span><br><span class="line">               <span class="keyword">ref</span>            <span class="keyword">ref</span></span><br><span class="line">                |              |</span><br><span class="line">              s1: &amp;<span class="type">String</span>    s2: &amp;<span class="type">String</span></span><br></pre></td></tr></table></figure>

<h5 id="Box-å’Œè§£å¼•ç”¨æ“ä½œ"><a href="#Box-å’Œè§£å¼•ç”¨æ“ä½œ" class="headerlink" title="Box å’Œè§£å¼•ç”¨æ“ä½œ *"></a>Box<T> å’Œè§£å¼•ç”¨æ“ä½œ *</h5><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">x</span> = <span class="type">Box</span>::<span class="title function_ invoke__">new</span>(<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">y</span> = <span class="type">Box</span>::<span class="title function_ invoke__">new</span>(<span class="number">3</span>);   <span class="comment">// å…³é”®ï¼šå¯å˜ç»‘å®šï¼</span></span><br><span class="line"></span><br><span class="line">    *y = <span class="number">4</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">assert_eq!</span>(*x, <span class="number">5</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="Box-new-5-æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ"><a href="#Box-new-5-æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ" class="headerlink" title="Box::new(5) æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ"></a>Box::new(5) æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let x = Box::new(5);</span><br></pre></td></tr></table></figure>

<ul>
<li><code>Box&lt;T&gt;</code> æ˜¯ Rust æä¾›çš„ <strong>å †åˆ†é…æ™ºèƒ½æŒ‡é’ˆ</strong></li>
<li><code>Box::new(5)</code> æŠŠå€¼ <code>5</code> æ”¾å…¥å †å†…å­˜ï¼Œå¹¶è¿”å›ä¸€ä¸ªæŒ‡å‘å®ƒçš„ <code>Box&lt;i32&gt;</code></li>
<li><code>x</code> ç°åœ¨æŒæœ‰è¿™å—å †å†…å­˜çš„æ‰€æœ‰æƒ</li>
<li>å†…å­˜å¸ƒå±€å¦‚ä¸‹ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æ ˆï¼šx ---------------&gt; å †ï¼š[5]</span><br></pre></td></tr></table></figure>

<h6 id="âœ…-let-mut-y-Box-new-3-è¿™å¥ä¸ºä»€ä¹ˆåŠ -mutï¼Ÿ"><a href="#âœ…-let-mut-y-Box-new-3-è¿™å¥ä¸ºä»€ä¹ˆåŠ -mutï¼Ÿ" class="headerlink" title="âœ… let mut y = Box::new(3); è¿™å¥ä¸ºä»€ä¹ˆåŠ  mutï¼Ÿ"></a>âœ… <code>let mut y = Box::new(3);</code> è¿™å¥ä¸ºä»€ä¹ˆåŠ  <code>mut</code>ï¼Ÿ</h6><ul>
<li><code>Box&lt;T&gt;</code> æœ¬èº«æ˜¯ä¸€ä¸ªä¸å¯å˜æŒ‡é’ˆï¼ˆé»˜è®¤ï¼‰</li>
<li>å¦‚æœä½ æƒ³ä¿®æ”¹ <strong>å®ƒæŒ‡å‘çš„å€¼</strong>ï¼Œå°±å¿…é¡»å…ˆè®©å˜é‡ <code>y</code> æ˜¯ <code>mut</code> çš„</li>
<li>å¦åˆ™ä¸‹é¢çš„ <code>*y = 4;</code> ä¼šæŠ¥é”™ï¼</li>
</ul>
<h6 id="âœ…-y-4-æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ"><a href="#âœ…-y-4-æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ" class="headerlink" title="âœ… *y = 4; æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ"></a>âœ… <code>*y = 4;</code> æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ</h6><ul>
<li>è¿™æ˜¯<strong>è§£å¼•ç”¨æ“ä½œç¬¦</strong>ï¼Œè¡¨ç¤ºâ€œè®¿é—® Box æŒ‡å‘çš„å€¼â€</li>
<li>ç±»ä¼¼äº C&#x2F;C++ é‡Œçš„ <code>*ptr = 4;</code>ï¼šæŠŠæŒ‡é’ˆæŒ‡å‘çš„å†…å®¹æ”¹æˆ 4</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let mut y = Box::new(3); // y æŒ‡å‘å †ä¸­å€¼ 3</span><br><span class="line">*y = 4;                  // æŠŠå †ä¸­çš„å€¼æ”¹æˆ 4</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œåï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æ ˆï¼šy ---------------&gt; å †ï¼š[4]</span><br></pre></td></tr></table></figure>

<h6 id="âœ…-assert-eq-x-5-æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ"><a href="#âœ…-assert-eq-x-5-æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ" class="headerlink" title="âœ… assert_eq!(*x, 5); æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ"></a>âœ… <code>assert_eq!(*x, 5);</code> æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ</h6><ul>
<li><code>*x</code> æ˜¯è§£å¼•ç”¨ <code>x</code>ï¼Œæ‹¿åˆ° <code>Box</code> æŒ‡å‘çš„å€¼</li>
<li><code>assert_eq!</code> ç”¨æ¥åšæµ‹è¯•æ–­è¨€ï¼ŒéªŒè¯å€¼æ˜¯å¦ç­‰äºé¢„æœŸ</li>
<li>æœ¬å¥æ–­è¨€ï¼šx æŒ‡å‘çš„å€¼æ˜¯ 5 â†’ âœ… æˆç«‹</li>
</ul>
<h6 id="ğŸ§ -æ€»ç»“"><a href="#ğŸ§ -æ€»ç»“" class="headerlink" title="ğŸ§  æ€»ç»“"></a>ğŸ§  æ€»ç»“</h6><table>
<thead>
<tr>
<th>è¡¨è¾¾å¼</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>Box::new(5)</code></td>
<td>æŠŠ 5 æ”¾è¿›å †é‡Œï¼Œå¹¶è¿”å›ä¸€ä¸ªæŒ‡å‘å®ƒçš„æ™ºèƒ½æŒ‡é’ˆ</td>
</tr>
<tr>
<td><code>let mut y</code></td>
<td>è®© y å¯å˜ï¼Œè¿™æ ·æ‰èƒ½é€šè¿‡ y ä¿®æ”¹å †ä¸­çš„æ•°æ®</td>
</tr>
<tr>
<td><code>*y = 4</code></td>
<td>è§£å¼•ç”¨ yï¼Œä¿®æ”¹å®ƒæŒ‡å‘çš„å †å†…å­˜é‡Œçš„å€¼</td>
</tr>
<tr>
<td><code>*x</code></td>
<td>è§£å¼•ç”¨ xï¼Œè·å–å®ƒæŒ‡å‘çš„å€¼</td>
</tr>
</tbody></table>
<h6 id="ğŸ§¾-ç±»æ¯”ç†è§£ï¼ˆBox-å°±åƒç›’å­ï¼‰ï¼š"><a href="#ğŸ§¾-ç±»æ¯”ç†è§£ï¼ˆBox-å°±åƒç›’å­ï¼‰ï¼š" class="headerlink" title="ğŸ§¾ ç±»æ¯”ç†è§£ï¼ˆBox å°±åƒç›’å­ï¼‰ï¼š"></a>ğŸ§¾ ç±»æ¯”ç†è§£ï¼ˆBox å°±åƒç›’å­ï¼‰ï¼š</h6><ul>
<li><code>Box::new(5)</code>ï¼šæŠŠ 5 è£…è¿›ä¸€ä¸ªâ€œç›’å­â€ï¼ˆå †ï¼‰</li>
<li><code>*x</code>ï¼šæ‰“å¼€ç›’å­ï¼Œçœ‹åˆ°é‡Œé¢æ˜¯ 5</li>
<li><code>*y = 4</code>ï¼šæ‰“å¼€ç›’å­ï¼ŒæŠŠ 3 æ¢æˆ 4</li>
</ul>
<h3 id="å¼•ç”¨ä¸å€Ÿç”¨"><a href="#å¼•ç”¨ä¸å€Ÿç”¨" class="headerlink" title="å¼•ç”¨ä¸å€Ÿç”¨"></a>å¼•ç”¨ä¸å€Ÿç”¨</h3><p><font style="color:rgb(0, 0, 0);">Rust èƒ½å¦åƒå…¶å®ƒç¼–ç¨‹è¯­è¨€ä¸€æ ·ï¼Œä½¿ç”¨æŸä¸ªå˜é‡çš„æŒ‡é’ˆæˆ–è€…å¼•ç”¨å‘¢ï¼Ÿç­”æ¡ˆæ˜¯å¯ä»¥</font><font style="color:rgb(0, 0, 0);">ã€‚</font><font style="color:rgb(0, 0, 0);">Rust é€šè¿‡ </font><code>å€Ÿç”¨(Borrowing)</code><font style="color:rgb(0, 0, 0);"> è¿™ä¸ªæ¦‚å¿µæ¥è¾¾æˆä¸Šè¿°çš„ç›®çš„ï¼Œ</font><strong><font style="color:rgb(0, 0, 0);">è·å–å˜é‡çš„å¼•ç”¨ï¼Œç§°ä¹‹ä¸ºå€Ÿç”¨(borrowing)</font></strong><font style="color:rgb(0, 0, 0);">ã€‚æ­£å¦‚ç°å®ç”Ÿæ´»ä¸­ï¼Œå¦‚æœä¸€ä¸ªäººæ‹¥æœ‰æŸæ ·ä¸œè¥¿ï¼Œä½ å¯ä»¥ä»ä»–é‚£é‡Œå€Ÿæ¥ï¼Œå½“ä½¿ç”¨å®Œæ¯•åï¼Œä¹Ÿå¿…é¡»è¦ç‰©å½’åŸä¸»ã€‚</font></p>
<h4 id="å¼•ç”¨ä¸è§£å¼•ç”¨"><a href="#å¼•ç”¨ä¸è§£å¼•ç”¨" class="headerlink" title="å¼•ç”¨ä¸è§£å¼•ç”¨"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/ownership/borrowing.html#%E5%BC%95%E7%94%A8%E4%B8%8E%E8%A7%A3%E5%BC%95%E7%94%A8"><font style="color:rgb(0, 0, 0);">å¼•ç”¨ä¸è§£å¼•ç”¨</font></a></h4><p><font style="color:rgb(0, 0, 0);">å¸¸è§„å¼•ç”¨æ˜¯ä¸€ä¸ªæŒ‡é’ˆç±»å‹ï¼ŒæŒ‡å‘äº†å¯¹è±¡å­˜å‚¨çš„å†…å­˜åœ°å€ã€‚åœ¨ä¸‹é¢ä»£ç ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ª </font><code>i32</code><font style="color:rgb(0, 0, 0);"> å€¼çš„å¼•ç”¨ <code>y</code>ï¼Œç„¶åä½¿ç”¨è§£å¼•ç”¨è¿ç®—ç¬¦æ¥è§£å‡º </font><code>y</code><font style="color:rgb(0, 0, 0);"> æ‰€ä½¿ç”¨çš„å€¼:</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">x</span> = <span class="number">5</span>;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">y</span> = &amp;x;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">assert_eq!</span>(<span class="number">5</span>, x);</span><br><span class="line">    <span class="built_in">assert_eq!</span>(<span class="number">5</span>, *y);</span><br><span class="line">    <span class="built_in">assert_eq!</span>(y, <span class="number">5</span>);     <span class="comment">// âŒ é”™è¯¯ï¼šy æ˜¯ &amp;i32ï¼Œ5 æ˜¯ i32</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>å˜é‡ <code>x</code> æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œå€¼ä¸º 5ï¼Œ<code>y</code> æ˜¯å¯¹ <code>x</code> çš„å¼•ç”¨ã€‚<br>è¦è·å– <code>y</code> æŒ‡å‘çš„å€¼ï¼Œéœ€è¦ç”¨ <code>*y</code> è§£å¼•ç”¨ï¼Œè¿™æ ·æ‰èƒ½å’Œ 5 æ¯”è¾ƒã€‚</li>
<li><strong>Rust ä¸å…è®¸ä½ ç›´æ¥æŠŠå¼•ç”¨ï¼ˆæ¯”å¦‚ <strong><code>**&amp;x**</code></strong>ï¼‰å’Œæ•´æ•°ï¼ˆæ¯”å¦‚ <strong><code>**5**</code></strong>ï¼‰è¿›è¡Œæ¯”è¾ƒ</strong>ï¼Œå› ä¸ºå®ƒä»¬æ˜¯<strong>ä¸åŒçš„ç±»å‹</strong>ã€‚</li>
</ol>
<h4 id="ä¸å¯å˜å¼•ç”¨"><a href="#ä¸å¯å˜å¼•ç”¨" class="headerlink" title="ä¸å¯å˜å¼•ç”¨"></a>ä¸å¯å˜å¼•ç”¨</h4><p><font style="color:rgb(31,35,40);">é€šè¿‡ä¸å¯å˜å¼•ç”¨ï¼Œå¯ä»¥è¯»å–æ•°æ®ï¼Œä½†ä¸èƒ½ä¿® æ”¹æ•°æ®ã€‚ä¸€ä¸ªå˜é‡å¯ä»¥æœ‰å¤šä¸ªä¸å¯å˜å¼•ç”¨ï¼Œä½†ä¸èƒ½ä¸å¯å˜å¼•ç”¨å…±å­˜</font></p>
<p><code>&amp;s1</code><font style="color:rgb(0, 0, 0);"> è¯­æ³•ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª</font><strong><font style="color:rgb(0, 0, 0);">æŒ‡å‘ </font></strong><code>s1</code><strong><font style="color:rgb(0, 0, 0);"> çš„å¼•ç”¨</font></strong><font style="color:rgb(0, 0, 0);">ï¼Œä½†æ˜¯å¹¶ä¸æ‹¥æœ‰å®ƒ,å¼•ç”¨æŒ‡å‘çš„å€¼é»˜è®¤ä¹Ÿæ˜¯ä¸å¯å˜çš„,ä¸èƒ½å¯¹å…¶è¿›è¡Œä¿®æ”¹</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">s1</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;Hello World&quot;</span>);</span><br><span class="line">    <span class="title function_ invoke__">calculate_length</span>(&amp;s1);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä¼šæŠ¥é”™</span></span><br><span class="line"><span class="comment">//^ `s1` is a `&amp;` reference, so the data it refers to cannot be borrowed as mutable</span></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">calculate_length</span>(s1: &amp;<span class="type">String</span>) &#123;</span><br><span class="line">    s1.<span class="title function_ invoke__">push_str</span>(<span class="string">&quot;string&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="å¯å˜å¼•ç”¨"><a href="#å¯å˜å¼•ç”¨" class="headerlink" title="å¯å˜å¼•ç”¨"></a>å¯å˜å¼•ç”¨</h4><p><font style="color:rgb(31,35,40);">é€šè¿‡å¯å˜å¼•ç”¨ï¼Œå¯ä»¥è¯»å–å’Œä¿®æ”¹æ•°æ®ã€‚ä¸€ä¸ªå˜é‡ åœ¨æŸä¸€æ—¶åˆ»åªèƒ½æœ‰ä¸€ä¸ªå¯å˜å¼•ç”¨ï¼Œä¸”ä¸èƒ½ä¸ä¸å¯å˜å¼•ç”¨å…±å­˜</font></p>
<p><code>str</code><font style="color:rgb(0, 0, 0);"> æ˜¯å¯å˜ç±»å‹ï¼Œå…¶æ¬¡åˆ›å»ºä¸€ä¸ªå¯å˜çš„å¼•ç”¨ </font><code>&amp;mut str</code><font style="color:rgb(0, 0, 0);"> å’Œæ¥å—å¯å˜å¼•ç”¨å‚æ•° </font><code>&quot;&gt;s: &amp;mut String</code><font style="color:rgb(0, 0, 0);"> çš„å‡½æ•°</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">str</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;Hello World&quot;</span>);</span><br><span class="line">    <span class="title function_ invoke__">calculate_length</span>(&amp;<span class="keyword">mut</span> <span class="type">str</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">calculate_length</span>(s: &amp;<span class="keyword">mut</span> <span class="type">String</span>) &#123;</span><br><span class="line">    s.<span class="title function_ invoke__">push_str</span>(<span class="string">&quot;string&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="åŒä¸€ä½œç”¨åŸŸï¼Œç‰¹å®šæ•°æ®åªèƒ½æœ‰ä¸€ä¸ªå¯å˜å¼•ç”¨"><a href="#åŒä¸€ä½œç”¨åŸŸï¼Œç‰¹å®šæ•°æ®åªèƒ½æœ‰ä¸€ä¸ªå¯å˜å¼•ç”¨" class="headerlink" title=" åŒä¸€ä½œç”¨åŸŸï¼Œç‰¹å®šæ•°æ®åªèƒ½æœ‰ä¸€ä¸ªå¯å˜å¼•ç”¨"></a><font style="color:rgb(0, 0, 0);"> åŒä¸€ä½œç”¨åŸŸï¼Œç‰¹å®šæ•°æ®åªèƒ½æœ‰ä¸€ä¸ªå¯å˜å¼•ç”¨</font></h5><p>é”™è¯¯åŸå› :ä½ è¿˜æ²¡ç”¨å®Œ <code>a</code>ï¼Œåˆåˆ›å»ºäº† <code>b</code>ï¼ŒRust ä¸çŸ¥é“ä½ ä¼šä¸ä¼šä¸¤ä¸ªåŒæ—¶ä¿®æ”¹ <code>x</code>ï¼Œæ‰€ä»¥ç›´æ¥æŠ¥é”™ã€‚</p>
<p>å°±åƒä½ å®¶çš„ä¸€æŠŠé’¥åŒ™ç»™äº†å“¥å“¥è¿˜æ²¡æ”¶å›æ¥ï¼Œä½ åˆç»™äº†å¦¹å¦¹ä¸€æŠŠ è¿™å®¹æ˜“å‡ºé—®é¢˜</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">x</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">a</span> = &amp;<span class="keyword">mut</span> x;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">b</span> = &amp;<span class="keyword">mut</span> x;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, a);</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Rust æ˜¯èªæ˜çš„ï¼Œå®ƒçœ‹åˆ°ä½ åœ¨ <code>println!(&quot;&#123;&#125;&quot;, a);</code> ä¹‹åå°±<strong>ä¸å†ä½¿ç”¨ <strong><code>**a**</code></strong> äº†</strong>ï¼Œæ‰€ä»¥å°±å…è®¸ä½ åˆ›å»º <code>b</code>ã€‚</p>
<p>ä½ å¯ä»¥ç†è§£ä¸ºï¼šæˆ‘æ”¶å›äº†å“¥å“¥æ‰‹é‡Œçš„é’¥åŒ™ï¼ˆ<code>a</code> ç”¨å®Œäº†ï¼‰ï¼Œæ‰æŠŠé’¥åŒ™ç»™äº†å¦¹å¦¹ï¼ˆ<code>b</code>ï¼‰ï¼Œæ‰€ä»¥æ˜¯å®‰å…¨çš„ã€‚</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">x</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">a</span> = &amp;<span class="keyword">mut</span> x;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, a);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">b</span> = &amp;<span class="keyword">mut</span> x;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Rust è§„å®šï¼š<strong>åŒä¸€æ—¶é—´åªèƒ½æœ‰ä¸€ä¸ªäººåŠ¨è¿™ä¸ªä¸œè¥¿ï¼ˆå¯å˜å¼•ç”¨åªèƒ½æœ‰ä¸€ä¸ªï¼‰</strong>ï¼Œé™¤éå‰ä¸€ä¸ªå·²ç»ä¸ç”¨äº†ã€‚</p>
<p>ä¸‹é¢ä»£ç ä¼šæŠ¥é”™</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">x</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">a</span> = &amp;<span class="keyword">mut</span> x;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, a);  <span class="comment">// ç¬¬ä¸€æ¬¡ä½¿ç”¨ a âœ…</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">b</span> = &amp;<span class="keyword">mut</span> x;      <span class="comment">// âŒ a è¿˜æ²¡â€œæ­»â€ï¼Œä¸èƒ½åˆ›å»º b</span></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, b);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, a);   <span class="comment">// ç¬¬äºŒæ¬¡ä½¿ç”¨ aï¼ˆè®©å®ƒä¿æŒâ€œæ´»ç€â€ï¼‰</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ Rust ä¸­ï¼Œå˜é‡çš„â€œæ´»è·ƒèŒƒå›´â€ï¼ˆä¹Ÿå«â€œæ´»è·ƒç”Ÿå‘½å‘¨æœŸâ€ï¼‰ä¸æ˜¯ä½ åˆ›å»ºå®ƒçš„åœ°æ–¹å†³å®šçš„ï¼Œè€Œæ˜¯ä½ â€œæœ€åä¸€æ¬¡ä½¿ç”¨å®ƒâ€çš„ä½ç½®å†³å®šçš„ã€‚</p>
<p>è§£é‡Š</p>
<ol>
<li>Rust ä¸ä¼šå› ä¸ºä½ ç”¨äº†ä¸€æ¬¡å˜é‡å°±è®¤ä¸ºå®ƒâ€œç”¨å®Œäº†â€ã€‚åªè¦ä½ åé¢è¿˜æ‰“ç®—ç”¨å®ƒï¼ˆæ¯”å¦‚æ‰“å°å®ƒã€ä¼ ç»™å‡½æ•°ç­‰ï¼‰ï¼ŒRust å°±è®¤ä¸ºè¿™ä¸ªå˜é‡è¿˜â€œæ´»ç€â€ã€‚** **</li>
</ol>
<h5 id="å¯å˜å¼•ç”¨ä¸ä¸å¯å˜å¼•ç”¨ä¸èƒ½åŒæ—¶å­˜åœ¨"><a href="#å¯å˜å¼•ç”¨ä¸ä¸å¯å˜å¼•ç”¨ä¸èƒ½åŒæ—¶å­˜åœ¨" class="headerlink" title="å¯å˜å¼•ç”¨ä¸ä¸å¯å˜å¼•ç”¨ä¸èƒ½åŒæ—¶å­˜åœ¨"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/ownership/borrowing.html#%E5%8F%AF%E5%8F%98%E5%BC%95%E7%94%A8%E4%B8%8E%E4%B8%8D%E5%8F%AF%E5%8F%98%E5%BC%95%E7%94%A8%E4%B8%8D%E8%83%BD%E5%90%8C%E6%97%B6%E5%AD%98%E5%9C%A8"><font style="color:rgb(0, 0, 0);">å¯å˜å¼•ç”¨ä¸ä¸å¯å˜å¼•ç”¨ä¸èƒ½åŒæ—¶å­˜åœ¨</font></a></h5><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">s</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="variable">r1</span> = &amp;s; <span class="comment">// æ²¡é—®é¢˜</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">r2</span> = &amp;s; <span class="comment">// æ²¡é—®é¢˜</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">r3</span> = &amp;<span class="keyword">mut</span> s; <span class="comment">// å¤§é—®é¢˜</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;, &#123;&#125;, and &#123;&#125;&quot;</span>, r1, r2, r3);</span><br></pre></td></tr></table></figure>

<p><font style="color:rgb(0, 0, 0);background-color:rgb(241, 246, 249);">æ³¨æ„ï¼Œå¼•ç”¨ </font><code>r1</code>,<code>r2</code>,<code>r3</code><font style="color:rgb(0, 0, 0);background-color:rgb(241, 246, 249);"> çš„ä½œç”¨åŸŸä»åˆ›å»ºå¼€å§‹ï¼Œä¸€ç›´æŒç»­åˆ°å®ƒæœ€åä¸€æ¬¡ä½¿ç”¨çš„åœ°æ–¹ </font><code>println!(....)</code><font style="color:rgb(0, 0, 0);background-color:rgb(241, 246, 249);">ï¼Œè¿™ä¸ªè·Ÿå˜é‡çš„ä½œç”¨åŸŸæœ‰æ‰€ä¸åŒï¼Œå˜é‡çš„ä½œç”¨åŸŸä»åˆ›å»ºæŒç»­åˆ°æŸä¸€ä¸ªèŠ±æ‹¬å· </font></p>
<h5 id="æ‚¬å‚å¼•ç”¨"><a href="#æ‚¬å‚å¼•ç”¨" class="headerlink" title="æ‚¬å‚å¼•ç”¨"></a><font style="color:rgb(48, 25, 0);background-color:rgb(246, 247, 246);">æ‚¬å‚å¼•ç”¨</font></h5><p>æ‚¬å‚å¼•ç”¨å°±æ˜¯ï¼šä½ å¼•ç”¨äº†ä¸€ä¸ªå·²ç»è¢«é‡Šæ”¾æ‰çš„ä¸œè¥¿ï¼Œè¿™æ—¶å€™å¼•ç”¨è¿˜åœ¨ï¼Œä½†æŒ‡å‘çš„å†…å­˜å·²ç»æ²¡äº†ï¼Œç»“æœå°±å˜æˆâ€œæ‚¬ç©ºâ€çš„ï¼Œå±é™©ï¼</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">reference_to_nothing</span> = <span class="title function_ invoke__">dangle</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">dangle</span>() <span class="punctuation">-&gt;</span> &amp;<span class="type">String</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">s</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &amp;s</span><br><span class="line">&#125; <span class="comment">// såœ¨è¿™é‡Œä¼šè¢«drop</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>æ¦‚å¿µ</th>
<th>ç”Ÿå‘½å‘¨æœŸç”±è°å†³å®šï¼Ÿ</th>
</tr>
</thead>
<tbody><tr>
<td>æ™®é€šå˜é‡ï¼ˆå¦‚ <code>s</code>ï¼‰</td>
<td>æ‰€åœ¨ä»£ç å— <code>&#123;&#125;</code> çš„ä½œç”¨åŸŸ</td>
</tr>
<tr>
<td>å¼•ç”¨ï¼ˆå¦‚ <code>&amp;s</code>ï¼‰</td>
<td>ä»åˆ›å»ºå¼•ç”¨é‚£ä¸€åˆ»ï¼Œåˆ°æœ€åä¸€æ¬¡ä½¿ç”¨ä¸ºæ­¢</td>
</tr>
</tbody></table>
<h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><ul>
<li><font style="color:rgb(0, 0, 0);">åŒä¸€æ—¶åˆ»ï¼Œä½ åªèƒ½æ‹¥æœ‰è¦ä¹ˆä¸€ä¸ªå¯å˜å¼•ç”¨ï¼Œè¦ä¹ˆä»»æ„å¤šä¸ªä¸å¯å˜å¼•ç”¨</font></li>
<li><font style="color:rgb(0, 0, 0);">å¼•ç”¨å¿…é¡»æ€»æ˜¯æœ‰æ•ˆçš„</font></li>
</ul>
<h3 id="ref-å’Œ-åŒºåˆ«"><a href="#ref-å’Œ-åŒºåˆ«" class="headerlink" title="ref å’Œ&amp;åŒºåˆ«"></a>ref å’Œ&amp;åŒºåˆ«</h3><table>
<thead>
<tr>
<th>ç”¨æ³•</th>
<th>å‡ºç°åœ¨</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td><code>&amp;</code></td>
<td><strong>å³ä¾§è¡¨è¾¾å¼</strong></td>
<td>æ˜¾å¼åˆ›å»ºä¸€ä¸ªå¼•ç”¨ï¼ˆborrowï¼‰</td>
</tr>
<tr>
<td><code>ref</code></td>
<td><strong>æ¨¡å¼åŒ¹é…ä¸­</strong></td>
<td>åœ¨è§£æ„æ—¶ç”Ÿæˆå¼•ç”¨å˜é‡</td>
</tr>
</tbody></table>
<h4 id="æ˜¯â€œå€Ÿç”¨â€è¿ç®—ç¬¦"><a href="#æ˜¯â€œå€Ÿç”¨â€è¿ç®—ç¬¦" class="headerlink" title="&amp; æ˜¯â€œå€Ÿç”¨â€è¿ç®—ç¬¦"></a><code>&amp;</code> æ˜¯â€œå€Ÿç”¨â€è¿ç®—ç¬¦</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">x</span> = <span class="number">5</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">y</span> = &amp;x;  <span class="comment">// y æ˜¯ &amp;i32</span></span><br></pre></td></tr></table></figure>

<p>ç­‰ä»·äºï¼š</p>
<p>â€œæŠŠ <code>x</code> å€Ÿç»™ <code>y</code>ï¼Œ<code>y</code> æ‹¥æœ‰å¯¹ <code>x</code> çš„åªè¯»è®¿é—®æƒé™ã€‚â€</p>
<h4 id="ref-æ˜¯â€œç»‘å®šä¸ºå¼•ç”¨â€ï¼ˆå·¦ä¾§ç”¨ï¼‰"><a href="#ref-æ˜¯â€œç»‘å®šä¸ºå¼•ç”¨â€ï¼ˆå·¦ä¾§ç”¨ï¼‰" class="headerlink" title="ref æ˜¯â€œç»‘å®šä¸ºå¼•ç”¨â€ï¼ˆå·¦ä¾§ç”¨ï¼‰"></a><code>ref</code> æ˜¯â€œç»‘å®šä¸ºå¼•ç”¨â€ï¼ˆå·¦ä¾§ç”¨ï¼‰</h4><p>åœ¨<strong>æ¨¡å¼åŒ¹é…</strong>æ—¶ï¼ŒRust é»˜è®¤æ˜¯ç§»åŠ¨ï¼ˆmoveï¼‰å€¼ã€‚å¦‚æœä½ æƒ³ç»‘å®šå˜é‡ä¸ºâ€œå¼•ç”¨â€ï¼Œå°±éœ€è¦åŠ  <code>ref</code>ã€‚</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">x</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> <span class="variable">ref</span> y = x;  <span class="comment">// y æ˜¯ &amp;Stringï¼Œä¸å‘ç”Ÿæ‰€æœ‰æƒç§»åŠ¨</span></span><br></pre></td></tr></table></figure>

<p>ç­‰ä»·äº:</p>
<p>let y &#x3D; &x;</p>
<h5 id="æ›´å¸¸è§çš„ï¼šç»“æ„è§£æ„æ—¶ä½¿ç”¨-ref"><a href="#æ›´å¸¸è§çš„ï¼šç»“æ„è§£æ„æ—¶ä½¿ç”¨-ref" class="headerlink" title="æ›´å¸¸è§çš„ï¼šç»“æ„è§£æ„æ—¶ä½¿ç”¨ ref"></a>æ›´å¸¸è§çš„ï¼šç»“æ„è§£æ„æ—¶ä½¿ç”¨ <code>ref</code></h5><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">tup</span> = (<span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hi&quot;</span>), <span class="number">42</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‹†è§£å¹¶å€Ÿç”¨é‡Œé¢çš„å€¼ï¼ˆå¦åˆ™ä¼š moveï¼‰</span></span><br><span class="line"><span class="keyword">let</span> (<span class="keyword">ref</span> a, <span class="keyword">ref</span> b) = tup;</span><br><span class="line"></span><br><span class="line"><span class="comment">// a æ˜¯ &amp;Stringï¼Œb æ˜¯ &amp;i32</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="å¯¹æ¯”"><a href="#å¯¹æ¯”" class="headerlink" title="å¯¹æ¯”"></a>å¯¹æ¯”</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">s</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä½¿ç”¨ &amp;ï¼šå³ä¾§è¡¨è¾¾å¼ä¸­åˆ›å»ºå¼•ç”¨</span></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">a</span> = &amp;s;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;a: &#123;&#125;&quot;</span>, a);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä½¿ç”¨ refï¼šåœ¨æ¨¡å¼åŒ¹é…ä¸­åˆ›å»ºå¼•ç”¨</span></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">ref</span> b = s;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;b: &#123;&#125;&quot;</span>, b);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è§£æ„å…ƒç»„æ—¶ä½¿ç”¨ ref</span></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">pair</span> = (<span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hi&quot;</span>), <span class="number">123</span>);</span><br><span class="line">    <span class="keyword">let</span> (<span class="keyword">ref</span> x, <span class="keyword">ref</span> y) = pair;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;x: &#123;&#125;, y: &#123;&#125;&quot;</span>, x, y);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ€»ç»“-1"><a href="#æ€»ç»“-1" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><ul>
<li>ç”¨ <code>&amp;</code> æ˜¯ â€œæˆ‘è¦å€Ÿç”¨â€</li>
<li>ç”¨ <code>ref</code> æ˜¯ â€œåŒ¹é…æ—¶ç»‘å®šä¸ºå¼•ç”¨â€</li>
<li>ç”¨ <code>ref mut</code> æ˜¯ â€œåŒ¹é…æ—¶ç»‘å®šä¸º<strong>å¯å˜å¼•ç”¨</strong>â€</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/06/23/%E6%89%80%E6%9C%89%E6%9D%83%E5%92%8C%E5%80%9F%E7%94%A8/" data-id="cmckkof230009qrqwh46ybsme" data-title="æ‰€æœ‰æƒå’Œå€Ÿç”¨" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Rust/" rel="tag">Rust</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-åŸºç¡€ç±»å‹" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/06/22/%E5%9F%BA%E7%A1%80%E7%B1%BB%E5%9E%8B/" class="article-date">
  <time class="dt-published" datetime="2025-06-22T04:40:14.000Z" itemprop="datePublished">2025-06-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/06/22/%E5%9F%BA%E7%A1%80%E7%B1%BB%E5%9E%8B/">åŸºç¡€ç±»å‹</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="åŸºæœ¬ç±»å‹"><a href="#åŸºæœ¬ç±»å‹" class="headerlink" title="åŸºæœ¬ç±»å‹"></a>åŸºæœ¬ç±»å‹</h3><table>
<thead>
<tr>
<th>ç±»å‹</th>
<th>é»˜è®¤ç±»å‹</th>
</tr>
</thead>
<tbody><tr>
<td>æ•´æ•°</td>
<td><code>i32</code> âœ…</td>
</tr>
<tr>
<td>æµ®ç‚¹</td>
<td><code>f64</code> âœ…</td>
</tr>
</tbody></table>
<h4 id="æ•°å€¼ç±»å‹"><a href="#æ•°å€¼ç±»å‹" class="headerlink" title="æ•°å€¼ç±»å‹"></a>æ•°å€¼ç±»å‹</h4><ul>
<li><font style="color:rgb(0, 0, 0);">æ•°å€¼ç±»å‹ï¼š</font><ul>
<li><font style="color:rgb(0, 0, 0);">æœ‰ç¬¦å·æ•´æ•° (</font><font style="color:rgb(48, 25, 0);background-color:rgb(246, 247, 246);">i8</font><font style="color:rgb(0, 0, 0);">, </font><font style="color:rgb(48, 25, 0);background-color:rgb(246, 247, 246);">i16</font><font style="color:rgb(0, 0, 0);">, </font><font style="color:rgb(48, 25, 0);background-color:rgb(246, 247, 246);">i32</font><font style="color:rgb(0, 0, 0);">, </font><font style="color:rgb(48, 25, 0);background-color:rgb(246, 247, 246);">i64</font><font style="color:rgb(0, 0, 0);">, </font><font style="color:rgb(48, 25, 0);background-color:rgb(246, 247, 246);">isize</font><font style="color:rgb(0, 0, 0);">)</font></li>
<li><font style="color:rgb(0, 0, 0);"> æ— ç¬¦å·æ•´æ•° (</font><font style="color:rgb(48, 25, 0);background-color:rgb(246, 247, 246);">u8</font><font style="color:rgb(0, 0, 0);">, </font><font style="color:rgb(48, 25, 0);background-color:rgb(246, 247, 246);">u16</font><font style="color:rgb(0, 0, 0);">, </font><font style="color:rgb(48, 25, 0);background-color:rgb(246, 247, 246);">u32</font><font style="color:rgb(0, 0, 0);">, </font><font style="color:rgb(48, 25, 0);background-color:rgb(246, 247, 246);">u64</font><font style="color:rgb(0, 0, 0);">, </font><font style="color:rgb(48, 25, 0);background-color:rgb(246, 247, 246);">usize</font><font style="color:rgb(0, 0, 0);">) ã€æµ®ç‚¹æ•° (</font><font style="color:rgb(48, 25, 0);background-color:rgb(246, 247, 246);">f32</font><font style="color:rgb(0, 0, 0);">, </font><font style="color:rgb(48, 25, 0);background-color:rgb(246, 247, 246);">f64</font><font style="color:rgb(0, 0, 0);">)ã€ä»¥åŠæœ‰ç†æ•°ã€å¤æ•°</font></li>
</ul>
</li>
<li>æœ‰ç¬¦å·å’Œæ— ç¬¦å·åŒºåˆ«<ul>
<li><strong><font style="color:rgb(0, 0, 0);">æœ‰ç¬¦å·</font></strong><font style="color:rgb(0, 0, 0);">åˆ™è¡¨ç¤ºæ•°å­—å¯ä»¥å–æ­£æ•°ã€è´Ÿæ•°è¿˜æœ‰ 0</font></li>
<li><strong><font style="color:rgb(0, 0, 0);">æ— ç¬¦å·æ•°</font></strong><font style="color:rgb(0, 0, 0);">è¡¨ç¤ºæ•°å­—åªèƒ½å–æ­£æ•°å’Œ 0</font></li>
</ul>
</li>
</ul>
<h5 id="æµ®ç‚¹ç±»å‹"><a href="#æµ®ç‚¹ç±»å‹" class="headerlink" title="æµ®ç‚¹ç±»å‹"></a>æµ®ç‚¹ç±»å‹</h5><p> æµ®ç‚¹æ•°å­—é¢é‡é»˜è®¤å°±æ˜¯ f64 ç±»å‹  </p>
<h5 id="Rang"><a href="#Rang" class="headerlink" title="Rang"></a>Rang</h5><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>()&#123;</span><br><span class="line">   <span class="keyword">for</span> <span class="variable">i</span> <span class="keyword">in</span> <span class="number">1</span>..=<span class="number">10</span>&#123;</span><br><span class="line">       <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>,i);</span><br><span class="line"></span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">for</span> <span class="variable">i</span> <span class="keyword">in</span> <span class="string">&#x27;a&#x27;</span>..=<span class="string">&#x27;z&#x27;</span>&#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>,i);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="Complex"><a href="#Complex" class="headerlink" title="Complex"></a>Complex</h5><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">pub</span> <span class="keyword">struct</span> <span class="title class_">Complex</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="keyword">pub</span> re: T,  <span class="comment">// å®éƒ¨</span></span><br><span class="line">    <span class="keyword">pub</span> im: T,  <span class="comment">// è™šéƒ¨</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> num::complex::Complex; <span class="comment">// å¼•å…¥ num crate ä¸­çš„ Complex å¤æ•°ç±»å‹</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">a</span> = Complex &#123; re: <span class="number">2.1</span>, im: -<span class="number">1.2</span> &#125;; <span class="comment">// åˆ›å»ºå¤æ•° a = 2.1 - 1.2i</span></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">b</span> = Complex::<span class="title function_ invoke__">new</span>(<span class="number">11.1</span>, <span class="number">22.2</span>);      <span class="comment">// åˆ›å»ºå¤æ•° b = 11.1 + 22.2i</span></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">result</span> = a + b;                   <span class="comment">// å¤æ•°ç›¸åŠ ï¼šå®éƒ¨ + å®éƒ¨ï¼Œè™šéƒ¨ + è™šéƒ¨</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125; + &#123;&#125;i&quot;</span>, result.re, result.im); <span class="comment">// æ‰“å°ç»“æœå¤æ•°</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="æ€ä¹ˆè®¡ç®—"><a href="#æ€ä¹ˆè®¡ç®—" class="headerlink" title="æ€ä¹ˆè®¡ç®—"></a>æ€ä¹ˆè®¡ç®—</h6><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">2.1</span> - <span class="number">1.2</span>i</span><br><span class="line">b = <span class="number">11.1</span> + <span class="number">22.2</span>i</span><br><span class="line">result = (<span class="number">2.1</span> + <span class="number">11.1</span>) + (-<span class="number">1.2</span> + <span class="number">22.2</span>)i = <span class="number">13.2</span> + <span class="number">21.0</span>i</span><br></pre></td></tr></table></figure>

<h6 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h6><table>
<thead>
<tr>
<th>è¡¨è¾¾å¼</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td><code>Complex &#123; re: a, im: b &#125;</code></td>
<td>åˆ›å»ºå¤æ•° <code>a + bi</code></td>
</tr>
<tr>
<td><code>Complex::new(a, b)</code></td>
<td>åŒä¸Šï¼Œæ›´å¸¸ç”¨</td>
</tr>
<tr>
<td><code>a + b</code></td>
<td>å¤æ•°ç›¸åŠ </td>
</tr>
<tr>
<td><code>result.re</code></td>
<td>å®éƒ¨</td>
</tr>
<tr>
<td><code>result.im</code></td>
<td>è™šéƒ¨</td>
</tr>
</tbody></table>
<h4 id="å­—ç¬¦ã€å¸ƒå°”ã€å•å…ƒç±»å‹"><a href="#å­—ç¬¦ã€å¸ƒå°”ã€å•å…ƒç±»å‹" class="headerlink" title="å­—ç¬¦ã€å¸ƒå°”ã€å•å…ƒç±»å‹"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/base-type/char-bool.html#%E5%AD%97%E7%AC%A6%E5%B8%83%E5%B0%94%E5%8D%95%E5%85%83%E7%B1%BB%E5%9E%8B"><font style="color:rgb(0, 0, 0);">å­—ç¬¦ã€å¸ƒå°”ã€å•å…ƒç±»å‹</font></a></h4><h5 id="å­—ç¬¦ç±»å‹-char"><a href="#å­—ç¬¦ç±»å‹-char" class="headerlink" title="å­—ç¬¦ç±»å‹(char)"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/base-type/char-bool.html#%E5%AD%97%E7%AC%A6%E7%B1%BB%E5%9E%8Bchar"><font style="color:rgb(0, 0, 0);">å­—ç¬¦ç±»å‹(char)</font></a></h5><p><font style="color:rgb(0, 0, 0);background-color:rgb(241, 246, 249);">Rust çš„å­—ç¬¦åªèƒ½ç”¨ </font><font style="color:rgb(48, 25, 0);background-color:rgb(246, 247, 246);">â€˜â€™</font><font style="color:rgb(0, 0, 0);background-color:rgb(241, 246, 249);"> æ¥è¡¨ç¤º,å ç”¨4ä¸ªå­—èŠ‚ï¼Œ </font><font style="color:rgb(48, 25, 0);background-color:rgb(246, 247, 246);">â€œâ€</font><font style="color:rgb(0, 0, 0);background-color:rgb(241, 246, 249);"> æ˜¯ç•™ç»™å­—ç¬¦ä¸²çš„ã€‚</font></p>
<h5 id="Nan"><a href="#Nan" class="headerlink" title="Nan"></a><font style="color:rgb(0, 0, 0);background-color:rgb(241, 246, 249);">Nan</font></h5><p><code>**NaN**</code><strong>ï¼ˆNot a Numberï¼‰</strong> æ˜¯ä¸€ç§ç‰¹æ®Šçš„æµ®ç‚¹æ•°å€¼ï¼Œè¡¨ç¤º<strong>æŸä¸ªè¿ç®—ç»“æœä¸æ˜¯ä¸€ä¸ªåˆæ³•çš„æ•°å­—</strong>ã€‚</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">v</span> = (-<span class="number">1.1f64</span>).<span class="title function_ invoke__">sqrt</span>();</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, v);</span><br><span class="line">    <span class="keyword">if</span> v.<span class="title function_ invoke__">is_nan</span>() &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;sqrt(-1.1) is NaN&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>ç‰¹æ€§</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>ç±»å‹</td>
<td>åªå‡ºç°åœ¨ <code>f32</code> å’Œ <code>f64</code> ä¸­</td>
</tr>
<tr>
<td>å«ä¹‰</td>
<td>è¡¨ç¤º â€œä¸æ˜¯æ•°å­—â€ çš„ç‰¹æ®Šæµ®ç‚¹å€¼</td>
</tr>
<tr>
<td>å‡ºç°åœºæ™¯</td>
<td>0&#x2F;0ã€è´Ÿæ•°å¼€æ–¹ã€æ— æ•ˆæµ®ç‚¹è¿ç®—</td>
</tr>
<tr>
<td>åˆ¤æ–­æ–¹æ³•</td>
<td><code>x.is_nan()</code></td>
</tr>
<tr>
<td>å¯¹æ¯”è¡Œä¸º</td>
<td><code>NaN != NaN</code> æ°¸è¿œä¸º <code>true</code>ï¼ˆå³å®ƒä¸ç­‰äºä»»ä½•ä¸œè¥¿ï¼‰</td>
</tr>
</tbody></table>
<h5 id="å¸ƒå°”-bool"><a href="#å¸ƒå°”-bool" class="headerlink" title="å¸ƒå°”(bool)"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/base-type/char-bool.html#%E5%B8%83%E5%B0%94bool"><font style="color:rgb(0, 0, 0);">å¸ƒå°”(bool)</font></a></h5><p><font style="color:rgb(0, 0, 0);">Rust ä¸­çš„å¸ƒå°”ç±»å‹æœ‰ä¸¤ä¸ªå¯èƒ½çš„å€¼ï¼š</font><font style="color:rgb(48, 25, 0);background-color:rgb(246, 247, 246);">true</font><font style="color:rgb(0, 0, 0);"> å’Œ </font><font style="color:rgb(48, 25, 0);background-color:rgb(246, 247, 246);">false</font><font style="color:rgb(0, 0, 0);">ï¼Œå¸ƒå°”å€¼å ç”¨å†…å­˜çš„å¤§å°ä¸º </font><font style="color:rgb(48, 25, 0);background-color:rgb(246, 247, 246);">1</font><font style="color:rgb(0, 0, 0);"> ä¸ªå­—èŠ‚</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">t</span> = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">f</span>: <span class="type">bool</span> = <span class="literal">false</span>; <span class="comment">// ä½¿ç”¨ç±»å‹æ ‡æ³¨,æ˜¾å¼æŒ‡å®šfçš„ç±»å‹</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> f &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;è¿™æ˜¯æ®µæ¯«æ— æ„ä¹‰çš„ä»£ç &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="å•å…ƒç±»å‹-unit"><a href="#å•å…ƒç±»å‹-unit" class="headerlink" title="å•å…ƒç±»å‹(unit)"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/base-type/char-bool.html#%E5%8D%95%E5%85%83%E7%B1%BB%E5%9E%8Bunit"><font style="color:rgb(0, 0, 0);">å•å…ƒç±»å‹(unit)</font></a></h5><p><font style="color:rgb(0, 0, 0);">å•å…ƒç±»å‹å°±æ˜¯ </font><font style="color:rgb(48, 25, 0);background-color:rgb(246, 247, 246);">()</font></p>
<ol>
<li><font style="color:rgb(48, 25, 0);background-color:rgb(246, 247, 246);">main</font><font style="color:rgb(0, 0, 0);"> å‡½æ•°å°±è¿”å›è¿™ä¸ªå•å…ƒç±»å‹ </font><font style="color:rgb(48, 25, 0);background-color:rgb(246, 247, 246);">()</font></li>
<li><font style="color:rgb(48, 25, 0);background-color:rgb(246, 247, 246);">println!()</font><font style="color:rgb(0, 0, 0);"> çš„è¿”å›å€¼ä¹Ÿæ˜¯å•å…ƒç±»å‹ </font><font style="color:rgb(48, 25, 0);background-color:rgb(246, 247, 246);">()</font></li>
</ol>
<p><font style="color:rgb(48, 25, 0);background-color:rgb(246, 247, 246);"></font></p>
<h4 id="åºåˆ—"><a href="#åºåˆ—" class="headerlink" title="åºåˆ—"></a><font style="color:rgb(48, 25, 0);background-color:rgb(246, 247, 246);">åºåˆ—</font></h4><h4 id="ç±»å‹å¼ºè½¬"><a href="#ç±»å‹å¼ºè½¬" class="headerlink" title="ç±»å‹å¼ºè½¬"></a>ç±»å‹å¼ºè½¬</h4><p> ç±»å‹å¼ºè½¬ï¼ˆtype castingï¼‰æ˜¯<strong>æŠŠä¸€ç§ç±»å‹çš„æ•°æ®å¼ºåˆ¶è½¬æ¢ä¸ºå¦ä¸€ç§ç±»å‹</strong>ï¼Œé€šå¸¸ä½¿ç”¨ <code>as</code> å…³é”®å­—å®Œæˆã€‚  </p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">x</span>: <span class="type">u8</span> = <span class="number">255</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">y</span> = x <span class="keyword">as</span> <span class="type">u16</span>;   <span class="comment">// u8 -&gt; u16</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">z</span> = x <span class="keyword">as</span> <span class="type">i32</span>;   <span class="comment">// u8 -&gt; i32</span></span><br></pre></td></tr></table></figure>

<h4 id="è¯­å¥ä¸è¡¨è¾¾å¼"><a href="#è¯­å¥ä¸è¡¨è¾¾å¼" class="headerlink" title="è¯­å¥ä¸è¡¨è¾¾å¼"></a><font style="color:rgb(48, 25, 0);background-color:rgb(246, 247, 246);">è¯­å¥ä¸è¡¨è¾¾å¼</font></h4><p><font style="color:rgb(0, 0, 0);">Rust çš„å‡½æ•°ä½“æ˜¯ç”±ä¸€ç³»åˆ—è¯­å¥ç»„æˆï¼Œæœ€åç”±ä¸€ä¸ªè¡¨è¾¾å¼æ¥è¿”å›å€¼ï¼Œä¾‹å¦‚</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">add_with_extra</span>(x: <span class="type">i32</span>, y: <span class="type">i32</span>) <span class="punctuation">-&gt;</span> <span class="type">i32</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">x</span> = x + <span class="number">1</span>; <span class="comment">// è¯­å¥</span></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">y</span> = y + <span class="number">5</span>; <span class="comment">// è¯­å¥</span></span><br><span class="line">    x + y <span class="comment">// è¡¨è¾¾å¼</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç”±äº let æ˜¯è¯­å¥ï¼Œå› æ­¤ä¸èƒ½å°† let è¯­å¥èµ‹å€¼ç»™å…¶å®ƒå€¼ï¼Œå¦‚ä¸‹å½¢å¼æ˜¯é”™è¯¯çš„</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">b</span> = (<span class="keyword">let</span> <span class="variable">a</span> = <span class="number">8</span>);</span><br></pre></td></tr></table></figure>

<p><strong><font style="color:rgb(0, 0, 0);">è¡¨è¾¾å¼ä¸èƒ½åŒ…å«åˆ†å·</font></strong><font style="color:rgb(0, 0, 0);">ã€‚è¿™ä¸€ç‚¹éå¸¸é‡è¦ï¼Œä¸€æ—¦ä½ åœ¨è¡¨è¾¾å¼ååŠ ä¸Šåˆ†å·ï¼Œå®ƒå°±ä¼šå˜æˆä¸€æ¡è¯­å¥ï¼Œå†ä¹Ÿ</font><strong><font style="color:rgb(0, 0, 0);">ä¸ä¼š</font></strong><font style="color:rgb(0, 0, 0);">è¿”å›ä¸€ä¸ªå€¼</font></p>
<p><font style="color:rgb(0, 0, 0);">è¡¨è¾¾å¼å¦‚æœä¸è¿”å›ä»»ä½•å€¼ï¼Œä¼šéšå¼åœ°è¿”å›ä¸€ä¸ª </font><a target="_blank" rel="noopener" href="https://course.rs/basic/base-type/char-bool.html#%E5%8D%95%E5%85%83%E7%B1%BB%E5%9E%8B"><font style="color:rgb(32, 96, 159);">()</font></a></p>
<h5 id="ä¸¾ä¾‹"><a href="#ä¸¾ä¾‹" class="headerlink" title="ä¸¾ä¾‹"></a><font style="color:rgb(32, 96, 159);">ä¸¾ä¾‹</font></h5><p><font style="color:rgb(32, 96, 159);">x+&#x3D;2 æ˜¯è¯­å¥,ä¸æ˜¯è¡¨è¾¾å¼ vä¼šè¿”å›()</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">     <span class="keyword">let</span> <span class="variable">v</span> = &#123;</span><br><span class="line">       <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">x</span> = <span class="number">1</span>;</span><br><span class="line">       x += <span class="number">2</span></span><br><span class="line">   &#125;;</span><br><span class="line">   <span class="built_in">println!</span>(<span class="string">&quot;&#123;:?&#125;&quot;</span>, v);</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<p><font style="color:rgb(32, 96, 159);">è¿™æ ·xä¼šè¿”å›3</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">     <span class="keyword">let</span> <span class="variable">v</span> = &#123;</span><br><span class="line">       <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">x</span> = <span class="number">1</span>;</span><br><span class="line">       x += <span class="number">2</span>;x</span><br><span class="line">   &#125;;</span><br><span class="line">    <span class="built_in">assert_eq!</span>(v, <span class="number">3</span>);</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<h3 id="å¸¸è§æ ¼å¼åŒ–ç¬¦å·æ±‡æ€»"><a href="#å¸¸è§æ ¼å¼åŒ–ç¬¦å·æ±‡æ€»" class="headerlink" title="å¸¸è§æ ¼å¼åŒ–ç¬¦å·æ±‡æ€»"></a>å¸¸è§æ ¼å¼åŒ–ç¬¦å·æ±‡æ€»</h3><table>
<thead>
<tr>
<th>å ä½ç¬¦</th>
<th>å«ä¹‰</th>
<th>ç¤ºä¾‹è¾“å‡º</th>
</tr>
</thead>
<tbody><tr>
<td><code>&#123;&#125;</code></td>
<td>é»˜è®¤æ ¼å¼ï¼ˆDisplayï¼‰</td>
<td><code>123</code>, <code>&quot;abc&quot;</code></td>
</tr>
<tr>
<td><code>&#123;:?&#125;</code></td>
<td>Debug æ ¼å¼</td>
<td><code>[1, 2, 3]</code>, <code>MyStruct &#123;..&#125;</code></td>
</tr>
<tr>
<td><code>&#123;:#?&#125;</code></td>
<td>Pretty Debugï¼ˆæ¢è¡Œï¼‰</td>
<td>å¤šè¡Œæ›´æ˜“è¯»çš„è°ƒè¯•è¾“å‡º</td>
</tr>
<tr>
<td><code>&#123;:x&#125;</code></td>
<td>åå…­è¿›åˆ¶ï¼ˆå°å†™ï¼‰</td>
<td><code>ff</code></td>
</tr>
<tr>
<td><code>&#123;:X&#125;</code></td>
<td>åå…­è¿›åˆ¶ï¼ˆå¤§å†™ï¼‰</td>
<td><code>FF</code></td>
</tr>
<tr>
<td><code>&#123;:b&#125;</code></td>
<td>äºŒè¿›åˆ¶</td>
<td><code>11111111</code></td>
</tr>
<tr>
<td><code>&#123;:o&#125;</code></td>
<td>å…«è¿›åˆ¶</td>
<td><code>377</code></td>
</tr>
<tr>
<td><code>&#123;:p&#125;</code></td>
<td>æŒ‡é’ˆåœ°å€</td>
<td><code>0x7ffeeafd8a30</code>ï¼ˆä»…æŒ‡é’ˆï¼‰</td>
</tr>
<tr>
<td><code>&#123;:e&#125;</code></td>
<td>ç§‘å­¦è®¡æ•°æ³•ï¼ˆå°å†™ï¼‰</td>
<td><code>1.23e4</code></td>
</tr>
<tr>
<td><code>&#123;:E&#125;</code></td>
<td>ç§‘å­¦è®¡æ•°æ³•ï¼ˆå¤§å†™ï¼‰</td>
<td><code>1.23E4</code></td>
</tr>
<tr>
<td><code>&#123;:&gt;5&#125;</code></td>
<td>å³å¯¹é½å®½åº¦ä¸º5</td>
<td><code>&#39;   42&#39;</code></td>
</tr>
<tr>
<td><code>&#123;:0&gt;5&#125;</code></td>
<td>å¡«å……0å³å¯¹é½</td>
<td><code>&#39;00042&#39;</code></td>
</tr>
</tbody></table>
<h3 id="å¸¸ç”¨çš„æµ®ç‚¹æ–¹æ³•"><a href="#å¸¸ç”¨çš„æµ®ç‚¹æ–¹æ³•" class="headerlink" title="å¸¸ç”¨çš„æµ®ç‚¹æ–¹æ³•"></a>å¸¸ç”¨çš„æµ®ç‚¹æ–¹æ³•</h3><table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>å«ä¹‰</th>
<th>ç¤ºä¾‹</th>
<th>è¾“å‡º</th>
</tr>
</thead>
<tbody><tr>
<td><code>.abs()</code></td>
<td>ç»å¯¹å€¼</td>
<td><code>(-3.5_f64).abs()</code></td>
<td><code>3.5</code></td>
</tr>
<tr>
<td><code>.ceil()</code></td>
<td>å‘ä¸Šå–æ•´</td>
<td><code>2.3_f32.ceil()</code></td>
<td><code>3.0</code></td>
</tr>
<tr>
<td><code>.floor()</code></td>
<td>å‘ä¸‹å–æ•´</td>
<td><code>2.9_f64.floor()</code></td>
<td><code>2.0</code></td>
</tr>
<tr>
<td><code>.round()</code></td>
<td>å››èˆäº”å…¥</td>
<td><code>2.5_f32.round()</code></td>
<td><code>3.0</code></td>
</tr>
<tr>
<td><code>.trunc()</code></td>
<td>æˆªæ–­å°æ•°</td>
<td><code>2.9_f64.trunc()</code></td>
<td><code>2.0</code></td>
</tr>
<tr>
<td><code>.fract()</code></td>
<td>å°æ•°éƒ¨åˆ†</td>
<td><code>3.1415_f64.fract()</code></td>
<td><code>0.1415</code></td>
</tr>
<tr>
<td><code>.sqrt()</code></td>
<td>å¹³æ–¹æ ¹</td>
<td><code>9.0_f64.sqrt()</code></td>
<td><code>3.0</code></td>
</tr>
<tr>
<td><code>.powi(n)</code></td>
<td>æ•´æ•°æ¬¡æ–¹</td>
<td><code>2.0_f32.powi(3)</code></td>
<td><code>8.0</code></td>
</tr>
<tr>
<td><code>.powf(x)</code></td>
<td>æµ®ç‚¹æ¬¡æ–¹</td>
<td><code>4.0_f64.powf(0.5)</code></td>
<td><code>2.0</code></td>
</tr>
<tr>
<td><code>.sin()</code> &#x2F; <code>.cos()</code></td>
<td>ä¸‰è§’å‡½æ•°</td>
<td><code>std::f64::consts::PI.sin()</code></td>
<td><code>â‰ˆ 0.0</code></td>
</tr>
<tr>
<td><code>.ln()</code></td>
<td>è‡ªç„¶å¯¹æ•°</td>
<td><code>2.71828_f64.ln()</code></td>
<td><code>â‰ˆ 1.0</code></td>
</tr>
<tr>
<td><code>.log(base)</code></td>
<td>ä»»æ„åº•å¯¹æ•°</td>
<td><code>100.0_f64.log(10.0)</code></td>
<td><code>2.0</code></td>
</tr>
</tbody></table>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/06/22/%E5%9F%BA%E7%A1%80%E7%B1%BB%E5%9E%8B/" data-id="cmckkof24000bqrqw1awz017f" data-title="åŸºç¡€ç±»å‹" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Rust/" rel="tag">Rust</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-æµç¨‹æ§åˆ¶" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/06/20/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/" class="article-date">
  <time class="dt-published" datetime="2025-06-20T08:44:40.000Z" itemprop="datePublished">2025-06-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/06/20/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/">æµç¨‹æ§åˆ¶</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="if-æ¥åšåˆ†æ”¯æ§åˆ¶"><a href="#if-æ¥åšåˆ†æ”¯æ§åˆ¶" class="headerlink" title="if æ¥åšåˆ†æ”¯æ§åˆ¶"></a>if æ¥åšåˆ†æ”¯æ§åˆ¶</h3><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> condition == <span class="literal">true</span> &#123;</span><br><span class="line">    <span class="comment">// A...</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// B...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="else-if-å¤„ç†å¤šé‡æ¡ä»¶"><a href="#else-if-å¤„ç†å¤šé‡æ¡ä»¶" class="headerlink" title="else if å¤„ç†å¤šé‡æ¡ä»¶"></a>else if å¤„ç†å¤šé‡æ¡ä»¶</h4><p><font style="color:rgb(0, 0, 0);">æœ‰å¤šä¸ªåˆ†æ”¯èƒ½åŒ¹é…ï¼Œåªæœ‰ç¬¬ä¸€ä¸ªåŒ¹é…çš„åˆ†æ”¯ä¼šè¢«æ‰§è¡Œ</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">n</span> = <span class="number">6</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> n % <span class="number">4</span> == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;number is divisible by 4&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> n % <span class="number">3</span> == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;number is divisible by 3&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> n % <span class="number">2</span> == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;number is divisible by 2&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;number is not divisible by 4, 3, or 2&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="å¾ªç¯æ§åˆ¶"><a href="#å¾ªç¯æ§åˆ¶" class="headerlink" title="å¾ªç¯æ§åˆ¶"></a>å¾ªç¯æ§åˆ¶</h4><p><font style="color:rgb(0, 0, 0);">åœ¨ Rust è¯­è¨€ä¸­æœ‰ä¸‰ç§å¾ªç¯æ–¹å¼ï¼š</font><code>for</code><font style="color:rgb(0, 0, 0);">ã€</font><code>while</code><font style="color:rgb(0, 0, 0);"> å’Œ </font><code>loop</code></p>
<h5 id="for"><a href="#for" class="headerlink" title="for"></a><font style="color:rgb(48, 25, 0);background-color:rgb(246, 247, 246);">for</font></h5><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> å…ƒç´  <span class="keyword">in</span> é›†åˆ &#123;</span><br><span class="line">  <span class="comment">// ä½¿ç”¨å…ƒç´ å¹²ä¸€äº›ä½ æ‡‚æˆ‘ä¸æ‡‚çš„äº‹æƒ…</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ç´¢å¼•å’Œå€¼çš„æ–¹å¼è¿­ä»£æ•°ç»„</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">a</span> = [<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é€šè¿‡ç´¢å¼•å’Œå€¼çš„æ–¹å¼è¿­ä»£æ•°ç»„ `a`</span></span><br><span class="line">    <span class="keyword">for</span> (i,v) <span class="keyword">in</span> a.<span class="title function_ invoke__">iter</span>().<span class="title function_ invoke__">enumerate</span>() &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;ç¬¬&#123;&#125;ä¸ªå…ƒç´ æ˜¯&#123;&#125;&quot;</span>,i+<span class="number">1</span>,v);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="while"><a href="#while" class="headerlink" title="while"></a>while</h5><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">n</span> = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> n &lt;= <span class="number">5</span>  &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;!&quot;</span>, n);</span><br><span class="line"></span><br><span class="line">        n = n + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;æˆ‘å‡ºæ¥äº†ï¼&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="loop"><a href="#loop" class="headerlink" title="loop"></a>loop</h5><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">n</span> = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">loop</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> n &gt; <span class="number">5</span> &#123;</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, n);</span><br><span class="line">        n+=<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;æˆ‘å‡ºæ¥äº†ï¼&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><font style="color:rgb(0, 0, 0);">ä½¿ç”¨ </font><code>loop</code><font style="color:rgb(0, 0, 0);"> æ—¶ï¼Œå¿…ä¸å¯å°‘çš„ä¼™ä¼´æ˜¯ </font><code>break</code><font style="color:rgb(0, 0, 0);"> å…³é”®å­—ï¼Œå®ƒèƒ½è®©å¾ªç¯åœ¨æ»¡è¶³æŸä¸ªæ¡ä»¶æ—¶è·³å‡º</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">count</span> = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">number</span> = <span class="keyword">loop</span> &#123;</span><br><span class="line">        count +=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> count == <span class="number">10</span> &#123;</span><br><span class="line">            <span class="keyword">break</span> count;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;The number is &#123;&#125;&quot;</span>, number)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="å¾ªç¯æ ‡ç­¾ï¼šåœ¨å¤šä¸ªå¾ªç¯ä¹‹é—´æ¶ˆé™¤æ­§ä¹‰"><a href="#å¾ªç¯æ ‡ç­¾ï¼šåœ¨å¤šä¸ªå¾ªç¯ä¹‹é—´æ¶ˆé™¤æ­§ä¹‰" class="headerlink" title="å¾ªç¯æ ‡ç­¾ï¼šåœ¨å¤šä¸ªå¾ªç¯ä¹‹é—´æ¶ˆé™¤æ­§ä¹‰"></a>å¾ªç¯æ ‡ç­¾ï¼šåœ¨å¤šä¸ªå¾ªç¯ä¹‹é—´æ¶ˆé™¤æ­§ä¹‰</h6><p><code>break</code> å°†åªé€€å‡ºå†…å±‚å¾ªç¯ã€‚<code>break &#39;counting_up;</code> è¯­å¥å°†é€€å‡ºå¤–å±‚å¾ªç¯</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">count</span> = <span class="number">0</span>;</span><br><span class="line">    <span class="symbol">&#x27;counting_up</span>: <span class="keyword">loop</span> &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;count = &#123;count&#125;&quot;</span>);</span><br><span class="line">        <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">remaining</span> = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">loop</span> &#123;</span><br><span class="line">            <span class="built_in">println!</span>(<span class="string">&quot;remaining = &#123;remaining&#125;&quot;</span>);</span><br><span class="line">            <span class="keyword">if</span> remaining == <span class="number">9</span> &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> count == <span class="number">2</span> &#123;</span><br><span class="line">                <span class="keyword">break</span> <span class="symbol">&#x27;counting_up</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            remaining -= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        count += <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;End count = &#123;count&#125;&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="continue"><a href="#continue" class="headerlink" title="continue"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/flow-control.html#continue"><font style="color:rgb(0, 0, 0);">continue</font></a></h5><p>è·³è¿‡å½“å‰çš„å¾ªç¯</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> <span class="variable">i</span> <span class="keyword">in</span> <span class="number">1</span>..<span class="number">4</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> i == <span class="number">2</span> &#123;</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="break"><a href="#break" class="headerlink" title="break"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/flow-control.html#break"><font style="color:rgb(0, 0, 0);">break</font></a></h5><p>è·³è¿‡æ•´ä¸ªå¾ªç¯</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> <span class="variable">i</span> <span class="keyword">in</span> <span class="number">1</span>..<span class="number">4</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> i == <span class="number">2</span> &#123;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/06/20/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/" data-id="cmckkof2a000mqrqw4811cwhq" data-title="æµç¨‹æ§åˆ¶" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Rust/" rel="tag">Rust</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Rust/" rel="tag">Rust</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%85%B6%E4%BB%96/" rel="tag">å…¶ä»–</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Rust/" style="font-size: 20px;">Rust</a> <a href="/tags/%E5%85%B6%E4%BB%96/" style="font-size: 10px;">å…¶ä»–</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/07/">July 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/06/">June 2025</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2025/07/01/%E7%89%B9%E5%BE%81/">ç‰¹å¾</a>
          </li>
        
          <li>
            <a href="/2025/06/29/%E6%96%B9%E6%B3%95/">æ–¹æ³•</a>
          </li>
        
          <li>
            <a href="/2025/06/28/%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D/">æ¨¡å¼åŒ¹é…</a>
          </li>
        
          <li>
            <a href="/2025/06/27/%E7%BB%93%E6%9E%84%E4%BD%93/">ç»“æ„ä½“</a>
          </li>
        
          <li>
            <a href="/2025/06/26/%E6%9E%9A%E4%B8%BE/">æšä¸¾</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2025 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>