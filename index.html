<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Li</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Li">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Li">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Li" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.2.0/css/fork-awesome.min.css">

<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Li</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-åŒ…å’Œæ¨¡å—" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/07/04/%E5%8C%85%E5%92%8C%E6%A8%A1%E5%9D%97/" class="article-date">
  <time class="dt-published" datetime="2025-07-04T10:12:23.000Z" itemprop="datePublished">2025-07-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/07/04/%E5%8C%85%E5%92%8C%E6%A8%A1%E5%9D%97/">åŒ…å’Œæ¨¡å—</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="åŒ…ï¼ˆPackageï¼‰-å’Œ-åº“ï¼ˆCrateï¼‰"><a href="#åŒ…ï¼ˆPackageï¼‰-å’Œ-åº“ï¼ˆCrateï¼‰" class="headerlink" title="åŒ…ï¼ˆPackageï¼‰ å’Œ åº“ï¼ˆCrateï¼‰"></a><strong>åŒ…ï¼ˆPackageï¼‰</strong> å’Œ <strong>åº“ï¼ˆCrateï¼‰</strong></h3><h4 id="Packageï¼ˆåŒ…ï¼‰"><a href="#Packageï¼ˆåŒ…ï¼‰" class="headerlink" title="Packageï¼ˆåŒ…ï¼‰"></a>Packageï¼ˆåŒ…ï¼‰</h4><p><strong>å°±æ˜¯ä¸€ä¸ªå®Œæ•´çš„é¡¹ç›®æ–‡ä»¶å¤¹</strong>ï¼Œé‡Œé¢åŒ…å«äº†ä»£ç ã€ä¾èµ–ã€é…ç½®ã€‚  </p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">your_project/</span><br><span class="line">â”œâ”€â”€ Cargo<span class="selector-class">.toml</span>    â† é…ç½®æ–‡ä»¶ï¼Œå‘Šè¯‰ Rust æ€ä¹ˆæ„å»ºé¡¹ç›® / åŒ…çš„å…ƒä¿¡æ¯ï¼ˆåå­—ã€ç‰ˆæœ¬ã€ä¾èµ–ï¼‰</span><br><span class="line">â””â”€â”€ <span class="attribute">src</span>/</span><br><span class="line">â””â”€â”€ <span class="selector-tag">main</span><span class="selector-class">.rs</span>   â† ä¸»ç¨‹åºä»£ç ï¼ˆæˆ– lib<span class="selector-class">.rs</span>ï¼‰</span><br></pre></td></tr></table></figure>

<p>ä¸€ä¸ªåŒ…å¯ä»¥ï¼š</p>
<ul>
<li>æ˜¯ä¸€ä¸ªå¯è¿è¡Œçš„ç¨‹åºï¼ˆæ¯”å¦‚ <code>main.rs</code>ï¼‰</li>
<li>æˆ–è€…æ˜¯ä¸€ä¸ªåº“ï¼ˆæ¯”å¦‚ <code>lib.rs</code>ï¼‰</li>
<li>ç”šè‡³ä¸¤ä¸ªéƒ½æœ‰</li>
</ul>
<h4 id="Crateï¼ˆåº“ï¼‰"><a href="#Crateï¼ˆåº“ï¼‰" class="headerlink" title="Crateï¼ˆåº“ï¼‰"></a>Crateï¼ˆåº“ï¼‰</h4><p>Crate æ˜¯ Rust ç¼–è¯‘æ—¶çš„æœ€å°å•å…ƒï¼Œä¹Ÿå°±æ˜¯æœ€ç»ˆè¢«ç¼–è¯‘å‡ºæ¥çš„ä¸€ä¸ªâ€œäº§ç‰©â€</p>
<p>ä¹Ÿå¯ä»¥ç†è§£ä¸ºï¼š</p>
<ul>
<li>å¦‚æœè¯´ <strong>Package æ˜¯æˆ¿å­</strong></li>
<li>é‚£ <strong>Crate å°±æ˜¯æˆ¿å­é‡Œçš„æŸä¸ªâ€œæˆ¿é—´â€</strong>ï¼Œå¯ä»¥å•ç‹¬ä½¿ç”¨</li>
</ul>
<p> ä¸€ä¸ªåŒ…å¯ä»¥åŒ…å« <strong>ä¸€ä¸ªæˆ–å¤šä¸ª Crate</strong>ï¼Œå¸¸è§çš„æœ‰ä¸¤ç±»ï¼š  </p>
<table>
<thead>
<tr>
<th>Crate ç±»å‹</th>
<th>æ–‡ä»¶å…¥å£</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>Binary Crate</td>
<td><code>src/main.rs</code></td>
<td>æœ‰ <code>main()</code>ï¼Œèƒ½è¿è¡Œ</td>
</tr>
<tr>
<td>Library Crate</td>
<td><code>src/lib.rs</code></td>
<td>æ²¡æœ‰ <code>main()</code>ï¼Œåªèƒ½è¢«å…¶ä»–ä»£ç ç”¨</td>
</tr>
</tbody></table>
<h4 id="é¡¹ç›®ç»“æ„"><a href="#é¡¹ç›®ç»“æ„" class="headerlink" title="é¡¹ç›®ç»“æ„"></a>é¡¹ç›®ç»“æ„</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ Cargo<span class="selector-class">.toml</span></span><br><span class="line">â”œâ”€â”€ Cargo<span class="selector-class">.lock</span></span><br><span class="line">â”œâ”€â”€ <span class="attribute">src</span></span><br><span class="line">â”‚   â”œâ”€â”€ <span class="selector-tag">main</span><span class="selector-class">.rs</span></span><br><span class="line">â”‚   â”œâ”€â”€ lib<span class="selector-class">.rs</span></span><br><span class="line">â”‚   â””â”€â”€ bin</span><br><span class="line">â”‚       â””â”€â”€ main1<span class="selector-class">.rs</span></span><br><span class="line">â”‚       â””â”€â”€ main2<span class="selector-class">.rs</span></span><br><span class="line">â”œâ”€â”€ tests</span><br><span class="line">â”‚   â””â”€â”€ some_integration_tests<span class="selector-class">.rs</span></span><br><span class="line">â”œâ”€â”€ benches</span><br><span class="line">â”‚   â””â”€â”€ simple_bench<span class="selector-class">.rs</span></span><br><span class="line">â””â”€â”€ examples</span><br><span class="line">â””â”€â”€ simple_example<span class="selector-class">.rs</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li><font style="color:rgb(0, 0, 0);">å”¯ä¸€åº“åŒ…ï¼š</font><code>src/lib.rs</code></li>
<li><font style="color:rgb(0, 0, 0);">é»˜è®¤äºŒè¿›åˆ¶åŒ…ï¼š</font><code>src/main.rs</code><font style="color:rgb(0, 0, 0);">ï¼Œç¼–è¯‘åç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶ä¸</font><font style="color:rgb(0, 0, 0);"> </font><code>Package</code><font style="color:rgb(0, 0, 0);"> </font><font style="color:rgb(0, 0, 0);">åŒå</font></li>
<li><font style="color:rgb(0, 0, 0);">å…¶ä½™äºŒè¿›åˆ¶åŒ…ï¼š</font><code>src/bin/main1.rs</code><font style="color:rgb(0, 0, 0);"> </font><font style="color:rgb(0, 0, 0);">å’Œ</font><font style="color:rgb(0, 0, 0);"> </font><code>src/bin/main2.rs</code><font style="color:rgb(0, 0, 0);">ï¼Œå®ƒä»¬ä¼šåˆ†åˆ«ç”Ÿæˆä¸€ä¸ªæ–‡ä»¶åŒåçš„äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶</font></li>
<li><font style="color:rgb(0, 0, 0);">é›†æˆæµ‹è¯•æ–‡ä»¶ï¼š</font><code>tests</code><font style="color:rgb(0, 0, 0);"> </font><font style="color:rgb(0, 0, 0);">ç›®å½•ä¸‹</font></li>
<li><font style="color:rgb(0, 0, 0);">åŸºå‡†æ€§èƒ½æµ‹è¯•</font><font style="color:rgb(0, 0, 0);"> </font><code>benchmark</code><font style="color:rgb(0, 0, 0);"> </font><font style="color:rgb(0, 0, 0);">æ–‡ä»¶ï¼š</font><code>benches</code><font style="color:rgb(0, 0, 0);"> </font><font style="color:rgb(0, 0, 0);">ç›®å½•ä¸‹</font></li>
<li><font style="color:rgb(0, 0, 0);">é¡¹ç›®ç¤ºä¾‹ï¼š</font><code>examples</code><font style="color:rgb(0, 0, 0);"> ç›®å½•ä¸‹</font></li>
</ul>
<h3 id="æ¨¡å—"><a href="#æ¨¡å—" class="headerlink" title="æ¨¡å—"></a>æ¨¡å—</h3><h4 id="åˆ›å»ºåµŒå¥—æ¨¡å—"><a href="#åˆ›å»ºåµŒå¥—æ¨¡å—" class="headerlink" title="åˆ›å»ºåµŒå¥—æ¨¡å—"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/crate-module/module.html#%E5%88%9B%E5%BB%BA%E5%B5%8C%E5%A5%97%E6%A8%A1%E5%9D%97"><font style="color:rgb(0, 0, 0);">åˆ›å»ºåµŒå¥—æ¨¡å—</font></a></h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é¤å…å‰å…ï¼Œç”¨äºåƒé¥­</span></span><br><span class="line"><span class="keyword">mod</span> front_of_house &#123;</span><br><span class="line">    <span class="keyword">mod</span> hosting &#123;</span><br><span class="line">        <span class="keyword">fn</span> <span class="title function_">add_to_waitlist</span>() &#123;&#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">fn</span> <span class="title function_">seat_at_table</span>() &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">mod</span> serving &#123;</span><br><span class="line">        <span class="keyword">fn</span> <span class="title function_">take_order</span>() &#123;&#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">fn</span> <span class="title function_">serve_order</span>() &#123;&#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">fn</span> <span class="title function_">take_payment</span>() &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">pub</span> <span class="keyword">fn</span> <span class="title function_">eat_at_restaurant</span>()&#123;</span><br><span class="line">    <span class="comment">// ç»å¯¹è·¯å¾„</span></span><br><span class="line">    crate::front_of_house::hosting::<span class="title function_ invoke__">add_to_waitlist</span>();</span><br><span class="line">    <span class="comment">// ç›¸å¯¹è·¯å¾„</span></span><br><span class="line">    front_of_house::hosting::<span class="title function_ invoke__">seat_at_table</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ®µä»£ç ç”¨ Rust çš„æ¨¡å—ç³»ç»Ÿå®šä¹‰äº†ä¸€ä¸ªâ€œå‰å…â€æ¨¡å—ï¼Œé‡Œé¢è¿˜æœ‰ä¸¤ä¸ªå­æ¨¡å—ï¼Œåˆ†åˆ«æ˜¯ï¼š</p>
<ul>
<li><code>hosting</code>ï¼ˆæ¥å¾…æ¨¡å—ï¼‰</li>
<li><code>serving</code>ï¼ˆæœåŠ¡æ¨¡å—ï¼‰</li>
</ul>
<h5 id="æ¯ä¸ªæ¨¡å—çš„ä½œç”¨"><a href="#æ¯ä¸ªæ¨¡å—çš„ä½œç”¨" class="headerlink" title="æ¯ä¸ªæ¨¡å—çš„ä½œç”¨"></a>æ¯ä¸ªæ¨¡å—çš„ä½œç”¨</h5><h6 id="mod-front-of-house"><a href="#mod-front-of-house" class="headerlink" title="mod front_of_house"></a>mod front_of_house</h6><p> è¿™æ˜¯ä¸»æ¨¡å— â€œé¤å…å‰å…â€ã€‚æ¨¡å—ï¼ˆmoduleï¼‰æ˜¯ Rust çš„<strong>ä»£ç ç»„ç»‡æ–¹å¼</strong>ï¼Œå°±åƒ Java ä¸­çš„åŒ…ã€Python ä¸­çš„æ¨¡å—ã€‚  </p>
<h6 id="mod-hosting"><a href="#mod-hosting" class="headerlink" title=" mod hosting  "></a><font style="color:rgb(0, 0, 0);"> mod hosting  </font></h6><p>æ¥å¾…æ¨¡å—ï¼Œè´Ÿè´£å®‰æ’é¡¾å®¢è¿›é—¨ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li><code>åŠ å…¥ç­‰ä½åå•</code></li>
<li><code>å®‰æ’åº§ä½</code></li>
</ul>
<h6 id="mod-serving"><a href="#mod-serving" class="headerlink" title=" mod serving  "></a><font style="color:rgb(0, 0, 0);"> mod serving  </font></h6><p>æœåŠ¡æ¨¡å—ï¼Œè´Ÿè´£é€é¤ã€ç‚¹é¤ã€ç»“è´¦ç­‰ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li><code>ç‚¹é¤</code></li>
<li><code>ä¸Šèœ</code></li>
<li><code>æ”¶æ¬¾</code></li>
</ul>
<h4 id="æ¨¡å—æ ‘"><a href="#æ¨¡å—æ ‘" class="headerlink" title="æ¨¡å—æ ‘"></a>æ¨¡å—æ ‘</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">crate</span></span><br><span class="line"> â””â”€â”€ front_of_house</span><br><span class="line">     â”œâ”€â”€ hosting</span><br><span class="line">     â”‚   â”œâ”€â”€ add_to_waitlist</span><br><span class="line">     â”‚   â””â”€â”€ seat_at_table</span><br><span class="line">     â””â”€â”€ serving</span><br><span class="line">         â”œâ”€â”€ take_order</span><br><span class="line">         â”œâ”€â”€ serve_order</span><br><span class="line">         â””â”€â”€ take_payment</span><br></pre></td></tr></table></figure>

<h4 id="ä½¿ç”¨superå¼•ç”¨æ¨¡å—"><a href="#ä½¿ç”¨superå¼•ç”¨æ¨¡å—" class="headerlink" title="ä½¿ç”¨superå¼•ç”¨æ¨¡å—"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/crate-module/module.html#%E4%BD%BF%E7%94%A8-super-%E5%BC%95%E7%94%A8%E6%A8%A1%E5%9D%97"><font style="color:rgb(0, 0, 0);">ä½¿ç”¨superå¼•ç”¨æ¨¡å—</font></a></h4><p><code>super</code> ä»£è¡¨å½“å‰æ¨¡å—çš„â€œä¸Šä¸€çº§æ¨¡å—â€ï¼Œä¹Ÿå°±æ˜¯çˆ¶æ¨¡å—; å®ƒå°±åƒæ–‡ä»¶å¤¹é‡Œçš„ <code>../</code>ï¼Œè¡¨ç¤ºâ€œè¿”å›ä¸Šä¸€çº§ç›®å½•â€ã€‚  </p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">mod</span> front_of_house &#123;</span><br><span class="line">    <span class="keyword">pub</span> <span class="keyword">mod</span> hosting &#123;</span><br><span class="line">        <span class="keyword">pub</span> <span class="keyword">fn</span> <span class="title function_">add_to_waitlist</span>() &#123;</span><br><span class="line">            <span class="built_in">println!</span>(<span class="string">&quot;åŠ å…¥ç­‰ä½åå•&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">pub</span> <span class="keyword">fn</span> <span class="title function_">restaurant_helper</span>() &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;é¤å…å¸®åŠ©&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">pub</span> <span class="keyword">mod</span> kitchen &#123;</span><br><span class="line">        <span class="keyword">pub</span> <span class="keyword">fn</span> <span class="title function_">cook_order</span>() &#123;</span><br><span class="line">            <span class="built_in">println!</span>(<span class="string">&quot;æ­£åœ¨åšèœ&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// ğŸ‘‡ æƒ³è¦è°ƒç”¨çˆ¶æ¨¡å— front_of_house ä¸­çš„ restaurant_helper()</span></span><br><span class="line">            super::<span class="title function_ invoke__">restaurant_helper</span>(); <span class="comment">// âœ… ç”¨ super è®¿é—®çˆ¶æ¨¡å—</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä½¿ç”¨selfå¼•ç”¨æ¨¡å—"><a href="#ä½¿ç”¨selfå¼•ç”¨æ¨¡å—" class="headerlink" title="ä½¿ç”¨selfå¼•ç”¨æ¨¡å—"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/crate-module/module.html#%E4%BD%BF%E7%94%A8-self-%E5%BC%95%E7%94%A8%E6%A8%A1%E5%9D%97"><font style="color:rgb(0, 0, 0);">ä½¿ç”¨selfå¼•ç”¨æ¨¡å—</font></a></h4><p><code>self</code> è¡¨ç¤ºâ€œ<strong>å½“å‰æ¨¡å—è‡ªèº«</strong>â€å°±åƒ <code>self</code> åœ¨æ–¹æ³•ä¸­è¡¨ç¤ºå½“å‰å¯¹è±¡ä¸€æ ·ï¼Œåœ¨æ¨¡å—è·¯å¾„ä¸­ï¼Œå®ƒè¡¨ç¤ºâ€œè¿™ä¸ªæ¨¡å—çš„ä½œç”¨åŸŸâ€ã€‚</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">mod</span> front_of_house &#123;</span><br><span class="line">    <span class="keyword">pub</span> <span class="keyword">mod</span> hosting &#123;</span><br><span class="line">        <span class="keyword">pub</span> <span class="keyword">fn</span> <span class="title function_">add_to_waitlist</span>() &#123;</span><br><span class="line">            <span class="built_in">println!</span>(<span class="string">&quot;ç­‰ä½ä¸­&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">pub</span> <span class="keyword">fn</span> <span class="title function_">greet</span>() &#123;</span><br><span class="line">            <span class="built_in">println!</span>(<span class="string">&quot;æ¬¢è¿å…‰ä¸´&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">pub</span> <span class="keyword">fn</span> <span class="title function_">restaurant_service</span>() &#123;</span><br><span class="line">        <span class="comment">// ç”¨ self å¼•ç”¨å½“å‰æ¨¡å—é‡Œçš„å­æ¨¡å—</span></span><br><span class="line">        self::hosting::<span class="title function_ invoke__">greet</span>(); <span class="comment">// ç­‰ä»·äº front_of_house::hosting::greet()</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>å…³é”®å­—</th>
<th>æ„ä¹‰</th>
<th>ä¸¾ä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td><code>self</code></td>
<td>å½“å‰æ¨¡å—</td>
<td><code>self::func()</code></td>
</tr>
<tr>
<td><code>super</code></td>
<td>ä¸Šä¸€çº§æ¨¡å—</td>
<td><code>super::helper()</code></td>
</tr>
<tr>
<td><code>crate</code></td>
<td>æ ¹æ¨¡å—ï¼ˆä¸»æ¨¡å—ï¼‰</td>
<td><code>crate::config::init()</code></td>
</tr>
</tbody></table>
<h4 id="æ¨¡å—ä¸æ–‡ä»¶åˆ†ç¦»"><a href="#æ¨¡å—ä¸æ–‡ä»¶åˆ†ç¦»" class="headerlink" title="æ¨¡å—ä¸æ–‡ä»¶åˆ†ç¦»"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/crate-module/module.html#%E6%A8%A1%E5%9D%97%E4%B8%8E%E6%96%87%E4%BB%B6%E5%88%86%E7%A6%BB"><font style="color:rgb(0, 0, 0);">æ¨¡å—ä¸æ–‡ä»¶åˆ†ç¦»</font></a></h4><p>åŸå§‹å†™æ³•ï¼ˆ<strong>å†…è”æ¨¡å—</strong>ï¼Œä¸€åˆ‡éƒ½å†™åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œ)</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// lib.rs æˆ– main.rs</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">mod</span> front_of_house &#123;</span><br><span class="line">    <span class="keyword">mod</span> hosting &#123;</span><br><span class="line">        <span class="keyword">fn</span> <span class="title function_">add_to_waitlist</span>() &#123;&#125;</span><br><span class="line">        <span class="keyword">fn</span> <span class="title function_">seat_at_table</span>() &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">mod</span> serving &#123;</span><br><span class="line">        <span class="keyword">fn</span> <span class="title function_">take_order</span>() &#123;&#125;</span><br><span class="line">        <span class="keyword">fn</span> <span class="title function_">serve_order</span>() &#123;&#125;</span><br><span class="line">        <span class="keyword">fn</span> <span class="title function_">take_payment</span>() &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  æ‹†åˆ†åçš„å†™æ³•ï¼ˆ<strong>æ–‡ä»¶æ¨¡å—åŒ–</strong>ï¼‰ï¼š  </p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">src/</span><br><span class="line">â”œâ”€â”€ lib.rs</span><br><span class="line">â”œâ”€â”€ front_of_house/</span><br><span class="line">â”‚   â”œâ”€â”€ <span class="keyword">mod</span>.rs          <span class="comment">// ç›¸å½“äºåŸæ¥çš„ front_of_house æ¨¡å—</span></span><br><span class="line">â”‚   â”œâ”€â”€ hosting.rs      <span class="comment">// ç›¸å½“äº front_of_house ä¸‹çš„ hosting å­æ¨¡å—</span></span><br><span class="line">â”‚   â””â”€â”€ serving.rs      <span class="comment">// ç›¸å½“äº front_of_house ä¸‹çš„ serving å­æ¨¡å—</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å¯¹åº”å†…å®¹æ‹†è¿›å»ä¹‹åï¼š</p>
<ul>
<li>åŸæ¥çš„ <code>mod hosting &#123; ... &#125;</code> â†’ å†…å®¹æ”¾åˆ° <code>hosting.rs</code></li>
<li>åŸæ¥çš„ <code>mod serving &#123; ... &#125;</code> â†’ å†…å®¹æ”¾åˆ° <code>serving.rs</code></li>
<li>åŸæ¥çš„ <code>mod front_of_house &#123; ... &#125;</code> â†’ ç”¨ <code>mod.rs</code> æ¥æ¥ç®¡è¿™ä¸ªæ¨¡å—</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/07/04/%E5%8C%85%E5%92%8C%E6%A8%A1%E5%9D%97/" data-id="cmconx2qg0005icqw5uta73sx" data-title="åŒ…å’Œæ¨¡å—" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Rust/" rel="tag">Rust</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-è¿”å›å€¼å’Œé”™è¯¯å¤„ç†" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/07/03/%E8%BF%94%E5%9B%9E%E5%80%BC%E5%92%8C%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/" class="article-date">
  <time class="dt-published" datetime="2025-07-03T08:36:33.000Z" itemprop="datePublished">2025-07-03</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/07/03/%E8%BF%94%E5%9B%9E%E5%80%BC%E5%92%8C%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/">è¿”å›å€¼å’Œé”™è¯¯å¤„ç†</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="panic"><a href="#panic" class="headerlink" title="panic"></a>panic</h3><p>åªæœ‰å½“ä½ ä¸çŸ¥é“è¯¥å¦‚ä½•å¤„ç†æ—¶ï¼Œå†å»è°ƒç”¨ panic!</p>
<h4 id="backtrace-æ ˆå±•å¼€"><a href="#backtrace-æ ˆå±•å¼€" class="headerlink" title="backtrace æ ˆå±•å¼€"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/result-error/panic.html#backtrace-%E6%A0%88%E5%B1%95%E5%BC%80"><font style="color:rgb(0, 0, 0);">backtrace æ ˆå±•å¼€</font></a></h4><p> è‡ªåŠ¨å¼€å¯ backtraceï¼ˆè°ƒè¯• panicï¼‰  </p>
<figure class="highlight toml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">RUST_BACKTRACE</span>=<span class="number">1</span> cargo run</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œä»£ç </p>
<figure class="highlight toml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">fn main() &#123;</span><br><span class="line">    let <span class="attr">v</span> = vec![<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]<span class="comment">;</span></span><br><span class="line"></span><br><span class="line">    v<span class="section">[99]</span><span class="comment">;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ‰“å°å¦‚ä¸‹ä¿¡æ¯</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">thread <span class="symbol">&#x27;mai</span>n<span class="string">&#x27; panicked at src/main.rs:4:6:</span></span><br><span class="line"><span class="string">index out of bounds: the len is 3 but the index is 99</span></span><br><span class="line"><span class="string">stack backtrace:</span></span><br><span class="line"><span class="string">0: __rustc::rust_begin_unwind</span></span><br><span class="line"><span class="string">at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/std/src/panicking.rs:697:5</span></span><br><span class="line"><span class="string">1: core::panicking::panic_fmt</span></span><br><span class="line"><span class="string">at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/core/src/panicking.rs:75:14</span></span><br><span class="line"><span class="string">2: core::panicking::panic_bounds_check</span></span><br><span class="line"><span class="string">at /rustc/17067e9ac6d7ecb70e50f92c1944e545188d2359/library/core/src/panicking.rs:273:5</span></span><br><span class="line"><span class="string">3: &lt;usize as core::slice::index::SliceIndex&lt;[T]&gt;&gt;::index</span></span><br><span class="line"><span class="string">at /home/lsy/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/slice/index.rs:274:10</span></span><br><span class="line"><span class="string">4: core::slice::index::&lt;impl core::ops::index::Index&lt;I&gt; for [T]&gt;::index</span></span><br><span class="line"><span class="string">at /home/lsy/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/slice/index.rs:16:9</span></span><br><span class="line"><span class="string">5: &lt;alloc::vec::Vec&lt;T,A&gt; as core::ops::index::Index&lt;I&gt;&gt;::index</span></span><br><span class="line"><span class="string">at /home/lsy/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/vec/mod.rs:3372:9</span></span><br><span class="line"><span class="string">6: hello_rust::main</span></span><br><span class="line"><span class="string">at ./src/main.rs:4:6</span></span><br><span class="line"><span class="string">7: core::ops::function::FnOnce::call_once</span></span><br><span class="line"><span class="string">at /home/lsy/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/function.rs:250:5</span></span><br><span class="line"><span class="string">note: Some details are omitted, run with `RUST_BACKTRACE=full` for a verbose backtrace.</span></span><br></pre></td></tr></table></figure>

<h4 id="panic-æ—¶çš„ä¸¤ç§ç»ˆæ­¢æ–¹å¼"><a href="#panic-æ—¶çš„ä¸¤ç§ç»ˆæ­¢æ–¹å¼" class="headerlink" title="panic æ—¶çš„ä¸¤ç§ç»ˆæ­¢æ–¹å¼"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/result-error/panic.html#panic-%E6%97%B6%E7%9A%84%E4%B8%A4%E7%A7%8D%E7%BB%88%E6%AD%A2%E6%96%B9%E5%BC%8F"><font style="color:rgb(0, 0, 0);">panic æ—¶çš„ä¸¤ç§ç»ˆæ­¢æ–¹å¼</font></a></h4><p><font style="color:rgb(0, 0, 0);">ç¨‹åºæä¾›äº†ä¸¤ç§æ–¹å¼æ¥å¤„ç†ç»ˆæ­¢æµç¨‹ï¼š</font><strong><font style="color:rgb(0, 0, 0);">æ ˆå±•å¼€</font></strong><font style="color:rgb(0, 0, 0);">å’Œ</font><strong><font style="color:rgb(0, 0, 0);">ç›´æ¥ç»ˆæ­¢</font></strong><font style="color:rgb(0, 0, 0);">ã€‚</font></p>
<h5 id="ç›´æ¥ç»ˆæ­¢"><a href="#ç›´æ¥ç»ˆæ­¢" class="headerlink" title="ç›´æ¥ç»ˆæ­¢"></a><font style="color:rgb(0, 0, 0);">ç›´æ¥ç»ˆæ­¢</font></h5><p><code>panic = &#39;abort&#39;</code> æ˜¯ Rust <code>Cargo.toml</code> ä¸­çš„ä¸€é¡¹æ„å»ºé…ç½®ï¼Œæ§åˆ¶ç¨‹åºåœ¨é‡åˆ° <code>panic!()</code> æ—¶çš„è¡Œä¸ºã€‚  </p>
<figure class="highlight toml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[profile.release]</span></span><br><span class="line"><span class="attr">panic</span> = <span class="string">&#x27;abort&#x27;</span></span><br></pre></td></tr></table></figure>

<p> å½“ç¨‹åºå‘ç”Ÿ <code>panic!()</code> æ—¶ï¼Œ<strong>ç›´æ¥ç»ˆæ­¢ç¨‹åºï¼ˆabortï¼‰</strong>ï¼Œ<strong>ä¸å†è¿›è¡Œâ€œæ ˆå±•å¼€â€ï¼ˆstack unwindingï¼‰</strong>ã€‚  </p>
<h3 id="result"><a href="#result" class="headerlink" title="result"></a>result</h3><h4 id="å¯¹è¿”å›çš„é”™è¯¯è¿›è¡Œå¤„ç†"><a href="#å¯¹è¿”å›çš„é”™è¯¯è¿›è¡Œå¤„ç†" class="headerlink" title="å¯¹è¿”å›çš„é”™è¯¯è¿›è¡Œå¤„ç†"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/result-error/result.html#%E5%AF%B9%E8%BF%94%E5%9B%9E%E7%9A%84%E9%94%99%E8%AF%AF%E8%BF%9B%E8%A1%8C%E5%A4%84%E7%90%86"><font style="color:rgb(0, 0, 0);">å¯¹è¿”å›çš„é”™è¯¯è¿›è¡Œå¤„ç†</font></a></h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> std::fs::File;</span><br><span class="line"><span class="keyword">use</span> std::io::ErrorKind;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">f</span> = File::<span class="title function_ invoke__">open</span>(<span class="string">&quot;hello.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">f</span> = <span class="keyword">match</span> f &#123;</span><br><span class="line">        <span class="title function_ invoke__">Ok</span>(file) =&gt; file,</span><br><span class="line">        <span class="title function_ invoke__">Err</span>(error) =&gt; <span class="keyword">match</span> error.<span class="title function_ invoke__">kind</span>() &#123;</span><br><span class="line">            ErrorKind::NotFound =&gt; <span class="keyword">match</span> File::<span class="title function_ invoke__">create</span>(<span class="string">&quot;hello.txt&quot;</span>) &#123;</span><br><span class="line">                <span class="title function_ invoke__">Ok</span>(fc) =&gt; fc,</span><br><span class="line">                <span class="title function_ invoke__">Err</span>(e) =&gt; <span class="built_in">panic!</span>(<span class="string">&quot;Problem creating the file: &#123;:?&#125;&quot;</span>, e),</span><br><span class="line">            &#125;,</span><br><span class="line">            other_error =&gt; <span class="built_in">panic!</span>(<span class="string">&quot;Problem opening the file: &#123;:?&#125;&quot;</span>, other_error),</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">//  ä¹Ÿå¯ä»¥å†™æˆä¸‹é¢è¿™æ ·</span></span><br><span class="line">    <span class="comment">// let f = File::open(&quot;hello.txt&quot;).unwrap_or_else(|error|&#123;</span></span><br><span class="line">    <span class="comment">//     if error.kind() == ErrorKind::NotFound &#123;</span></span><br><span class="line">    <span class="comment">//         File::create(&quot;hello.txt&quot;).unwrap_or_else(|error| &#123;</span></span><br><span class="line">    <span class="comment">//             panic!(&quot;&#123;:?&#125;&quot;, error)</span></span><br><span class="line">    <span class="comment">//         &#125;)</span></span><br><span class="line">    <span class="comment">//     &#125; else &#123;</span></span><br><span class="line">    <span class="comment">//         panic!(&quot;&#123;:?&#125;&quot;, error)</span></span><br><span class="line">    <span class="comment">//     &#125;</span></span><br><span class="line">    <span class="comment">// &#125;);</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="å¤±è´¥å°±-panic-unwrap-å’Œ-expect"><a href="#å¤±è´¥å°±-panic-unwrap-å’Œ-expect" class="headerlink" title="å¤±è´¥å°± panic: unwrap å’Œ expect"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/result-error/result.html#%E5%A4%B1%E8%B4%A5%E5%B0%B1-panic-unwrap-%E5%92%8C-expect"><font style="color:rgb(0, 0, 0);">å¤±è´¥å°± panic: unwrap å’Œ expect</font></a></h4><p><code>unwrap()</code>ï¼šç›´æ¥è§£åŒ…ï¼Œä¸æˆåŠŸå°± panic  </p>
<p><code>expect(&quot;message&quot;)</code>ï¼šè§£åŒ…å¤±è´¥æ—¶è‡ªå®šä¹‰ panic æ¶ˆæ¯  </p>
<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>æ˜¯å¦æ”¯æŒè‡ªå®šä¹‰é”™è¯¯æ¶ˆæ¯</th>
<th>panic æ—¶æ˜¾ç¤ºä¿¡æ¯</th>
<th>æ¨èç”¨é€”</th>
</tr>
</thead>
<tbody><tr>
<td><code>unwrap()</code></td>
<td>å¦</td>
<td>é»˜è®¤æç¤º</td>
<td>ä¸´æ—¶æµ‹è¯•ã€åŸå‹å¼€å‘</td>
</tr>
<tr>
<td><code>expect()</code></td>
<td>âœ… æ”¯æŒ</td>
<td>è‡ªå®šä¹‰ä¿¡æ¯</td>
<td>ç”Ÿäº§ä»£ç ï¼Œèƒ½æ˜ç¡®æŠ¥é”™åœºæ™¯</td>
</tr>
</tbody></table>
<h5 id="ä½•æ—¶ä¸è¦ç”¨-unwrap-expect"><a href="#ä½•æ—¶ä¸è¦ç”¨-unwrap-expect" class="headerlink" title="ä½•æ—¶ä¸è¦ç”¨ unwrap &#x2F; expect"></a>ä½•æ—¶ä¸è¦ç”¨ unwrap &#x2F; expect</h5><p><strong>åªåœ¨ä½ éå¸¸ç¡®å®šä¸ä¼šå‡ºé”™çš„åœ°æ–¹ä½¿ç”¨</strong>ï¼ˆå¦‚åˆšæ’å…¥å“ˆå¸Œè¡¨å°± <code>get()</code>ï¼‰</p>
<p>å¦åˆ™å»ºè®®ä½¿ç”¨ï¼š</p>
<ul>
<li><code>match</code></li>
<li><code>if let</code></li>
<li><code>unwrap_or()</code> &#x2F; <code>unwrap_or_else()</code></li>
<li><code>?</code> è¿ç®—ç¬¦ï¼ˆæ¨èï¼ï¼‰</li>
</ul>
<h4 id="ä¼ æ’­é”™è¯¯"><a href="#ä¼ æ’­é”™è¯¯" class="headerlink" title="ä¼ æ’­é”™è¯¯"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/result-error/result.html#%E4%BC%A0%E6%92%AD%E9%94%99%E8%AF%AF"><font style="color:rgb(0, 0, 0);">ä¼ æ’­é”™è¯¯</font></a></h4><h4 id="è‡ªåŠ¨å¤„ç†é”™è¯¯çš„â€œè¯­æ³•ç³–â€"><a href="#è‡ªåŠ¨å¤„ç†é”™è¯¯çš„â€œè¯­æ³•ç³–â€" class="headerlink" title="?è‡ªåŠ¨å¤„ç†é”™è¯¯çš„â€œè¯­æ³•ç³–â€"></a>?è‡ªåŠ¨å¤„ç†é”™è¯¯çš„â€œè¯­æ³•ç³–â€</h4><p>å®ƒçš„ä½œç”¨æ˜¯ï¼š</p>
<ul>
<li>å¦‚æœæ˜¯æˆåŠŸï¼ˆ<code>Ok</code> æˆ– <code>Some</code>ï¼‰ï¼Œå°±æŠŠå€¼å–å‡ºæ¥ï¼›</li>
<li>å¦‚æœæ˜¯å¤±è´¥ï¼ˆ<code>Err</code> æˆ– <code>None</code>ï¼‰ï¼Œå°±<strong>æå‰è¿”å›</strong>ï¼Œä¸å¾€ä¸‹æ‰§è¡Œã€‚</li>
</ul>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">value</span> = <span class="title function_ invoke__">maybe_error</span>()?; <span class="comment">// å¦‚æœé”™è¯¯å°±è‡ªåŠ¨ return</span></span><br></pre></td></tr></table></figure>

<h4 id="åœ¨å“ªäº›åœ°æ–¹å¯ä»¥ç”¨"><a href="#åœ¨å“ªäº›åœ°æ–¹å¯ä»¥ç”¨" class="headerlink" title="åœ¨å“ªäº›åœ°æ–¹å¯ä»¥ç”¨ ?"></a>åœ¨å“ªäº›åœ°æ–¹å¯ä»¥ç”¨ ?</h4><p> æ¡ä»¶ 1ï¼šä½ æ­£åœ¨å¤„ç†ä¸€ä¸ª <code>Result&lt;T, E&gt;</code> æˆ– <code>Option&lt;T&gt;</code> ç±»å‹  </p>
<p> æ¡ä»¶ 2:   ä½ çš„<strong>å½“å‰å‡½æ•°</strong>è¿”å›çš„ä¹Ÿæ˜¯ <code>Result</code> æˆ– <code>Option</code></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">read_file</span>() <span class="punctuation">-&gt;</span> <span class="type">Result</span>&lt;<span class="type">String</span>, std::io::Error&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">content</span> = std::fs::<span class="title function_ invoke__">read_to_string</span>(<span class="string">&quot;hello.txt&quot;</span>)?;</span><br><span class="line">    <span class="title function_ invoke__">Ok</span>(content)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>å†…å®¹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>?</code> æ˜¯ä»€ä¹ˆ</td>
<td>é”™è¯¯ä¼ æ’­å·¥å…·ï¼šæˆåŠŸå°±ç»§ç»­ï¼Œå¤±è´¥å°±è‡ªåŠ¨ return</td>
</tr>
<tr>
<td>é€‚ç”¨äºä»€ä¹ˆ</td>
<td><code>Result&lt;T, E&gt;</code> æˆ– <code>Option&lt;T&gt;</code> ç±»å‹</td>
</tr>
<tr>
<td>è¦æ±‚</td>
<td>å½“å‰å‡½æ•°ä¹Ÿå¿…é¡»è¿”å› <code>Result</code> æˆ– <code>Option</code></td>
</tr>
<tr>
<td>ä½œç”¨</td>
<td>çœå»å¾ˆå¤š if&#x2F;matchï¼Œä»£ç æ›´ç®€æ´æ¸…çˆ½</td>
</tr>
<tr>
<td>ä¸èƒ½ç”¨</td>
<td>main() ä¸è¿”å› Result æ—¶ã€é Result ç±»å‹ä¸Š</td>
</tr>
</tbody></table>
<h3 id="Boxæˆ–-anyhow-Result"><a href="#Boxæˆ–-anyhow-Result" class="headerlink" title="Boxæˆ– anyhow::Result"></a>Box<dyn Error>æˆ– anyhow::Result</h3><h4 id="Box"><a href="#Box" class="headerlink" title="Box"></a>Box<dyn Error></h4><p><code>Box&lt;dyn Error&gt;</code> è¡¨ç¤ºï¼šâ€œæˆ‘ä¸å…³å¿ƒå…·ä½“æ˜¯å“ªç§é”™è¯¯ï¼Œåªè¦å®ƒå®ç°äº† <code>std::error::Error</code>ï¼Œæˆ‘éƒ½èƒ½æ¥æ”¶ã€‚å°±åƒä¸€ä¸ªâ€œä¸‡èƒ½ç›’å­â€è£…é”™è¯¯ï¼Œèƒ½è£…ï¼š</p>
<ul>
<li>I&#x2F;O é”™è¯¯ï¼ˆ<code>std::io::Error</code>ï¼‰</li>
<li>å­—ç¬¦ä¸²è§£æé”™è¯¯ï¼ˆ<code>std::num::ParseIntError</code>ï¼‰</li>
<li>ç¯å¢ƒå˜é‡é”™è¯¯ï¼ˆ<code>std::env::VarError</code>ï¼‰</li>
<li>â€¦ç­‰ç­‰ï¼Œåªè¦å®ç°äº† <code>Error</code> trait</li>
</ul>
<h4 id="anyhow-Result"><a href="#anyhow-Result" class="headerlink" title="anyhow::Result"></a>anyhow::Result</h4><p><code>anyhow</code> æ˜¯ä¸€ä¸ªç¬¬ä¸‰æ–¹ crateï¼Œç”¨äºç®€åŒ–é”™è¯¯å¤„ç†ã€‚ä½ å¯ä»¥åœ¨ <code>Cargo.toml</code> ä¸­æ·»åŠ ï¼š</p>
<figure class="highlight toml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">anyhow</span> = <span class="string">&quot;1&quot;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> std::fs::File;</span><br><span class="line"><span class="keyword">use</span> anyhow::&#123;Context, <span class="type">Result</span>&#125;; <span class="comment">// å¯¼å…¥ Result = anyhow::Result</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">f</span> = <span class="title function_ invoke__">file_read</span>();</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;:?&#125;&quot;</span>, f);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">file_read</span>() <span class="punctuation">-&gt;</span> <span class="type">Result</span>&lt;File&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">f</span> = File::<span class="title function_ invoke__">open</span>(<span class="string">&quot;hello.txt&quot;</span>)</span><br><span class="line">        .<span class="title function_ invoke__">context</span>(<span class="string">&quot;not found hello.txt&quot;</span>)?; <span class="comment">// å¦‚æœå¤±è´¥ï¼Œè‡ªåŠ¨è¿”å›å¹¶é™„åŠ é”™è¯¯ä¿¡æ¯</span></span><br><span class="line">    <span class="title function_ invoke__">Ok</span>(f)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>ç‰¹æ€§</th>
<th><code>Box&lt;dyn Error&gt;</code></th>
<th><code>anyhow::Result&lt;T&gt;</code></th>
</tr>
</thead>
<tbody><tr>
<td>å±äºæ ‡å‡†åº“</td>
<td>âœ… æ˜¯</td>
<td>âŒ éœ€è¦å¼•å…¥ç¬¬ä¸‰æ–¹ crate</td>
</tr>
<tr>
<td>é”™è¯¯ä¿¡æ¯ä¸°å¯Œ</td>
<td>âŒ é”™è¯¯é“¾è¾ƒå¼±</td>
<td>âœ… æœ‰ä¸Šä¸‹æ–‡ <code>.context()</code>ã€æ›´æ˜“è°ƒè¯•</td>
</tr>
<tr>
<td>ä½¿ç”¨ç®€ä¾¿ç¨‹åº¦</td>
<td>ä¸€èˆ¬ï¼Œéœ€è¦è‡ªå·± wrap</td>
<td>æ›´é«˜ï¼Œå†™ä¸šåŠ¡ä»£ç å‡ ä¹ä¸ç”¨å…³å¿ƒé”™è¯¯ç±»å‹</td>
</tr>
<tr>
<td>é€‚åˆç”¨é€”</td>
<td>å°é¡¹ç›®ã€åº“å†…éƒ¨ç»Ÿä¸€é”™è¯¯</td>
<td>ä¸šåŠ¡ä»£ç ã€å‘½ä»¤è¡Œå·¥å…·ã€æœåŠ¡ç«¯ç¨‹åºï¼ˆæ¨èï¼‰</td>
</tr>
</tbody></table>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/07/03/%E8%BF%94%E5%9B%9E%E5%80%BC%E5%92%8C%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/" data-id="cmconx2qp000wicqw1roiaxxf" data-title="è¿”å›å€¼å’Œé”™è¯¯å¤„ç†" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Rust/" rel="tag">Rust</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-é›†åˆ" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/07/02/%E9%9B%86%E5%90%88/" class="article-date">
  <time class="dt-published" datetime="2025-07-02T08:42:13.000Z" itemprop="datePublished">2025-07-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/07/02/%E9%9B%86%E5%90%88/">é›†åˆ</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="åŠ¨æ€æ•°ç»„-Vector"><a href="#åŠ¨æ€æ•°ç»„-Vector" class="headerlink" title="åŠ¨æ€æ•°ç»„ Vector"></a><a target="_blank" rel="noopener" href="https://doc.rust-lang.org/std/vec/struct.Vec.html#method.push">åŠ¨æ€æ•°ç»„ Vector</a></h3><h4 id="åˆ›å»ºåŠ¨æ€æ•°ç»„"><a href="#åˆ›å»ºåŠ¨æ€æ•°ç»„" class="headerlink" title="åˆ›å»ºåŠ¨æ€æ•°ç»„"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/collections/vector.html#%E5%88%9B%E5%BB%BA%E5%8A%A8%E6%80%81%E6%95%B0%E7%BB%84"><font style="color:rgb(0, 0, 0);">åˆ›å»ºåŠ¨æ€æ•°ç»„</font></a></h4><h5 id="Vec-new"><a href="#Vec-new" class="headerlink" title="Vec::new"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/collections/vector.html#vecnew"><font style="color:rgb(0, 0, 0);">Vec::new</font></a></h5><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">v</span>: <span class="type">Vec</span>&lt;<span class="type">i32</span>&gt; = <span class="type">Vec</span>::<span class="title function_ invoke__">new</span>();</span><br></pre></td></tr></table></figure>

<h5 id="Vec-with-capacity-capacity-åˆ›å»ºå®šé•¿çš„æ•°ç»„"><a href="#Vec-with-capacity-capacity-åˆ›å»ºå®šé•¿çš„æ•°ç»„" class="headerlink" title="Vec::with_capacity(capacity)åˆ›å»ºå®šé•¿çš„æ•°ç»„"></a>Vec::with_capacity(capacity)åˆ›å»ºå®šé•¿çš„æ•°ç»„</h5><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">v</span> = <span class="type">Vec</span>::<span class="title function_ invoke__">with_capacity</span>(<span class="number">10</span>);</span><br><span class="line">v.<span class="title function_ invoke__">push</span>(<span class="number">1</span>);</span><br></pre></td></tr></table></figure>

<h5 id="vec"><a href="#vec" class="headerlink" title="vec![]"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/collections/vector.html#vec"><font style="color:rgb(0, 0, 0);">vec![]</font></a></h5><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">x</span> = <span class="built_in">vec!</span>[<span class="number">1</span>;<span class="number">5</span>];</span><br><span class="line"><span class="keyword">for</span> <span class="variable">i</span> <span class="keyword">in</span> x.<span class="title function_ invoke__">iter</span>()&#123;</span><br><span class="line">   <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>,i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>å¯¹æ¯”é¡¹</th>
<th><code>Vec::new()</code></th>
<th><code>vec![]</code> å®</th>
</tr>
</thead>
<tbody><tr>
<td>ç±»å‹æ¨å¯¼</td>
<td><strong>éœ€è¦æ˜¾å¼æŒ‡å®šç±»å‹</strong>æˆ–ä¸Šä¸‹æ–‡æ¨å¯¼</td>
<td><strong>è‡ªåŠ¨æ ¹æ®å†…å®¹æ¨å¯¼ç±»å‹</strong></td>
</tr>
<tr>
<td>åˆå§‹å…ƒç´ </td>
<td>ä¸æ”¯æŒåˆå§‹åŒ–å†…å®¹</td>
<td>âœ… æ”¯æŒä¸€æ¬¡æ€§å¡«å……å¤šä¸ªå…ƒç´ </td>
</tr>
<tr>
<td>ç”¨æ³•è¯­æ³•</td>
<td>æ˜¯å‡½æ•°ï¼ˆ<code>fn new() -&gt; Vec&lt;T&gt;</code>ï¼‰</td>
<td>æ˜¯å®ï¼ˆ<code>macro_rules!</code>ï¼‰</td>
</tr>
<tr>
<td>æ€§èƒ½</td>
<td>ç›¸åŒï¼Œéƒ½ç”Ÿæˆç©ºå‘é‡ï¼ˆæˆ–ç›¸åŒåˆå§‹åŒ–ï¼‰</td>
<td>æ²¡æœ‰æ˜æ˜¾æ€§èƒ½å·®å¼‚</td>
</tr>
</tbody></table>
<p> æƒ³ç©ºç”¨ <code>new</code>ï¼Œæƒ³å¡«ç”¨ <code>vec![]</code>ï¼Œæƒ³ç®€ç”¨å®  </p>
<h4 id="ä»-Vector-ä¸­è¯»å–å…ƒç´ "><a href="#ä»-Vector-ä¸­è¯»å–å…ƒç´ " class="headerlink" title="ä» Vector ä¸­è¯»å–å…ƒç´ "></a><a target="_blank" rel="noopener" href="https://course.rs/basic/collections/vector.html#%E4%BB%8E-vector-%E4%B8%AD%E8%AF%BB%E5%8F%96%E5%85%83%E7%B4%A0"><font style="color:rgb(0, 0, 0);">ä» Vector ä¸­è¯»å–å…ƒç´ </font></a></h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> std::vec;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>()&#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">v</span>= <span class="built_in">vec!</span>[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line">    <span class="keyword">match</span> v.<span class="title function_ invoke__">get</span>(<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="title function_ invoke__">Some</span>(b) =&gt; <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>,b),</span><br><span class="line">        <span class="literal">None</span> =&gt; <span class="built_in">println!</span>(<span class="string">&quot;None&quot;</span>),</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> <span class="variable">Some</span>(b) = v.<span class="title function_ invoke__">get</span>(<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>,b);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>getå’Œé€šè¿‡ä¸‹æ ‡è·å–å…ƒç´ çš„åŒºåˆ«æ˜¯:getç´¢å¼•è¶Šç•Œä¸ä¼šæŠ¥é”™è¿”å›çš„æ˜¯option</p>
<h3 id="KV-å­˜å‚¨-HashMap"><a href="#KV-å­˜å‚¨-HashMap" class="headerlink" title="KV å­˜å‚¨ HashMap"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/collections/hashmap.html#kv-%E5%AD%98%E5%82%A8-hashmap"><font style="color:rgb(0, 0, 0);">KV å­˜å‚¨ HashMap</font></a></h3><h4 id="åˆ›å»º"><a href="#åˆ›å»º" class="headerlink" title="åˆ›å»º"></a>åˆ›å»º</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> std::collections::HashMap;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªHashMapï¼Œç”¨äºå­˜å‚¨å®çŸ³ç§ç±»å’Œå¯¹åº”çš„æ•°é‡</span></span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">my_gems</span> = HashMap::<span class="title function_ invoke__">new</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†å®çŸ³ç±»å‹å’Œå¯¹åº”çš„æ•°é‡å†™å…¥è¡¨ä¸­</span></span><br><span class="line">my_gems.<span class="title function_ invoke__">insert</span>(<span class="string">&quot;çº¢å®çŸ³&quot;</span>, <span class="number">1</span>);</span><br><span class="line">my_gems.<span class="title function_ invoke__">insert</span>(<span class="string">&quot;è“å®çŸ³&quot;</span>, <span class="number">2</span>);</span><br><span class="line">my_gems.<span class="title function_ invoke__">insert</span>(<span class="string">&quot;æ²³è¾¹æ¡çš„è¯¯ä»¥ä¸ºæ˜¯å®çŸ³çš„ç ´çŸ³å¤´&quot;</span>, <span class="number">18</span>);</span><br></pre></td></tr></table></figure>

<h4 id="æ‰€æœ‰æƒè½¬ç§»"><a href="#æ‰€æœ‰æƒè½¬ç§»" class="headerlink" title="æ‰€æœ‰æƒè½¬ç§»"></a>æ‰€æœ‰æƒè½¬ç§»</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">use</span> std::collections::HashMap;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">name</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;Sunface&quot;</span>);</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">age</span> = <span class="number">18</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">handsome_boys</span> = HashMap::<span class="title function_ invoke__">new</span>();</span><br><span class="line">    handsome_boys.<span class="title function_ invoke__">insert</span>(name, age);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;å› ä¸ºè¿‡äºæ— è€»ï¼Œ&#123;&#125;å·²ç»è¢«ä»å¸…æ°”ç”·å­©åå•ä¸­é™¤å&quot;</span>, name);</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;è¿˜æœ‰ï¼Œä»–çš„çœŸå®å¹´é¾„è¿œè¿œä¸æ­¢&#123;&#125;å²&quot;</span>, age);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æŸ¥è¯¢-HashMap"><a href="#æŸ¥è¯¢-HashMap" class="headerlink" title="æŸ¥è¯¢ HashMap"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/collections/hashmap.html#%E6%9F%A5%E8%AF%A2-hashmap"><font style="color:rgb(0, 0, 0);">æŸ¥è¯¢ HashMap</font></a></h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">scores</span> = HashMap::<span class="title function_ invoke__">new</span>();</span><br><span class="line"><span class="keyword">let</span> <span class="variable">key</span> =  scores.<span class="title function_ invoke__">get</span>(<span class="string">&quot;key&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>ä¼˜é›…çš„è·å–k-v</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">score</span>: <span class="type">i32</span> = scores.<span class="title function_ invoke__">get</span>(&amp;team_name).<span class="title function_ invoke__">copied</span>().<span class="title function_ invoke__">unwrap_or</span>(<span class="number">0</span>);</span><br></pre></td></tr></table></figure>

<p>å®Œæ•´æµç¨‹ï¼š</p>
<ol>
<li><code>scores.get(&amp;team_name)</code> â†’ <code>Option&lt;&amp;i32&gt;</code></li>
<li><code>.copied()</code> â†’ <code>Option&lt;i32&gt;</code></li>
<li><code>.unwrap_or(0)</code> â†’ è‹¥å­˜åœ¨å€¼å°±è¿”å›ï¼Œå¦åˆ™è¿”å›é»˜è®¤çš„ <code>0</code></li>
</ol>
<h4 id="ä¸‰æ–¹åº“-Hash-åº“"><a href="#ä¸‰æ–¹åº“-Hash-åº“" class="headerlink" title="ä¸‰æ–¹åº“ Hash åº“"></a><a target="_blank" rel="noopener" href="https://practice-zh.course.rs/collections/hashmap.html#%E4%B8%89%E6%96%B9%E5%BA%93-hash-%E5%BA%93"><font style="color:rgb(0, 0, 0);">ä¸‰æ–¹åº“ Hash åº“</font></a></h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> std::collections::HashMap;</span><br><span class="line"><span class="keyword">use</span> std::hash::BuildHasherDefault;</span><br><span class="line"><span class="keyword">use</span> twox_hash::XxHash64;</span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">hash</span>:HashMap&lt;_, _,BuildHasherDefault&lt;XxHash64&gt;&gt;=<span class="built_in">Default</span>::<span class="title function_ invoke__">default</span>();</span><br><span class="line">    hash.<span class="title function_ invoke__">insert</span>(<span class="number">1</span>, <span class="string">&quot;one&quot;</span>);</span><br><span class="line">    <span class="built_in">assert_eq!</span>(hash.<span class="title function_ invoke__">get</span>(&amp;<span class="number">1</span>), <span class="title function_ invoke__">Some</span>(&amp;<span class="string">&quot;one&quot;</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Cargo.toml ä¾èµ–</p>
<figure class="highlight toml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[dependencies]</span></span><br><span class="line"><span class="attr">twox-hash</span>=<span class="string">&quot;2.1.0&quot;</span></span><br></pre></td></tr></table></figure>



      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/07/02/%E9%9B%86%E5%90%88/" data-id="cmconx2qp000yicqwa6uk3q24" data-title="é›†åˆ" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Rust/" rel="tag">Rust</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-ç‰¹å¾" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/07/01/%E7%89%B9%E5%BE%81/" class="article-date">
  <time class="dt-published" datetime="2025-07-01T13:23:53.000Z" itemprop="datePublished">2025-07-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/07/01/%E7%89%B9%E5%BE%81/">ç‰¹å¾</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="Trait"><a href="#Trait" class="headerlink" title="Trait"></a>Trait</h3><p>ç‰¹å¾å®šä¹‰äº†ä¸€ç»„å¯ä»¥è¢«å…±äº«çš„è¡Œä¸ºï¼Œåªè¦å®ç°äº†ç‰¹å¾ï¼Œä½ å°±èƒ½ä½¿ç”¨è¿™ç»„è¡Œä¸º;<font style="color:rgb(0, 0, 0);">ç‰¹å¾è·Ÿæ¥å£å¾ˆç±»ä¼¼</font></p>
<h4 id="å®šä¹‰ç‰¹å¾"><a href="#å®šä¹‰ç‰¹å¾" class="headerlink" title="å®šä¹‰ç‰¹å¾"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/trait/trait.html#%E5%AE%9A%E4%B9%89%E7%89%B9%E5%BE%81"><font style="color:rgb(0, 0, 0);">å®šä¹‰ç‰¹å¾</font></a></h4><p><strong><font style="color:rgb(0, 0, 0);">å®šä¹‰ç‰¹å¾</font></strong><font style="color:rgb(0, 0, 0);">æ˜¯æŠŠä¸€äº›æ–¹æ³•ç»„åˆåœ¨ä¸€èµ·ï¼Œç›®çš„æ˜¯å®šä¹‰ä¸€ä¸ªå®ç°æŸäº›ç›®æ ‡æ‰€å¿…éœ€çš„è¡Œä¸ºçš„é›†åˆã€‚</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">pub</span> <span class="keyword">trait</span> <span class="title class_">Summary</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">summarize</span>(&amp;<span class="keyword">self</span>) <span class="punctuation">-&gt;</span> <span class="type">String</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>trait</code><font style="color:rgb(0, 0, 0);"> å…³é”®å­—æ¥å£°æ˜ä¸€ä¸ªç‰¹å¾ï¼Œ</font><code>Summary</code><font style="color:rgb(0, 0, 0);"> æ˜¯ç‰¹å¾åã€‚åœ¨å¤§æ‹¬å·ä¸­å®šä¹‰äº†è¯¥ç‰¹å¾çš„æ‰€æœ‰æ–¹æ³•ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­æ˜¯ï¼š </font><code>fn summarize(&amp;self) -&gt; String</code></p>
<h4 id="ä¸ºç±»å‹å®ç°ç‰¹å¾"><a href="#ä¸ºç±»å‹å®ç°ç‰¹å¾" class="headerlink" title="ä¸ºç±»å‹å®ç°ç‰¹å¾"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/trait/trait.html#%E4%B8%BA%E7%B1%BB%E5%9E%8B%E5%AE%9E%E7%8E%B0%E7%89%B9%E5%BE%81"><font style="color:rgb(0, 0, 0);">ä¸ºç±»å‹å®ç°ç‰¹å¾</font></a></h4><p><font style="color:rgb(0, 0, 0);">å®ç°æ–¹æ³•å¾ˆåƒï¼š</font><code>impl Summary for Post</code><font style="color:rgb(0, 0, 0);">ï¼Œè¯»ä½œâ€œä¸º </font><code>Post</code><font style="color:rgb(0, 0, 0);"> ç±»å‹å®ç° </font><code>Summary</code><font style="color:rgb(0, 0, 0);"> ç‰¹å¾â€ï¼Œç„¶ååœ¨ </font><code>impl</code><font style="color:rgb(0, 0, 0);"> çš„èŠ±æ‹¬å·ä¸­å®ç°è¯¥ç‰¹å¾çš„å…·ä½“æ–¹æ³•</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">pub</span> <span class="keyword">trait</span> <span class="title class_">Summary</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">summarize</span>(&amp;<span class="keyword">self</span>) <span class="punctuation">-&gt;</span> <span class="type">String</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">pub</span> <span class="keyword">struct</span> <span class="title class_">Post</span> &#123;</span><br><span class="line">    <span class="keyword">pub</span> title: <span class="type">String</span>, <span class="comment">// æ ‡é¢˜</span></span><br><span class="line">    <span class="keyword">pub</span> author: <span class="type">String</span>, <span class="comment">// ä½œè€…</span></span><br><span class="line">    <span class="keyword">pub</span> content: <span class="type">String</span>, <span class="comment">// å†…å®¹</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">Summary</span> <span class="keyword">for</span> <span class="title class_">Post</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">summarize</span>(&amp;<span class="keyword">self</span>) <span class="punctuation">-&gt;</span> <span class="type">String</span> &#123;</span><br><span class="line">        <span class="built_in">format!</span>(<span class="string">&quot;æ–‡ç« &#123;&#125;, ä½œè€…æ˜¯&#123;&#125;&quot;</span>, <span class="keyword">self</span>.title, <span class="keyword">self</span>.author)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">pub</span> <span class="keyword">struct</span> <span class="title class_">Weibo</span> &#123;</span><br><span class="line">    <span class="keyword">pub</span> username: <span class="type">String</span>,</span><br><span class="line">    <span class="keyword">pub</span> content: <span class="type">String</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">Summary</span> <span class="keyword">for</span> <span class="title class_">Weibo</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">summarize</span>(&amp;<span class="keyword">self</span>) <span class="punctuation">-&gt;</span> <span class="type">String</span> &#123;</span><br><span class="line">        <span class="built_in">format!</span>(<span class="string">&quot;&#123;&#125;å‘è¡¨äº†å¾®åš&#123;&#125;&quot;</span>, <span class="keyword">self</span>.username, <span class="keyword">self</span>.content)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">post</span> = Post&#123;title: <span class="string">&quot;Rustè¯­è¨€ç®€ä»‹&quot;</span>.<span class="title function_ invoke__">to_string</span>(),author: <span class="string">&quot;Sunface&quot;</span>.<span class="title function_ invoke__">to_string</span>(), content: <span class="string">&quot;Rustæ£’æäº†!&quot;</span>.<span class="title function_ invoke__">to_string</span>()&#125;;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">weibo</span> = Weibo&#123;username: <span class="string">&quot;sunface&quot;</span>.<span class="title function_ invoke__">to_string</span>(),content: <span class="string">&quot;å¥½åƒå¾®åšæ²¡Tweetå¥½ç”¨&quot;</span>.<span class="title function_ invoke__">to_string</span>()&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>,post.<span class="title function_ invoke__">summarize</span>());</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>,weibo.<span class="title function_ invoke__">summarize</span>());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="é»˜è®¤å®ç°"><a href="#é»˜è®¤å®ç°" class="headerlink" title="é»˜è®¤å®ç°"></a>é»˜è®¤å®ç°</h4><p>é»˜è®¤å®ç°çš„æ–¹æ³•ï¼Œè¿™æ ·å…¶å®ƒç±»å‹æ— éœ€å†å®ç°è¯¥æ–¹æ³•ï¼Œæˆ–è€…ä¹Ÿå¯ä»¥é€‰æ‹©é‡å†™è¯¥æ–¹æ³•</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">pub</span> <span class="keyword">trait</span> <span class="title class_">Summary</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">summarize</span>(&amp;<span class="keyword">self</span>) <span class="punctuation">-&gt;</span> <span class="type">String</span> &#123;</span><br><span class="line">        <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;(Read more...)&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä¸€ä¸ªæ–¹æ³•å®ç°äº†Summary,ä½†æ˜¯æ²¡æœ‰è¿›è¡Œé‡å†™,ä½¿ç”¨é»˜è®¤å®ç°;å¦‚æœé‡å†™å°±ä½¿ç”¨é‡å†™æ–¹æ³•</p>
<h4 id="ä½¿ç”¨ç‰¹å¾ä½œä¸ºå‡½æ•°å‚æ•°"><a href="#ä½¿ç”¨ç‰¹å¾ä½œä¸ºå‡½æ•°å‚æ•°" class="headerlink" title="ä½¿ç”¨ç‰¹å¾ä½œä¸ºå‡½æ•°å‚æ•°"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/trait/trait.html#%E4%BD%BF%E7%94%A8%E7%89%B9%E5%BE%81%E4%BD%9C%E4%B8%BA%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0"><font style="color:rgb(0, 0, 0);">ä½¿ç”¨ç‰¹å¾ä½œä¸ºå‡½æ•°å‚æ•°</font></a></h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">pub</span> <span class="keyword">fn</span> <span class="title function_">notify</span>(item: &amp;<span class="keyword">impl</span> <span class="title class_">Summary</span>) &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;Breaking news! &#123;&#125;&quot;</span>, item.<span class="title function_ invoke__">summarize</span>());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¾‹å¦‚: impl Summary for A; å¯ä»¥ä½¿ç”¨ notify(&amp;A)è¿›è¡Œè°ƒç”¨</p>
<h4 id="ç‰¹å¾çº¦æŸ"><a href="#ç‰¹å¾çº¦æŸ" class="headerlink" title="ç‰¹å¾çº¦æŸ"></a>ç‰¹å¾çº¦æŸ</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">pub</span> <span class="keyword">fn</span> <span class="title function_">notify</span>&lt;T: Summary&gt;(item1: &amp;T, item2: &amp;T) &#123;&#125;</span><br></pre></td></tr></table></figure>

<p><font style="color:rgb(0, 0, 0);">æ³›å‹ç±»å‹ </font><code>T</code><font style="color:rgb(0, 0, 0);"> è¯´æ˜äº† </font><code>item1</code><font style="color:rgb(0, 0, 0);"> å’Œ </font><code>item2</code><font style="color:rgb(0, 0, 0);"> å¿…é¡»æ‹¥æœ‰åŒæ ·çš„ç±»å‹ï¼ŒåŒæ—¶ </font><code>T: Summary</code><font style="color:rgb(0, 0, 0);"> è¯´æ˜äº† </font><code>T</code><font style="color:rgb(0, 0, 0);"> å¿…é¡»å®ç° </font><code>Summary</code><font style="color:rgb(0, 0, 0);"> ç‰¹å¾ã€‚</font></p>
<h4 id="å¤šé‡çº¦æŸ"><a href="#å¤šé‡çº¦æŸ" class="headerlink" title="å¤šé‡çº¦æŸ"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/trait/trait.html#%E5%A4%9A%E9%87%8D%E7%BA%A6%E6%9D%9F"><font style="color:rgb(0, 0, 0);">å¤šé‡çº¦æŸ</font></a></h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">pub</span> <span class="keyword">fn</span> <span class="title function_">notify</span>(item: &amp;(<span class="keyword">impl</span> <span class="title class_">Summary</span> + Display)) &#123;&#125;</span><br><span class="line"><span class="comment">// ä¸ªäººæ›´å–œæ¬¢ä¸‹é¢è¿™ç§å†™æ³•</span></span><br><span class="line"><span class="keyword">pub</span> <span class="keyword">fn</span> <span class="title function_">notify</span>&lt;T: Summary + Display&gt;(item:&amp;T)&#123;&#125;</span><br></pre></td></tr></table></figure>

<p><code>notify</code> å‡½æ•°æ¥æ”¶ä¸€ä¸ª<strong>å¼•ç”¨ç±»å‹å‚æ•°</strong>ï¼Œè¿™ä¸ªå‚æ•°çš„ç±»å‹å¿…é¡»åŒæ—¶å®ç°äº† <code>Summary</code> å’Œ <code>Display</code> è¿™ä¸¤ä¸ª traitã€‚  </p>
<h5 id="impl-Summary-Display-æ˜¯ä»€ä¹ˆæ„æ€"><a href="#impl-Summary-Display-æ˜¯ä»€ä¹ˆæ„æ€" class="headerlink" title="(impl Summary + Display) æ˜¯ä»€ä¹ˆæ„æ€"></a>(impl Summary + Display) æ˜¯ä»€ä¹ˆæ„æ€</h5><p>è¡¨ç¤ºç±»å‹å¿…é¡»åŒæ—¶å®ç°ï¼š</p>
<ul>
<li><code>Summary</code>ï¼ˆä½ è‡ªå®šä¹‰çš„ traitï¼‰</li>
<li><code>Display</code>ï¼ˆRust æ ‡å‡†åº“é‡Œçš„æ ¼å¼åŒ– traitï¼Œæ”¯æŒ <code>&#123;&#125;</code> æ‰“å°ï¼‰</li>
</ul>
<p>æ¯”å¦‚ï¼Œè¿™æ ·çš„ç±»å‹æ‰èƒ½ä¼ è¿›å»ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">News</span> &#123;&#125;</span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">Summary</span> <span class="keyword">for</span> <span class="title class_">News</span> &#123; ... &#125;</span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">Display</span> <span class="keyword">for</span> <span class="title class_">News</span> &#123; ... &#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">notify</span>(&amp;news); <span class="comment">// âœ… æ»¡è¶³çº¦æŸ</span></span><br></pre></td></tr></table></figure>

<h5 id="ä»€ä¹ˆæ—¶å€™ç”¨-åˆå¹¶å¤šä¸ª-trait"><a href="#ä»€ä¹ˆæ—¶å€™ç”¨-åˆå¹¶å¤šä¸ª-trait" class="headerlink" title="ä»€ä¹ˆæ—¶å€™ç”¨ + åˆå¹¶å¤šä¸ª trait"></a>ä»€ä¹ˆæ—¶å€™ç”¨ <code>+</code> åˆå¹¶å¤šä¸ª trait</h5><p> å½“ä½ å¸Œæœ›å‡½æ•°å‚æ•°åŒæ—¶æ»¡è¶³å¤šä¸ª trait çš„çº¦æŸï¼ˆæ¯”å¦‚å¯ä»¥ <code>.sum()</code> åˆå¯ä»¥ <code>&#123;&#125;</code> æ‰“å°ï¼‰ï¼Œå°±éœ€è¦ç”¨ <code>+</code></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> std::fmt::Display;</span><br><span class="line"></span><br><span class="line"><span class="keyword">pub</span> <span class="keyword">trait</span> <span class="title class_">Summary</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">sum</span>(&amp;<span class="keyword">self</span>) <span class="punctuation">-&gt;</span> <span class="type">String</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">pub</span> <span class="keyword">fn</span> <span class="title function_">notify</span>(item: &amp;(<span class="keyword">impl</span> <span class="title class_">Summary</span> + Display)) &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125; - &#123;&#125;&quot;</span>, item, item.<span class="title function_ invoke__">sum</span>());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>å†™æ³•</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>fn notify(item: &amp;impl Summary)</code></td>
<td>æ¥æ”¶å®ç°äº† <code>Summary</code> çš„å¼•ç”¨</td>
</tr>
<tr>
<td><code>fn notify(item: &amp;impl Summary + Display)</code></td>
<td>æ¥æ”¶å®ç°äº† <code>Summary</code> <strong>å’Œ</strong> <code>Display</code> çš„å¼•ç”¨</td>
</tr>
<tr>
<td><code>fn notify&lt;T: Summary&gt;(item: &amp;T)</code></td>
<td>ç­‰ä»·äºç¬¬ 1 ç§ï¼Œå†™æ³•æ›´é€šç”¨</td>
</tr>
<tr>
<td><code>fn notify&lt;T: Summary + Display&gt;(item: &amp;T)</code></td>
<td>ç­‰ä»·äºç¬¬ 2 ç§ï¼Œæ›´çµæ´»</td>
</tr>
</tbody></table>
<h4 id="Where-çº¦æŸ"><a href="#Where-çº¦æŸ" class="headerlink" title="Where çº¦æŸ"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/trait/trait.html#where-%E7%BA%A6%E6%9D%9F"><font style="color:rgb(0, 0, 0);">Where çº¦æŸ</font></a></h4><h4 id="è¯­æ³•å¯¹æ¯”"><a href="#è¯­æ³•å¯¹æ¯”" class="headerlink" title="è¯­æ³•å¯¹æ¯”"></a>è¯­æ³•å¯¹æ¯”</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ™®é€šå†™æ³•ï¼šæ‰€æœ‰çº¦æŸéƒ½å†™åœ¨ &lt;&gt; ä¸­</span></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">example</span>&lt;T: TraitA + TraitB, U: TraitC&gt;(t: T, u: U) &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// where å†™æ³•ï¼šçº¦æŸå•ç‹¬å†™åœ¨ where é‡Œ</span></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">example</span>&lt;T, U&gt;(t: T, u: U)</span><br><span class="line"><span class="keyword">where</span></span><br><span class="line">    T: TraitA + TraitB,</span><br><span class="line">    U: TraitC,</span><br><span class="line">&#123;&#125;</span><br></pre></td></tr></table></figure>

<p> æ•ˆæœä¸€æ ·ï¼Œä½† <code>where</code> æ–¹å¼åœ¨çº¦æŸå¾ˆå¤šæ—¶æ›´æ¸…æ™°ï¼  </p>
<h5 id="ä¸¾ä¾‹"><a href="#ä¸¾ä¾‹" class="headerlink" title="ä¸¾ä¾‹"></a>ä¸¾ä¾‹</h5><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> std::fmt::Display;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">print_pair</span>&lt;T, U&gt;(x: T, y: U)</span><br><span class="line"><span class="keyword">where</span></span><br><span class="line">    T: Display,</span><br><span class="line">    U: Display,</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;x: &#123;&#125;, y: &#123;&#125;&quot;</span>, x, y);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="å‡½æ•°è¿”å›ä¸­çš„impl-Trait"><a href="#å‡½æ•°è¿”å›ä¸­çš„impl-Trait" class="headerlink" title="å‡½æ•°è¿”å›ä¸­çš„impl Trait"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/trait/trait.html#%E5%87%BD%E6%95%B0%E8%BF%94%E5%9B%9E%E4%B8%AD%E7%9A%84-impl-trait"><font style="color:rgb(0, 0, 0);">å‡½æ•°è¿”å›ä¸­çš„impl Trait</font></a></h4><ul>
<li>è¿”å›çš„ç±»å‹å¤ªå¤æ‚ï¼ˆæ¯”å¦‚é—­åŒ…ã€è¿­ä»£å™¨ï¼‰</li>
<li>ä¸æƒ³æš´éœ²ç±»å‹ç»†èŠ‚</li>
<li>æ›´æ¸…çˆ½ã€ç®€æ´</li>
</ul>
<table>
<thead>
<tr>
<th>ä¼ ç»Ÿå†™æ³•</th>
<th>impl Trait å†™æ³•</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td><code>-&gt; String</code></td>
<td><code>-&gt; impl Display</code></td>
<td>ä¸å‘Šè¯‰ä½ æ˜¯ Stringï¼Œåªè¯´èƒ½è¢«æ‰“å°</td>
</tr>
<tr>
<td><code>-&gt; Vec&lt;i32&gt;</code></td>
<td><code>-&gt; impl Iterator&lt;Item = i32&gt;</code></td>
<td>ä¸å‘Šè¯‰ä½ æ˜¯ Vecï¼Œåªè¯´èƒ½ä¸€ä¸ªä¸ªå–å‡ºæ¥</td>
</tr>
<tr>
<td><code>-&gt; MyClosureType</code></td>
<td><code>-&gt; impl Fn(i32) -&gt; i32</code></td>
<td>ä¸å‘Šè¯‰ä½ é—­åŒ…é•¿å•¥æ ·ï¼Œåªè¯´èƒ½æ‰§è¡Œå®ƒ</td>
</tr>
</tbody></table>
<h3 id="ç‰¹å¾å¯¹è±¡"><a href="#ç‰¹å¾å¯¹è±¡" class="headerlink" title="ç‰¹å¾å¯¹è±¡"></a>ç‰¹å¾å¯¹è±¡</h3><p>ç‰¹å¾å¯¹è±¡ï¼ˆtrait objectï¼‰æ˜¯â€œåœ¨è¿è¡Œæ—¶â€å†³å®šç±»å‹çš„æ–¹å¼ï¼Œå…è®¸ä½ é€šè¿‡ <code>**Box&lt;dyn Trait&gt;**</code> ä¹‹ç±»çš„æ–¹å¼æ¥å¤„ç†ä¸åŒç±»å‹çš„å€¼ï¼Œåªè¦å®ƒä»¬éƒ½å®ç°äº†æŸä¸ª trait(ç±»ä¼¼äºjavaä¸­çš„å¤šæ€)ã€‚  </p>
<p>Rust é»˜è®¤æ˜¯<strong>é™æ€åˆ†å‘</strong>ï¼ˆç¼–è¯‘æ—¶å†³å®šç±»å‹ï¼‰ï¼Œè¿™æœ‰åˆ©äºæ€§èƒ½ï¼Œä½†é™åˆ¶äº†æŸäº›çµæ´»æ€§ï¼Œæ¯”å¦‚ï¼š  </p>
<p>åœºæ™¯ï¼šä½ æƒ³è®©ä¸€ä¸ªå˜é‡ï¼Œèƒ½è£…ä¸‹å¤šç§ä¸åŒç±»å‹çš„å¯¹è±¡ï¼Œåªè¦å®ƒä»¬éƒ½æœ‰ç›¸åŒçš„åŠŸèƒ½ï¼ˆå®ç°äº†åŒä¸€ä¸ª traitï¼‰</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">trait</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">speak</span>(&amp;<span class="keyword">self</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Dog</span>;</span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">Animal</span> <span class="keyword">for</span> <span class="title class_">Dog</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">speak</span>(&amp;<span class="keyword">self</span>) &#123; <span class="built_in">println!</span>(<span class="string">&quot;æ±ªæ±ªï¼&quot;</span>); &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Cat</span>;</span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">Animal</span> <span class="keyword">for</span> <span class="title class_">Cat</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">speak</span>(&amp;<span class="keyword">self</span>) &#123; <span class="built_in">println!</span>(<span class="string">&quot;å–µå–µï¼&quot;</span>); &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="variable">zoo</span> = <span class="built_in">vec!</span>[Dog, Cat]; <span class="comment">// âŒ ç¼–è¯‘é”™è¯¯ï¼Œä¸åŒç±»å‹ä¸èƒ½è¿›åŒä¸€ä¸ª Vec</span></span><br></pre></td></tr></table></figure>

<p> ä½¿ç”¨ç‰¹å¾å¯¹è±¡è§£å†³ </p>
<p><code>Box&lt;dyn Animal&gt;</code> å°±æ˜¯ä¸€ä¸ª <strong>ç‰¹å¾å¯¹è±¡</strong>ã€‚<br>æ„æ€æ˜¯ï¼šâ€œæˆ‘ä¸çŸ¥é“ä½ å…·ä½“æ˜¯ Dog è¿˜æ˜¯ Catï¼Œåæ­£ä½ èƒ½ <code>speak()</code> å°±è¡Œâ€ã€‚  </p>
<h4 id="ç‰¹å¾å¯¹è±¡çš„ä½¿ç”¨æ¡ä»¶"><a href="#ç‰¹å¾å¯¹è±¡çš„ä½¿ç”¨æ¡ä»¶" class="headerlink" title="ç‰¹å¾å¯¹è±¡çš„ä½¿ç”¨æ¡ä»¶"></a>ç‰¹å¾å¯¹è±¡çš„ä½¿ç”¨æ¡ä»¶</h4><p>åªæœ‰ <strong>trait</strong> æ»¡è¶³ä»¥ä¸‹æ¡ä»¶æ‰èƒ½è¢«åšæˆç‰¹å¾å¯¹è±¡ï¼š</p>
<h5 id="å¿…é¡»æ»¡è¶³"><a href="#å¿…é¡»æ»¡è¶³" class="headerlink" title="å¿…é¡»æ»¡è¶³"></a>å¿…é¡»æ»¡è¶³</h5><ul>
<li>trait ä¸èƒ½æœ‰æ³›å‹å‚æ•°</li>
<li>trait æ–¹æ³•ä¸èƒ½ä½¿ç”¨ <code>Self</code> ä½œä¸ºè¿”å›å€¼ï¼ˆé™¤éé…åˆ <code>Box&lt;Self&gt;</code>ï¼‰</li>
<li>trait è¦æ”¯æŒ <strong>å¯¹è±¡å®‰å…¨ï¼ˆobject safeï¼‰</strong></li>
</ul>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">trait</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">speak</span>(&amp;<span class="keyword">self</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Dog</span>;</span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">Animal</span> <span class="keyword">for</span> <span class="title class_">Dog</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">speak</span>(&amp;<span class="keyword">self</span>) &#123; <span class="built_in">println!</span>(<span class="string">&quot;Dog says: æ±ªæ±ªï¼&quot;</span>); &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Cat</span>;</span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">Animal</span> <span class="keyword">for</span> <span class="title class_">Cat</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">speak</span>(&amp;<span class="keyword">self</span>) &#123; <span class="built_in">println!</span>(<span class="string">&quot;Cat says: å–µå–µï¼&quot;</span>); &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">zoo</span>: <span class="type">Vec</span>&lt;<span class="type">Box</span>&lt;<span class="keyword">dyn</span> Animal&gt;&gt; = <span class="built_in">vec!</span>[</span><br><span class="line">        <span class="type">Box</span>::<span class="title function_ invoke__">new</span>(Dog),</span><br><span class="line">        <span class="type">Box</span>::<span class="title function_ invoke__">new</span>(Cat),</span><br><span class="line">    ];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="variable">animal</span> <span class="keyword">in</span> zoo &#123;</span><br><span class="line">        animal.<span class="title function_ invoke__">speak</span>(); <span class="comment">// åŠ¨æ€è°ƒç”¨</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="dyn"><a href="#dyn" class="headerlink" title="dyn"></a>dyn</h4><p><code>**dyn**</code> æ˜¯ Rust ä¸­çš„å…³é”®è¯ï¼Œæ„æ€æ˜¯ï¼šâ€œæˆ‘è¦ä½¿ç”¨ä¸€ä¸ª<strong>åŠ¨æ€åˆ†å‘çš„ trait å¯¹è±¡</strong>â€ã€‚</p>
<p><code>dyn Trait</code> æ˜¯åŠ¨æ€å¤§å°ç±»å‹ï¼ˆDSTï¼‰ï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œå¿…é¡»ç”¨ <code>Box</code>ã€<code>&amp;</code> æˆ– <code>Rc</code> ç­‰åŒ…èµ·æ¥ã€‚</p>
<table>
<thead>
<tr>
<th>åŒ…è£…æ–¹å¼</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>Box&lt;dyn Trait&gt;</code></td>
<td>æ”¾åˆ°å †ä¸Šï¼Œé€‚åˆæ‰€æœ‰æƒè½¬ç§»</td>
</tr>
<tr>
<td><code>&amp;dyn Trait</code></td>
<td>å€Ÿç”¨å¼•ç”¨ï¼Œé€‚åˆåªè¯»è°ƒç”¨</td>
</tr>
<tr>
<td><code>Rc&lt;dyn Trait&gt;</code></td>
<td>å¤šæ‰€æœ‰æƒï¼Œé€‚åˆå¤šå¤„å…±äº«ä½¿ç”¨</td>
</tr>
<tr>
<td><code>Arc&lt;dyn Trait&gt;</code></td>
<td>å¤šçº¿ç¨‹å…±äº«</td>
</tr>
</tbody></table>
<h5 id="ç±»æ¯”ç†è§£ï¼ˆğŸ“¦è£…ç®±æ€æƒ³ï¼‰"><a href="#ç±»æ¯”ç†è§£ï¼ˆğŸ“¦è£…ç®±æ€æƒ³ï¼‰" class="headerlink" title="ç±»æ¯”ç†è§£ï¼ˆğŸ“¦è£…ç®±æ€æƒ³ï¼‰"></a>ç±»æ¯”ç†è§£ï¼ˆğŸ“¦è£…ç®±æ€æƒ³ï¼‰</h5><p>ä½ å¯ä»¥æŠŠ <code>dyn Trait</code> ç†è§£æˆä¸€ä¸ªâ€œå°ºå¯¸ä¸å®šçš„ç‰©å“â€ï¼ŒRust ä¸å…è®¸ä½ ç›´æ¥æ‹¿åœ¨æ‰‹ä¸Šï¼Œå¿…é¡»ï¼š</p>
<ul>
<li>ç”¨ä¸€ä¸ªç›’å­ï¼ˆ<code>Box</code>ï¼‰è£…èµ·æ¥ï¼Œæ”¾å †ä¸Š</li>
<li>æˆ–è€…ç”¨å¼•ç”¨ï¼ˆ<code>&amp;</code>ï¼‰æŒ‡å‘å®ƒ</li>
</ul>
<p>å¦åˆ™ç¼–è¯‘å™¨æ— æ³•åˆ†é…ç©ºé—´ï¼Œä¸çŸ¥é“è¯¥æ€ä¹ˆå¤„ç†å®ƒã€‚</p>
<h4 id="Self-ä¸-self"><a href="#Self-ä¸-self" class="headerlink" title="Self ä¸ self"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/trait/trait-object.html#self-%E4%B8%8E-self"><font style="color:rgb(0, 0, 0);">Self ä¸ self</font></a></h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">trait</span> <span class="title class_">Draw</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">draw</span>(&amp;<span class="keyword">self</span>) <span class="punctuation">-&gt;</span> <span class="keyword">Self</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#[derive(Clone)]</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Button</span>;</span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">Draw</span> <span class="keyword">for</span> <span class="title class_">Button</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">draw</span>(&amp;<span class="keyword">self</span>) <span class="punctuation">-&gt;</span> <span class="keyword">Self</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span>.<span class="title function_ invoke__">clone</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">button</span> = Button;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">newb</span> = button.<span class="title function_ invoke__">draw</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>self</code><font style="color:rgb(0, 0, 0);">æŒ‡ä»£çš„å°±æ˜¯å½“å‰çš„å®ä¾‹å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯ </font><code>button.draw()</code><font style="color:rgb(0, 0, 0);"> ä¸­çš„ </font><code>button</code><font style="color:rgb(0, 0, 0);"> å®ä¾‹ï¼Œ</font><code>Self</code><font style="color:rgb(0, 0, 0);"> åˆ™æŒ‡ä»£çš„æ˜¯ </font><code>Button</code><font style="color:rgb(0, 0, 0);"> ç±»å‹</font></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/07/01/%E7%89%B9%E5%BE%81/" data-id="cmconx2qo000sicqwghcb2lxe" data-title="ç‰¹å¾" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Rust/" rel="tag">Rust</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-æ³›å‹" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/06/30/%E6%B3%9B%E5%9E%8B/" class="article-date">
  <time class="dt-published" datetime="2025-06-30T09:17:07.000Z" itemprop="datePublished">2025-06-30</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/06/30/%E6%B3%9B%E5%9E%8B/">æ³›å‹</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="ä»€ä¹ˆæ˜¯æ³›å‹"><a href="#ä»€ä¹ˆæ˜¯æ³›å‹" class="headerlink" title="ä»€ä¹ˆæ˜¯æ³›å‹"></a>ä»€ä¹ˆæ˜¯æ³›å‹</h3><p>æ³›å‹å°±æ˜¯ä¸€ç§â€œ<strong>å¯å˜ç±»å‹çš„å ä½ç¬¦</strong>â€ï¼Œå¯ä»¥è®©å‡½æ•°ã€ç»“æ„ä½“ã€æšä¸¾ã€æ–¹æ³•ç­‰åœ¨ä¸æŒ‡å®šå…·ä½“ç±»å‹çš„æƒ…å†µä¸‹å·¥ä½œã€‚</p>
<h3 id="ä¸ºä»€ä¹ˆè¦ç”¨æ³›å‹"><a href="#ä¸ºä»€ä¹ˆè¦ç”¨æ³›å‹" class="headerlink" title="ä¸ºä»€ä¹ˆè¦ç”¨æ³›å‹"></a>ä¸ºä»€ä¹ˆè¦ç”¨æ³›å‹</h3><ul>
<li>å‡å°‘é‡å¤ä»£ç ï¼ˆæ¯”å¦‚ï¼š<code>fn print_i32</code>ã€<code>fn print_f64</code>â€¦ï¼‰</li>
<li>å¢å¼ºä»£ç å¤ç”¨</li>
<li>æé«˜çµæ´»æ€§å’Œæ‰©å±•æ€§</li>
</ul>
<h3 id="æ³›å‹ç§ç±»"><a href="#æ³›å‹ç§ç±»" class="headerlink" title="æ³›å‹ç§ç±»"></a>æ³›å‹ç§ç±»</h3><h4 id="æ³›å‹å‡½æ•°"><a href="#æ³›å‹å‡½æ•°" class="headerlink" title="æ³›å‹å‡½æ•°"></a>æ³›å‹å‡½æ•°</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">largest</span>&lt;T: <span class="built_in">PartialOrd</span> + <span class="built_in">Copy</span>&gt;(list: &amp;[T]) <span class="punctuation">-&gt;</span> T &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">largest</span> = list[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span> &amp;item <span class="keyword">in</span> list &#123;</span><br><span class="line">        <span class="keyword">if</span> item &gt; largest &#123;</span><br><span class="line">            largest = item;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    largest</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li><code>PartialOrd</code><font style="color:rgb(64, 64, 64);"> trait</font><font style="color:rgb(64, 64, 64);">:</font><ul>
<li><font style="color:rgb(64, 64, 64);">è¿™æ˜¯ Rust ä¸­çš„ä¸€ä¸ªç‰¹è´¨(trait)ï¼Œç”¨äºå®šä¹‰éƒ¨åˆ†æ’åºå…³ç³»</font></li>
<li><font style="color:rgb(64, 64, 64);">å®ç°äº†</font><font style="color:rgb(64, 64, 64);"> </font><code>PartialOrd</code><font style="color:rgb(64, 64, 64);"> </font><font style="color:rgb(64, 64, 64);">çš„ç±»å‹å¯ä»¥ä½¿ç”¨</font><font style="color:rgb(64, 64, 64);"> </font><code>&lt;</code><font style="color:rgb(64, 64, 64);">,</font><font style="color:rgb(64, 64, 64);"> </font><code>&gt;</code><font style="color:rgb(64, 64, 64);">,</font><font style="color:rgb(64, 64, 64);"> </font><code>&lt;=</code><font style="color:rgb(64, 64, 64);">,</font><font style="color:rgb(64, 64, 64);"> </font><code>&gt;=</code><font style="color:rgb(64, 64, 64);"> </font><font style="color:rgb(64, 64, 64);">ç­‰æ¯”è¾ƒè¿ç®—ç¬¦</font></li>
<li><font style="color:rgb(64, 64, 64);">ä¸</font><font style="color:rgb(64, 64, 64);"> </font><code>Ord</code><font style="color:rgb(64, 64, 64);"> </font><font style="color:rgb(64, 64, 64);">ä¸åŒï¼Œ</font><code>PartialOrd</code><font style="color:rgb(64, 64, 64);"> </font><font style="color:rgb(64, 64, 64);">å…è®¸å­˜åœ¨ä¸å¯æ¯”è¾ƒçš„å€¼ï¼ˆæ¯”å¦‚æµ®ç‚¹æ•°ä¸­çš„ NaNï¼‰</font></li>
<li><font style="color:rgb(64, 64, 64);">åœ¨å‡½æ•°ç­¾åä¸­</font><font style="color:rgb(64, 64, 64);"> </font><code>T: PartialOrd</code><font style="color:rgb(64, 64, 64);"> </font><font style="color:rgb(64, 64, 64);">è¡¨ç¤ºæ³›å‹ç±»å‹ T å¿…é¡»å®ç°è¿™ä¸ª trait</font></li>
</ul>
</li>
<li><code>T:</code><strong><font style="color:rgb(64, 64, 64);"> è¯­æ³•</font></strong><font style="color:rgb(64, 64, 64);">:</font><ul>
<li><font style="color:rgb(64, 64, 64);">è¿™æ˜¯ Rust çš„ trait bound è¯­æ³•</font></li>
<li><code>T: PartialOrd + Copy</code><font style="color:rgb(64, 64, 64);"> </font><font style="color:rgb(64, 64, 64);">è¡¨ç¤ºæ³›å‹ç±»å‹ T å¿…é¡»åŒæ—¶å®ç°</font><font style="color:rgb(64, 64, 64);"> </font><code>PartialOrd</code><font style="color:rgb(64, 64, 64);"> </font><font style="color:rgb(64, 64, 64);">å’Œ</font><font style="color:rgb(64, 64, 64);"> </font><code>Copy</code><font style="color:rgb(64, 64, 64);"> </font><font style="color:rgb(64, 64, 64);">è¿™ä¸¤ä¸ª trait</font></li>
<li><code>Copy</code><font style="color:rgb(64, 64, 64);"> trait è¡¨ç¤ºç±»å‹å¯ä»¥é€šè¿‡ä½å¤åˆ¶æ¥æ‹·è´ï¼ˆè€Œä¸æ˜¯ç§»åŠ¨æ‰€æœ‰æƒï¼‰</font></li>
</ul>
</li>
</ol>
<h4 id="æ³›å‹ç»“æ„ä½“"><a href="#æ³›å‹ç»“æ„ä½“" class="headerlink" title=" æ³›å‹ç»“æ„ä½“ "></a><font style="color:rgb(64, 64, 64);"> æ³›å‹ç»“æ„ä½“ </font></h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Point</span>&lt;T&gt; &#123;</span><br><span class="line">    x: T,</span><br><span class="line">    y: T,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”¨æ³•</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">p1</span> = Point &#123; x: <span class="number">5</span>, y: <span class="number">10</span> &#125;;      <span class="comment">// T = i32</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">p2</span> = Point &#123; x: <span class="number">1.0</span>, y: <span class="number">4.0</span> &#125;;   <span class="comment">// T = f64</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="å¤šæ³›å‹"><a href="#å¤šæ³›å‹" class="headerlink" title="å¤šæ³›å‹"></a>å¤šæ³›å‹</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Point</span>&lt;T, U&gt; &#123;</span><br><span class="line">    x: T,</span><br><span class="line">    y: U,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="variable">p</span> = Point &#123; x: <span class="number">5</span>, y: <span class="number">3.2</span> &#125;; <span class="comment">// T = i32, U = f64</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="æ³›å‹æ–¹æ³•"><a href="#æ³›å‹æ–¹æ³•" class="headerlink" title="æ³›å‹æ–¹æ³•"></a>æ³›å‹æ–¹æ³•</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">impl</span>&lt;T&gt; Point&lt;T&gt; &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">x</span>(&amp;<span class="keyword">self</span>) <span class="punctuation">-&gt;</span> &amp;T &#123;</span><br><span class="line">        &amp;<span class="keyword">self</span>.x</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä½ ä¹Ÿå¯ä»¥ä¸ºæŸäº›å…·ä½“ç±»å‹å•ç‹¬å®ç°æ–¹æ³•ï¼š</span></span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">Point</span>&lt;<span class="type">f64</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">distance_from_origin</span>(&amp;<span class="keyword">self</span>) <span class="punctuation">-&gt;</span> <span class="type">f64</span> &#123;</span><br><span class="line">        (<span class="keyword">self</span>.x.<span class="title function_ invoke__">powi</span>(<span class="number">2</span>) + <span class="keyword">self</span>.y.<span class="title function_ invoke__">powi</span>(<span class="number">2</span>)).<span class="title function_ invoke__">sqrt</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>éƒ¨åˆ†</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>impl&lt;T&gt;</code></td>
<td>ğŸ’¡ å£°æ˜ï¼šæˆ‘ä»¬**ä¸ºæŸä¸ªç±»å‹å‚æ•° **<code>T</code> å®ç°æ–¹æ³•</td>
</tr>
<tr>
<td><code>Point&lt;T&gt;</code></td>
<td>ğŸ’¡ è¡¨ç¤ºæˆ‘ä»¬æ˜¯<strong>ä¸º <strong><code>Point&lt;T&gt;</code></strong> ç±»å‹çš„å®ä¾‹</strong>å®ç°è¿™äº›æ–¹æ³•</td>
</tr>
</tbody></table>
<h4 id="æ³›å‹æšä¸¾"><a href="#æ³›å‹æšä¸¾" class="headerlink" title="æ³›å‹æšä¸¾"></a>æ³›å‹æšä¸¾</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Option</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="title function_ invoke__">Some</span>(T),</span><br><span class="line">    <span class="literal">None</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Result</span>&lt;T, E&gt; &#123;</span><br><span class="line">    <span class="title function_ invoke__">Ok</span>(T),</span><br><span class="line">    <span class="title function_ invoke__">Err</span>(E),</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="Trait-Boundï¼ˆçº¦æŸæ³›å‹ï¼‰"><a href="#Trait-Boundï¼ˆçº¦æŸæ³›å‹ï¼‰" class="headerlink" title="Trait Boundï¼ˆçº¦æŸæ³›å‹ï¼‰"></a>Trait Boundï¼ˆçº¦æŸæ³›å‹ï¼‰</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">print</span>&lt;T: std::fmt::Display&gt;(item: T) &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, item);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ where æ¥è®©ä»£ç æ›´æ¸…æ™°ï¼š</span></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">print</span>&lt;T, U&gt;(t: T, u: U)</span><br><span class="line"><span class="keyword">where</span></span><br><span class="line">    T: std::fmt::Display,</span><br><span class="line">    U: std::fmt::<span class="built_in">Debug</span>,</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125; &#123;:?&#125;&quot;</span>, t, u);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="ç»“æ„ä½“æ–¹æ³•"><a href="#ç»“æ„ä½“æ–¹æ³•" class="headerlink" title="ç»“æ„ä½“æ–¹æ³•"></a>ç»“æ„ä½“æ–¹æ³•</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">p1</span> = Point &#123; x: <span class="number">1</span>, y: <span class="number">2</span> &#125;;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">p2</span> = Point &#123; x: <span class="number">1.1</span>, y: <span class="number">2.2</span> &#125;;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">p3</span> = p1.<span class="title function_ invoke__">mixup</span>(p2);</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;-&#123;&#125;&quot;</span>, p3.x, p3.y);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Point</span>&lt;T, U&gt; &#123;</span><br><span class="line">    x: T,</span><br><span class="line">    y: U,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">impl</span>&lt;T, U&gt; Point&lt;T, U&gt; &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">mixup</span>&lt;T1, U1&gt;(<span class="keyword">self</span>, other: Point&lt;T1, U1&gt;) <span class="punctuation">-&gt;</span> Point&lt;T, U1&gt; &#123;</span><br><span class="line">        Point &#123;</span><br><span class="line">            x: <span class="keyword">self</span>.x,</span><br><span class="line">            y: other.y,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="æ˜¾å¼åœ°æŒ‡å®šæ³›å‹çš„ç±»å‹å‚æ•°"><a href="#æ˜¾å¼åœ°æŒ‡å®šæ³›å‹çš„ç±»å‹å‚æ•°" class="headerlink" title="æ˜¾å¼åœ°æŒ‡å®šæ³›å‹çš„ç±»å‹å‚æ•°"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/trait/generic.html#%E6%98%BE%E5%BC%8F%E5%9C%B0%E6%8C%87%E5%AE%9A%E6%B3%9B%E5%9E%8B%E7%9A%84%E7%B1%BB%E5%9E%8B%E5%8F%82%E6%95%B0"><font style="color:rgb(0, 0, 0);">æ˜¾å¼åœ°æŒ‡å®šæ³›å‹çš„ç±»å‹å‚æ•°</font></a></h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> std::fmt::Display;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">create_and_print</span>&lt;T&gt;() <span class="keyword">where</span> T: <span class="built_in">From</span>&lt;<span class="type">i32</span>&gt; + Display &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">a</span>: T = <span class="number">100</span>.<span class="title function_ invoke__">into</span>(); <span class="comment">// åˆ›å»ºäº†ç±»å‹ä¸º T çš„å˜é‡ aï¼Œå®ƒçš„åˆå§‹å€¼ç”± 100 è½¬æ¢è€Œæ¥</span></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;a is: &#123;&#125;&quot;</span>, a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="title function_ invoke__">create_and_print</span>(); <span class="comment">// ä¼šæŠ¥é”™:consider specifying the generic argument</span></span><br><span class="line">                       <span class="comment">//éœ€è¦æŒ‡å®šæ³›å‹:create_and_print::&lt;T&gt;();</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="const-æ³›å‹"><a href="#const-æ³›å‹" class="headerlink" title="const æ³›å‹"></a>const æ³›å‹</h4><p><strong>æŠŠå¸¸é‡å€¼ä¹Ÿå½“ä½œâ€œæ³›å‹å‚æ•°â€æ¥ä¼ è¿›å»</strong>ï¼Œå°±åƒä½ ä¼ ç±»å‹å‚æ•° <code>&lt;T&gt;</code> ä¸€æ ·ï¼Œä½ å¯ä»¥ä¼ å¸¸é‡å‚æ•° <code>&lt;const N: usize&gt;</code>ã€‚</p>
<h5 id="å¸¸è§ç”¨é€”åœºæ™¯ï¼šå®šé•¿æ•°ç»„"><a href="#å¸¸è§ç”¨é€”åœºæ™¯ï¼šå®šé•¿æ•°ç»„" class="headerlink" title="å¸¸è§ç”¨é€”åœºæ™¯ï¼šå®šé•¿æ•°ç»„"></a>å¸¸è§ç”¨é€”åœºæ™¯ï¼šå®šé•¿æ•°ç»„</h5><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">FixedArray</span>&lt;T, <span class="keyword">const</span> N: <span class="type">usize</span>&gt; &#123;</span><br><span class="line">    data: [T; N],</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å¯ä»¥ç”¨å®ƒå®šä¹‰ä¸åŒé•¿åº¦çš„æ•°ç»„å®¹å™¨ï¼š</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">a</span> = FixedArray::&lt;<span class="type">i32</span>, <span class="number">4</span>&gt; &#123; data: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>] &#125;;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">b</span> = FixedArray::&lt;<span class="type">u8</span>, <span class="number">2</span>&gt;  &#123; data: [<span class="number">10</span>, <span class="number">20</span>] &#125;;</span><br></pre></td></tr></table></figure>

<p><strong>N æ˜¯ä¸€ä¸ªç¼–è¯‘æ—¶å¸¸é‡</strong>ï¼Œå¯ä»¥æ˜¯æ•°ç»„é•¿åº¦ã€ç»´åº¦ã€å›ºå®šç¼–å·ç­‰ã€‚</p>
<table>
<thead>
<tr>
<th>è¯­æ³•</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td><code>&lt;const N: usize&gt;</code></td>
<td>N æ˜¯ä¸€ä¸ªå¸¸é‡å‚æ•°</td>
</tr>
<tr>
<td><code>[T; N]</code></td>
<td>ä½¿ç”¨ const æ³›å‹åšæ•°ç»„é•¿åº¦</td>
</tr>
<tr>
<td>å¯ç”¨äº structã€enumã€function</td>
<td>éƒ½å¯ä»¥å¸¦ const æ³›å‹å‚æ•°</td>
</tr>
</tbody></table>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/06/30/%E6%B3%9B%E5%9E%8B/" data-id="cmconx2qn000oicqwdvmg2evu" data-title="æ³›å‹" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Rust/" rel="tag">Rust</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-æ–¹æ³•" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/06/29/%E6%96%B9%E6%B3%95/" class="article-date">
  <time class="dt-published" datetime="2025-06-29T08:11:03.000Z" itemprop="datePublished">2025-06-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/06/29/%E6%96%B9%E6%B3%95/">æ–¹æ³•</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <table>
<thead>
<tr>
<th>ç±»å‹</th>
<th>å®šä¹‰æ–¹å¼</th>
<th>æ˜¯å¦éœ€è¦å®ä¾‹ï¼ˆselfï¼‰</th>
<th>è°ƒç”¨æ–¹å¼</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>æ™®é€šå‡½æ•°</td>
<td><code>fn xxx(...)</code></td>
<td>âŒ ä¸ç”¨ <code>self</code></td>
<td><code>xxx(...)</code></td>
<td>å…¨å±€æˆ–æ¨¡å—å‡½æ•°</td>
</tr>
<tr>
<td>æ–¹æ³•ï¼ˆæ–¹æ³•å‡½æ•°ï¼‰</td>
<td><code>fn xxx(&amp;self)</code></td>
<td>âœ… éœ€è¦å®ä¾‹ï¼ˆselfï¼‰</td>
<td><code>å®ä¾‹.xxx()</code></td>
<td>æ“ä½œæŸä¸ªå®ä¾‹çš„è¡Œä¸ºï¼ˆé¢å‘å¯¹è±¡ï¼‰</td>
</tr>
<tr>
<td>å…³è”å‡½æ•°</td>
<td><code>fn xxx(...)</code>ï¼ˆä½†åœ¨ impl å—ä¸­ï¼‰</td>
<td>âŒ ä¸éœ€è¦ <code>self</code></td>
<td><code>ç±»å‹å::xxx(...)</code></td>
<td>å±äºç±»å‹ï¼Œä½†ä¸éœ€è¦å¯¹è±¡</td>
</tr>
</tbody></table>
<h3 id="æ™®é€šå‡½æ•°ï¼ˆfunctionï¼‰"><a href="#æ™®é€šå‡½æ•°ï¼ˆfunctionï¼‰" class="headerlink" title="æ™®é€šå‡½æ•°ï¼ˆfunctionï¼‰"></a>æ™®é€šå‡½æ•°ï¼ˆfunctionï¼‰</h3><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">printPet</span>(name: Pets) &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;Pet is &#123;:?&#125;&quot;</span>, name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ˜¯å…¨å±€å‡½æ•°</li>
<li>è·Ÿç±»å‹ <code>Pets</code> æ²¡å…³ç³»</li>
<li>è°ƒç”¨æ—¶ç›´æ¥ç”¨ <code>printPet(...)</code></li>
</ul>
<h3 id="æ–¹æ³•ï¼ˆmethodï¼‰"><a href="#æ–¹æ³•ï¼ˆmethodï¼‰" class="headerlink" title="æ–¹æ³•ï¼ˆmethodï¼‰"></a>æ–¹æ³•ï¼ˆmethodï¼‰</h3><p>å®šä¹‰åœ¨ <code>impl</code> å—ä¸­ï¼Œå¹¶ä¸”æœ‰ <code>&amp;self</code>ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    name: <span class="type">String</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">say_hi</span>(&amp;<span class="keyword">self</span>) &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;Hi, æˆ‘æ˜¯ &#123;&#125;&quot;</span>, <span class="keyword">self</span>.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">p</span> = Person &#123;</span><br><span class="line">        name: <span class="string">&quot;å°æ˜&quot;</span>.<span class="title function_ invoke__">to_string</span>(),</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    p.<span class="title function_ invoke__">say_hi</span>(); <span class="comment">// â¬…ï¸ è°ƒç”¨æ–¹æ³•æ—¶ï¼Œè‡ªåŠ¨æŠŠ p ä½œä¸º &amp;self ä¼ è¿›å»</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>&amp;self</code> è¡¨ç¤ºè¿™ä¸ªæ–¹æ³•ä½œç”¨åœ¨æŸä¸ªå…·ä½“çš„å®ä¾‹ä¸Š</li>
</ul>
<p>è¿™è¡Œ</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">p.<span class="title function_ invoke__">say_hi</span>();</span><br></pre></td></tr></table></figure>

<p>ç­‰ä»·äºä¸‹é¢è¿™è¡Œ <strong>çœŸå®çš„ä¼ å‚æ–¹å¼</strong>ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Person::<span class="title function_ invoke__">say_hi</span>(&amp;p);</span><br></pre></td></tr></table></figure>

<p>&amp;self å…¶å®å°±æ˜¯ &amp;p</p>
<h3 id="å…³è”å‡½æ•°ï¼ˆassociated-functionï¼‰"><a href="#å…³è”å‡½æ•°ï¼ˆassociated-functionï¼‰" class="headerlink" title="å…³è”å‡½æ•°ï¼ˆassociated functionï¼‰"></a>å…³è”å‡½æ•°ï¼ˆassociated functionï¼‰</h3><p> å®šä¹‰åœ¨ <code>impl</code> å—ä¸­ï¼Œä½†æ²¡æœ‰ <code>self</code> å‚æ•°ï¼š  </p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Circle</span> &#123;</span><br><span class="line">    radius: <span class="type">f64</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">Circle</span> &#123;</span><br><span class="line">    <span class="comment">// å…³è”å‡½æ•°ï¼ˆæ„é€ å™¨ï¼‰</span></span><br><span class="line">    <span class="comment">// newæ˜¯Circleçš„å…³è”å‡½æ•°ï¼Œå› ä¸ºå®ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸æ˜¯selfï¼Œä¸”newå¹¶ä¸æ˜¯å…³é”®å­—</span></span><br><span class="line">    <span class="comment">// è¿™ç§æ–¹æ³•å¾€å¾€ç”¨äºåˆå§‹åŒ–å½“å‰ç»“æ„ä½“çš„å®ä¾‹</span></span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">new</span>(radius: <span class="type">f64</span>) <span class="punctuation">-&gt;</span> <span class="keyword">Self</span> &#123;</span><br><span class="line">        <span class="keyword">Self</span> &#123; radius &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ–¹æ³•ï¼ˆéœ€è¦å®ä¾‹ï¼‰</span></span><br><span class="line">    <span class="comment">// Circleçš„æ–¹æ³•ï¼Œ&amp;selfè¡¨ç¤ºå€Ÿç”¨å½“å‰çš„Circleç»“æ„ä½“</span></span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">area</span>(&amp;<span class="keyword">self</span>) <span class="punctuation">-&gt;</span> <span class="type">f64</span> &#123;</span><br><span class="line">        <span class="number">3.14</span> * <span class="keyword">self</span>.radius * <span class="keyword">self</span>.radius</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">c</span> = Circle::<span class="title function_ invoke__">new</span>(<span class="number">2.0</span>);   <span class="comment">// è°ƒç”¨å…³è”å‡½æ•°</span></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;é¢ç§¯æ˜¯ &#123;&#125;&quot;</span>, c.<span class="title function_ invoke__">area</span>()); <span class="comment">// è°ƒç”¨æ–¹æ³•</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>æ²¡æœ‰ <code>self</code>ï¼Œä»£è¡¨è¿™ä¸ªå‡½æ•°<strong>å’Œå®ä¾‹æ²¡å…³ç³»</strong></li>
<li>è°ƒç”¨æ–¹å¼æ˜¯é€šè¿‡ç±»å‹åï¼š<code>Pets::print(&amp;dog)</code></li>
</ul>
<p>å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆ Java&#x2F;C++&#x2F;Python ä¸­çš„ â€œé™æ€æ–¹æ³•â€ã€‚</p>
<h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><ol>
<li>æ™®é€šå‡½æ•°ä¸è¿› implï¼Œå“ªé‡Œéƒ½èƒ½è°ƒï¼›</li>
<li>æ–¹æ³•å¿…é¡»æœ‰ selfï¼Œç”¨å¯¹è±¡æ¥è°ƒï¼›</li>
<li>å…³è”å‡½æ•°æ—  selfï¼Œç”¨ç±»å‹æ¥æ‰¾ã€‚</li>
<li><code>impl å—</code> ä¸­çš„åç§°ï¼Œå¿…é¡»æ˜¯ä½ è¦ç»™å®ƒå®ç°æ–¹æ³•çš„ç±»å‹åã€‚å¦‚æœä½ æƒ³ç»™ <code>Person</code> ç±»å‹æ·»åŠ æ–¹æ³•ï¼Œé‚£ <code>impl</code> åé¢å°±å¿…é¡»å†™ <code>Person</code>ã€‚</li>
</ol>
<h3 id="selfã€-self-å’Œ-mut-self"><a href="#selfã€-self-å’Œ-mut-self" class="headerlink" title="selfã€&amp;self å’Œ &amp;mut self"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/method.html#selfself-%E5%92%8C-mut-self"><font style="color:rgb(0, 0, 0);">selfã€&amp;self å’Œ &amp;mut self</font></a></h3><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#[derive(Debug)]</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Rectangle</span> &#123;</span><br><span class="line">    width: <span class="type">u32</span>,</span><br><span class="line">    height: <span class="type">u32</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">Rectangle</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">area</span>(&amp;<span class="keyword">self</span>) <span class="punctuation">-&gt;</span> <span class="type">u32</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.width * <span class="keyword">self</span>.height</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">rect1</span> = Rectangle &#123; width: <span class="number">30</span>, height: <span class="number">50</span> &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">println!</span>(</span><br><span class="line">        <span class="string">&quot;The area of the rectangle is &#123;&#125; square pixels.&quot;</span>,</span><br><span class="line">        rect1.<span class="title function_ invoke__">area</span>()</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>self</code><font style="color:rgb(0, 0, 0);"> è¡¨ç¤º </font><code>Rectangle</code><font style="color:rgb(0, 0, 0);"> çš„æ‰€æœ‰æƒè½¬ç§»åˆ°è¯¥æ–¹æ³•ä¸­ï¼Œè¿™ç§å½¢å¼ç”¨çš„è¾ƒå°‘</font></li>
<li><code>&lt;&amp;self</code><font style="color:rgb(0, 0, 0);"> </font><font style="color:rgb(0, 0, 0);">è¡¨ç¤ºè¯¥æ–¹æ³•å¯¹</font><font style="color:rgb(0, 0, 0);"> </font><code>Rectangle</code><font style="color:rgb(0, 0, 0);"> </font><font style="color:rgb(0, 0, 0);">çš„ä¸å¯å˜å€Ÿç”¨</font></li>
<li><code>&amp;mut self</code><font style="color:rgb(0, 0, 0);"> è¡¨ç¤ºå¯å˜å€Ÿç”¨</font></li>
<li><code>Self</code><font style="color:rgb(0, 0, 0);"> æŒ‡ä»£è¢«å®ç°æ–¹æ³•çš„ç»“æ„ä½“ç±»å‹</font></li>
</ul>
<h3 id="æ–¹æ³•åè·Ÿç»“æ„ä½“å­—æ®µåç›¸åŒ"><a href="#æ–¹æ³•åè·Ÿç»“æ„ä½“å­—æ®µåç›¸åŒ" class="headerlink" title="æ–¹æ³•åè·Ÿç»“æ„ä½“å­—æ®µåç›¸åŒ"></a>æ–¹æ³•åè·Ÿç»“æ„ä½“å­—æ®µåç›¸åŒ</h3><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">impl</span> <span class="title class_">Rectangle</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">width</span>(&amp;<span class="keyword">self</span>) <span class="punctuation">-&gt;</span> <span class="type">bool</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.width &gt; <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">new</span>(width:<span class="type">u32</span>,height:<span class="type">u32</span>)<span class="punctuation">-&gt;</span><span class="keyword">Self</span>&#123;</span><br><span class="line">        Rectangle&#123;width,height&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">rect1</span> = Rectangle &#123;</span><br><span class="line">        width: <span class="number">30</span>,</span><br><span class="line">        height: <span class="number">50</span>,</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> rect1.<span class="title function_ invoke__">width</span>() &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;The rectangle has a nonzero width; it is &#123;&#125;&quot;</span>, rect1.width);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><font style="color:rgb(0, 0, 0);">ä½¿ç”¨ </font><code>rect1.width()</code><font style="color:rgb(0, 0, 0);"> æ—¶ï¼ŒRust çŸ¥é“æˆ‘ä»¬è°ƒç”¨çš„æ˜¯å®ƒçš„æ–¹æ³•ï¼Œå¦‚æœä½¿ç”¨ </font><code>rect1.width</code><font style="color:rgb(0, 0, 0);">ï¼Œåˆ™æ˜¯è®¿é—®å®ƒçš„å­—æ®µ</font></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/06/29/%E6%96%B9%E6%B3%95/" data-id="cmconx2ql000iicqw1hjg0r3s" data-title="æ–¹æ³•" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Rust/" rel="tag">Rust</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-æ¨¡å¼åŒ¹é…" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/06/28/%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D/" class="article-date">
  <time class="dt-published" datetime="2025-06-28T08:13:24.000Z" itemprop="datePublished">2025-06-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/06/28/%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D/">æ¨¡å¼åŒ¹é…</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="match"><a href="#match" class="headerlink" title="match"></a>match</h3><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">direction</span> = Direction::Down;</span><br><span class="line">    <span class="keyword">match</span>  direction &#123;</span><br><span class="line">        Direction::Up =&gt; <span class="built_in">println!</span>(<span class="string">&quot;Up&quot;</span>),</span><br><span class="line">        _=&gt;<span class="built_in">println!</span>(<span class="string">&quot;other&quot;</span>),</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Direction</span> &#123;</span><br><span class="line">    Up,</span><br><span class="line">    Down,</span><br><span class="line">    Left,</span><br><span class="line">    Right,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>match</code><font style="color:rgb(0, 0, 0);"> çš„åŒ¹é…å¿…é¡»è¦ç©·ä¸¾å‡ºæ‰€æœ‰å¯èƒ½ï¼Œå› æ­¤è¿™é‡Œç”¨ </font><code>_</code><font style="color:rgb(0, 0, 0);"> æ¥ä»£è¡¨æœªåˆ—å‡ºçš„æ‰€æœ‰å¯èƒ½æ€§</font></li>
<li><code>match</code><font style="color:rgb(0, 0, 0);"> </font><font style="color:rgb(0, 0, 0);">çš„æ¯ä¸€ä¸ªåˆ†æ”¯éƒ½å¿…é¡»æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œä¸”æ‰€æœ‰åˆ†æ”¯çš„è¡¨è¾¾å¼æœ€ç»ˆè¿”å›å€¼çš„ç±»å‹å¿…é¡»ç›¸åŒ</font></li>
<li><strong><font style="color:rgb(0, 0, 0);">X | Y</font></strong><font style="color:rgb(0, 0, 0);">ï¼Œç±»ä¼¼é€»è¾‘è¿ç®—ç¬¦ </font><code>æˆ–</code><font style="color:rgb(0, 0, 0);">ï¼Œä»£è¡¨è¯¥åˆ†æ”¯å¯ä»¥åŒ¹é… </font><code>X</code><font style="color:rgb(0, 0, 0);"> ä¹Ÿå¯ä»¥åŒ¹é… </font><code>Y</code><font style="color:rgb(0, 0, 0);">ï¼Œåªè¦æ»¡è¶³ä¸€ä¸ªå³å¯</font></li>
</ul>
<h4 id="matchåŒ¹é…"><a href="#matchåŒ¹é…" class="headerlink" title="matchåŒ¹é…"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/match-pattern/match-if-let.html#match-%E5%8C%B9%E9%85%8D"><font style="color:rgb(0, 0, 0);">matchåŒ¹é…</font></a></h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">match</span> target &#123;</span><br><span class="line">    æ¨¡å¼<span class="number">1</span> =&gt; è¡¨è¾¾å¼<span class="number">1</span>,</span><br><span class="line">    æ¨¡å¼<span class="number">2</span> =&gt; &#123;</span><br><span class="line">        è¯­å¥<span class="number">1</span>;</span><br><span class="line">        è¯­å¥<span class="number">2</span>;</span><br><span class="line">        è¡¨è¾¾å¼<span class="number">2</span></span><br><span class="line">    &#125;,</span><br><span class="line">    _ =&gt; è¡¨è¾¾å¼<span class="number">3</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¨¡å¼2ä¸¾ä¾‹</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">num</span> = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">result</span> = <span class="keyword">match</span> num &#123;</span><br><span class="line">        <span class="number">1</span> =&gt; <span class="string">&quot;one&quot;</span>,</span><br><span class="line">        <span class="number">2</span> =&gt; &#123;</span><br><span class="line">            <span class="built_in">println!</span>(<span class="string">&quot;åŒ¹é…åˆ°æ•°å­— 2&quot;</span>);</span><br><span class="line">            <span class="keyword">let</span> <span class="variable">msg</span> = <span class="string">&quot;two&quot;</span>;</span><br><span class="line">            msg  <span class="comment">// è¿”å›å€¼æ˜¯ &quot;two&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        _ =&gt; <span class="string">&quot;other&quot;</span>,</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;result = &#123;&#125;&quot;</span>, result); <span class="comment">// è¾“å‡ºï¼šresult = two</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ä½¿ç”¨matchè¡¨è¾¾å¼èµ‹å€¼"><a href="#ä½¿ç”¨matchè¡¨è¾¾å¼èµ‹å€¼" class="headerlink" title="ä½¿ç”¨matchè¡¨è¾¾å¼èµ‹å€¼"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/match-pattern/match-if-let.html#%E4%BD%BF%E7%94%A8-match-%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%B5%8B%E5%80%BC"><font style="color:rgb(0, 0, 0);">ä½¿ç”¨matchè¡¨è¾¾å¼èµ‹å€¼</font></a></h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">IpAddr</span> &#123;</span><br><span class="line">   Ipv4,</span><br><span class="line">   Ipv6</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">ip1</span> = IpAddr::Ipv6;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">ip_str</span> = <span class="keyword">match</span> ip1 &#123;</span><br><span class="line">        IpAddr::Ipv4 =&gt; <span class="string">&quot;127.0.0.1&quot;</span>,</span><br><span class="line">        _ =&gt; <span class="string">&quot;::1&quot;</span>,</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, ip_str);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><font style="color:rgb(0, 0, 0);">åŒ¹é…åˆ° </font><code>_</code><font style="color:rgb(0, 0, 0);"> åˆ†æ”¯ï¼Œæ‰€ä»¥å°† </font><code>&quot;::1&quot;</code><font style="color:rgb(0, 0, 0);"> èµ‹å€¼ç»™äº† </font><code>ip_str</code></p>
<h4 id="æ¨¡å¼ç»‘å®š"><a href="#æ¨¡å¼ç»‘å®š" class="headerlink" title="æ¨¡å¼ç»‘å®š"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/match-pattern/match-if-let.html#%E6%A8%A1%E5%BC%8F%E7%BB%91%E5%AE%9A"><font style="color:rgb(0, 0, 0);">æ¨¡å¼ç»‘å®š</font></a></h4><p><font style="color:rgb(0, 0, 0);">æ¨¡å¼åŒ¹é…çš„å¦å¤–ä¸€ä¸ªé‡è¦åŠŸèƒ½æ˜¯ä»æ¨¡å¼ä¸­å–å‡ºç»‘å®šçš„å€¼</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">   <span class="keyword">let</span> <span class="variable">coin</span> =  Coin::<span class="title function_ invoke__">Quarter</span>(UsState::Alabama);</span><br><span class="line">   <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>,<span class="title function_ invoke__">value</span>(coin))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">value</span>(coin:Coin)<span class="punctuation">-&gt;</span><span class="type">u8</span>&#123;</span><br><span class="line">    <span class="keyword">match</span> coin &#123;</span><br><span class="line">        Coin::<span class="title function_ invoke__">Quarter</span>(state)=&gt;&#123;</span><br><span class="line">            <span class="built_in">println!</span>(<span class="string">&quot;&#123;:?&#125;&quot;</span>,state);</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;,</span><br><span class="line">        _=&gt;&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#[derive(Debug)]</span></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">UsState</span> &#123;</span><br><span class="line">    Alabama,</span><br><span class="line">    Alaska,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Coin</span> &#123;</span><br><span class="line">    Penny,</span><br><span class="line">    Nickel,</span><br><span class="line">    Dime,</span><br><span class="line">    <span class="title function_ invoke__">Quarter</span>(UsState),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="é€šé…ç¬¦"><a href="#é€šé…ç¬¦" class="headerlink" title="_é€šé…ç¬¦"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/match-pattern/match-if-let.html#_-%E9%80%9A%E9%85%8D%E7%AC%A6"><font style="color:rgb(0, 0, 0);">_é€šé…ç¬¦</font></a></h4><p>åœ¨ Rust ä¸­ï¼Œ<code>_</code> è¢«ç§°ä¸º<strong>é€šé…ç¬¦æ¨¡å¼</strong>ï¼Œå®ƒçš„ä½œç”¨æ˜¯ï¼š</p>
<p>âœ… <strong>åŒ¹é…ä»»æ„å€¼ï¼Œä½†</strong><br>âŒ <strong>ä¸ä¼šç»‘å®šå˜é‡ï¼Œä¹Ÿä¸ä¼šä½¿ç”¨è¿™ä¸ªå€¼ã€‚</strong></p>
<table>
<thead>
<tr>
<th><strong>ç”¨æ³•åœºæ™¯</strong></th>
<th><strong>ä½œç”¨</strong></th>
</tr>
</thead>
<tbody><tr>
<td><code>match</code> çš„é»˜è®¤åˆ†æ”¯</td>
<td><strong>åŒ¹é…æ‰€æœ‰å‰©ä¸‹çš„æƒ…å†µ</strong></td>
</tr>
<tr>
<td><strong>è§£æ„æ—¶å¿½ç•¥æŸäº›å­—æ®µ</strong></td>
<td><strong>åªå–ä½ å…³å¿ƒçš„å€¼ï¼Œå¿½ç•¥å…¶ä»–</strong></td>
</tr>
<tr>
<td><strong>æŠ‘åˆ¶ unused å˜é‡è­¦å‘Š</strong></td>
<td><strong>ä½ å£°æ˜äº†å˜é‡ä½†æš‚æ—¶ä¸ç”¨</strong></td>
</tr>
</tbody></table>
<h4 id="æ¨¡å¼å®ˆå«"><a href="#æ¨¡å¼å®ˆå«" class="headerlink" title="æ¨¡å¼å®ˆå«"></a>æ¨¡å¼å®ˆå«</h4><p><strong>æ¨¡å¼å®ˆå«</strong>æ˜¯å†™åœ¨ <code>match</code> åˆ†æ”¯åé¢çš„é¢å¤–æ¡ä»¶ï¼Œç”¨ <code>if</code> å¼•å…¥ï¼Œèµ·åˆ°â€œè¿‡æ»¤å™¨â€çš„ä½œç”¨ã€‚</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">x</span> = <span class="title function_ invoke__">Some</span>(<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">match</span> x &#123;</span><br><span class="line">    <span class="title function_ invoke__">Some</span>(i) <span class="keyword">if</span> i &gt; <span class="number">3</span> =&gt; <span class="built_in">println!</span>(<span class="string">&quot;Big number: &#123;&#125;&quot;</span>, i),</span><br><span class="line">    <span class="title function_ invoke__">Some</span>(i) =&gt; <span class="built_in">println!</span>(<span class="string">&quot;Small number: &#123;&#125;&quot;</span>, i),</span><br><span class="line">    <span class="literal">None</span> =&gt; <span class="built_in">println!</span>(<span class="string">&quot;Got nothing&quot;</span>),</span><br><span class="line">&#125;	</span><br></pre></td></tr></table></figure>

<ul>
<li><code>if i &gt; 3</code> å°±æ˜¯ä¸€ä¸ª <strong>æ¨¡å¼å®ˆå«</strong></li>
<li>å®ƒåªæœ‰åœ¨æ¨¡å¼ <code>Some(i)</code> åŒ¹é…æˆåŠŸåï¼Œ<strong>å†åˆ¤æ–­ <strong><code>**i &gt; 3**</code></strong> æ˜¯å¦ä¸º true</strong></li>
</ul>
<h4 id="æ¨¡å¼å®ˆå«è¿­ä»£å™¨"><a href="#æ¨¡å¼å®ˆå«è¿­ä»£å™¨" class="headerlink" title="æ¨¡å¼å®ˆå«è¿­ä»£å™¨"></a>æ¨¡å¼å®ˆå«è¿­ä»£å™¨</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">a</span> = <span class="built_in">vec!</span>[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">b</span> = <span class="built_in">vec!</span>[<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>];</span><br><span class="line">    <span class="keyword">for</span> (a, b) <span class="keyword">in</span> a.<span class="title function_ invoke__">iter</span>().<span class="title function_ invoke__">zip</span>(b.<span class="title function_ invoke__">iter</span>()) &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125; &#123;&#125;-&gt;&#123;&#125;&quot;</span>, a, b, a + b);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">æ‰“å°ç»“æœ</span><br><span class="line"><span class="number">1</span> <span class="number">4</span><span class="punctuation">-&gt;</span><span class="number">5</span></span><br><span class="line"><span class="number">2</span> <span class="number">5</span><span class="punctuation">-&gt;</span><span class="number">7</span></span><br><span class="line"><span class="number">3</span> <span class="number">6</span><span class="punctuation">-&gt;</span><span class="number">9</span></span><br></pre></td></tr></table></figure>

<h3 id="if-letåŒ¹é…"><a href="#if-letåŒ¹é…" class="headerlink" title="if letåŒ¹é…"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/match-pattern/match-if-let.html#if-let-%E5%8C%B9%E9%85%8D"><font style="color:rgb(0, 0, 0);">if letåŒ¹é…</font></a></h3><p><font style="color:rgb(0, 0, 0);">æœ‰æ—¶ä¼šé‡åˆ°åªæœ‰ä¸€ä¸ªæ¨¡å¼çš„å€¼éœ€è¦è¢«å¤„ç†ï¼Œå…¶å®ƒå€¼ç›´æ¥å¿½ç•¥çš„åœºæ™¯ï¼Œå¦‚æœç”¨ </font><code>match</code><font style="color:rgb(0, 0, 0);"> æ¥å¤„ç†å°±è¦å†™æˆä¸‹é¢è¿™æ ·ï¼š</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">v</span> = <span class="title function_ invoke__">Some</span>(<span class="number">3u8</span>);</span><br><span class="line"><span class="keyword">match</span> v &#123;</span><br><span class="line">    <span class="title function_ invoke__">Some</span>(<span class="number">3</span>) =&gt; <span class="built_in">println!</span>(<span class="string">&quot;three&quot;</span>),</span><br><span class="line">    _ =&gt; (),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥ä½¿ç”¨if letåŒ¹é…</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> <span class="variable">Some</span>(<span class="number">3</span>) = v &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;three&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><font style="color:rgb(0, 0, 0);">å½“ä½ åªè¦åŒ¹é…ä¸€ä¸ªæ¡ä»¶ï¼Œä¸”å¿½ç•¥å…¶ä»–æ¡ä»¶æ—¶å°±ç”¨ </font></strong><code>if let</code><strong><font style="color:rgb(0, 0, 0);"> ï¼Œå¦åˆ™éƒ½ç”¨ </font></strong><code>match</code><font style="color:rgb(0, 0, 0);">ã€‚</font></p>
<h3 id="matches-å®"><a href="#matches-å®" class="headerlink" title="matches!å®"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/match-pattern/match-if-let.html#matches%E5%AE%8F"><font style="color:rgb(0, 0, 0);">matches!å®</font></a></h3><p><font style="color:rgb(0, 0, 0);">å®ƒå¯ä»¥å°†ä¸€ä¸ªè¡¨è¾¾å¼è·Ÿæ¨¡å¼è¿›è¡ŒåŒ¹é…ï¼Œç„¶åè¿”å›åŒ¹é…çš„ç»“æœ </font><code>true</code><font style="color:rgb(0, 0, 0);"> or </font><code>false</code><font style="color:rgb(0, 0, 0);">ã€‚</font></p>
<h4 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a><font style="color:rgb(0, 0, 0);">è¯­æ³•</font></h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">matches!(å€¼, æ¨¡å¼)</span><br></pre></td></tr></table></figure>

<ul>
<li><code>match</code>: å¤šç§åˆ†æ”¯é€»è¾‘å¤„ç†</li>
<li><code>matches!</code>: åˆ¤æ–­æ˜¯å¦ç¬¦åˆæŸç§æ¨¡å¼ï¼Œç»“æœæ˜¯å¸ƒå°”å€¼</li>
</ul>
<h4 id="åŒ¹é…æŸä¸ªæšä¸¾å˜ä½“"><a href="#åŒ¹é…æŸä¸ªæšä¸¾å˜ä½“" class="headerlink" title="åŒ¹é…æŸä¸ªæšä¸¾å˜ä½“"></a>åŒ¹é…æŸä¸ªæšä¸¾å˜ä½“</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">MyEnum</span> &#123;</span><br><span class="line">    A,</span><br><span class="line">    B,</span><br><span class="line">    <span class="title function_ invoke__">C</span>(<span class="type">i32</span>),</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="variable">val</span> = MyEnum::<span class="title function_ invoke__">C</span>(<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> matches!(val, MyEnum::<span class="title function_ invoke__">C</span>(_)) &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;æ˜¯ C å˜ä½“ï¼&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç»“åˆ-if-ä½¿ç”¨"><a href="#ç»“åˆ-if-ä½¿ç”¨" class="headerlink" title="ç»“åˆ if ä½¿ç”¨"></a>ç»“åˆ <code>if</code> ä½¿ç”¨</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">x</span>: <span class="type">Option</span>&lt;<span class="type">i32</span>&gt; = <span class="title function_ invoke__">Some</span>(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> matches!(x, <span class="title function_ invoke__">Some</span>(_)) &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;æœ‰å€¼ï¼&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="ç”¨ä½œå¸ƒå°”è¡¨è¾¾å¼"><a href="#ç”¨ä½œå¸ƒå°”è¡¨è¾¾å¼" class="headerlink" title="ç”¨ä½œå¸ƒå°”è¡¨è¾¾å¼"></a>ç”¨ä½œå¸ƒå°”è¡¨è¾¾å¼</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">x</span> = <span class="title function_ invoke__">Some</span>(<span class="number">3</span>);</span><br><span class="line"><span class="keyword">let</span> <span class="variable">is_none</span> = matches!(x, <span class="literal">None</span>);  <span class="comment">// false</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="å¸¦æ¡ä»¶åŒ¹é…ï¼ˆå®ˆå«ï¼‰"><a href="#å¸¦æ¡ä»¶åŒ¹é…ï¼ˆå®ˆå«ï¼‰" class="headerlink" title="å¸¦æ¡ä»¶åŒ¹é…ï¼ˆå®ˆå«ï¼‰"></a>å¸¦æ¡ä»¶åŒ¹é…ï¼ˆå®ˆå«ï¼‰</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">x</span> = <span class="title function_ invoke__">Some</span>(<span class="number">4</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> matches!(x, <span class="title function_ invoke__">Some</span>(v) <span class="keyword">if</span> v &gt; <span class="number">3</span>) &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;åŒ¹é…åˆ°å¤§äº 3 çš„ Some&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><table>
<thead>
<tr>
<th>ç‰¹æ€§</th>
<th><code>match</code> è¯­å¥</th>
<th><code>matches!</code> å®</th>
</tr>
</thead>
<tbody><tr>
<td>è¿”å›ç±»å‹</td>
<td>ä»»æ„ç±»å‹ï¼ˆè¡¨è¾¾å¼ï¼‰</td>
<td><code>bool</code>ï¼ˆtrue &#x2F; falseï¼‰</td>
</tr>
<tr>
<td>ç”¨äº</td>
<td>æ‰§è¡Œä¸åŒé€»è¾‘</td>
<td>åˆ¤æ–­æŸä¸ªå€¼æ˜¯å¦åŒ¹é…æŸä¸ªæ¨¡å¼</td>
</tr>
<tr>
<td>å¯å¦å†™é€»è¾‘å—</td>
<td>âœ… å¯ä»¥å†™ <code>&#123;&#125;</code> å¤šè¡Œ</td>
<td>âŒ ä¸èƒ½ï¼Œåªèƒ½åˆ¤æ–­</td>
</tr>
<tr>
<td>æ˜¯å¦ç®€æ´</td>
<td>âŒ ç›¸å¯¹ç¹ç</td>
<td>âœ… éå¸¸ç®€æ´</td>
</tr>
</tbody></table>
<h3 id="å˜é‡é®è”½"><a href="#å˜é‡é®è”½" class="headerlink" title="å˜é‡é®è”½"></a>å˜é‡é®è”½</h3><h4 id="if-let-Some-age-age-ä¸­ï¼Œä¸ºä»€ä¹ˆè¿˜èƒ½æ‰“å°å‡º-age-30ï¼Ÿ"><a href="#if-let-Some-age-age-ä¸­ï¼Œä¸ºä»€ä¹ˆè¿˜èƒ½æ‰“å°å‡º-age-30ï¼Ÿ" class="headerlink" title="if let Some(age) = age ä¸­ï¼Œä¸ºä»€ä¹ˆè¿˜èƒ½æ‰“å°å‡º age = 30ï¼Ÿ"></a><code>if let Some(age) = age</code> ä¸­ï¼Œä¸ºä»€ä¹ˆè¿˜èƒ½æ‰“å°å‡º <code>age = 30</code>ï¼Ÿ</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">   <span class="keyword">let</span> <span class="variable">age</span> = <span class="title function_ invoke__">Some</span>(<span class="number">30</span>);</span><br><span class="line">   <span class="built_in">println!</span>(<span class="string">&quot;åœ¨åŒ¹é…å‰ï¼Œageæ˜¯&#123;:?&#125;&quot;</span>, age);</span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span> <span class="keyword">let</span> <span class="variable">Some</span>(age) = age &#123;</span><br><span class="line">       <span class="built_in">println!</span>(<span class="string">&quot;åŒ¹é…å‡ºæ¥çš„ageæ˜¯&#123;&#125;&quot;</span>, age);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="built_in">println!</span>(<span class="string">&quot;åœ¨åŒ¹é…åï¼Œageæ˜¯&#123;:?&#125;&quot;</span>, age);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¿™ä¸€å¥å…¶å®åšäº† <strong>ä¸¤ä»¶äº‹</strong>ï¼š</p>
<ol>
<li><strong>åŒ¹é…</strong>å¤–å±‚çš„ <code>age</code>ï¼ˆå®ƒæ˜¯ <code>Option&lt;i32&gt;</code>ï¼Œå€¼ä¸º <code>Some(30)</code>ï¼‰</li>
<li>**åˆ›å»ºä¸€ä¸ªæ–°çš„å±€éƒ¨å˜é‡ **<code>**age**</code>ï¼Œå®ƒçš„ç±»å‹æ˜¯ <code>i32</code>ï¼Œå€¼æ˜¯ 30</li>
</ol>
<p>è¿™å°±å«åš <strong>å˜é‡é®è”½ï¼ˆshadowingï¼‰</strong>ï¼š</p>
<ul>
<li><code>if let</code> é‡Œçš„ <code>age</code><strong>æ˜¯æ–°çš„å˜é‡</strong></li>
<li>å®ƒ **æš‚æ—¶é®è”½äº†å¤–å±‚çš„ **<code>**age**</code></li>
<li>åŒ¹é…ä»£ç å—å¤–è¿˜æ˜¯åŸæ¥çš„ <code>Option&lt;i32&gt;</code> ç±»å‹</li>
</ul>
<h3 id="ç»‘å®šç¬¦"><a href="#ç»‘å®šç¬¦" class="headerlink" title="@ç»‘å®šç¬¦"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/match-pattern/all-patterns.html#%E7%BB%91%E5%AE%9A"><font style="color:rgb(0, 0, 0);">@ç»‘å®š</font></a>ç¬¦</h3><p> Rust é‡Œçš„ <code>@</code> æ˜¯â€œ<strong>ä¸€è¾¹åŒ¹é…ï¼Œä¸€è¾¹å‘½å</strong>â€çš„å·¥å…·ã€‚  </p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">age</span> = <span class="title function_ invoke__">Some</span>(<span class="number">18</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> <span class="variable">Some</span>(x @ <span class="number">13</span>..=<span class="number">19</span>) = age &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;é’å°‘å¹´ï¼š&#123;&#125;&quot;</span>, n);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>å†™æ³•</th>
<th>æ„æ€</th>
</tr>
</thead>
<tbody><tr>
<td><code>x @ æ¡ä»¶</code></td>
<td>å¦‚æœæ»¡è¶³â€œæ¡ä»¶â€ï¼Œå°±èµ·åå« <code>x</code></td>
</tr>
<tr>
<td><code>Some(x @ ..)</code></td>
<td>åŒ¹é… <code>Some</code>ï¼Œè§£å‡ºå€¼å« <code>x</code></td>
</tr>
</tbody></table>
<h4 id="å‰ç»‘å®šåè§£æ„"><a href="#å‰ç»‘å®šåè§£æ„" class="headerlink" title="@å‰ç»‘å®šåè§£æ„"></a>@å‰ç»‘å®šåè§£æ„</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#[derive(Debug)]</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Point</span> &#123;</span><br><span class="line">    x: <span class="type">i32</span>,</span><br><span class="line">    y: <span class="type">i32</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="comment">// ç»‘å®šæ–°å˜é‡ `p`ï¼ŒåŒæ—¶å¯¹ `Point` è¿›è¡Œè§£æ„</span></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">p</span> @ Point &#123;x: px, y: py &#125; = Point &#123;x: <span class="number">10</span>, y: <span class="number">23</span>&#125;;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;x: &#123;&#125;, y: &#123;&#125;&quot;</span>, px, py);</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;:?&#125;&quot;</span>, p);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">point</span> = Point &#123;x: <span class="number">10</span>, y: <span class="number">5</span>&#125;;</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> <span class="variable">p</span> @ Point &#123;x: <span class="number">10</span>, y&#125; = point &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;x is 10 and y is &#123;&#125; in &#123;:?&#125;&quot;</span>, y, p);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;x was not 10 :(&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="åºåˆ—åŒ–-ååºåˆ—åŒ–"><a href="#åºåˆ—åŒ–-ååºåˆ—åŒ–" class="headerlink" title="åºåˆ—åŒ–-&gt;ååºåˆ—åŒ–"></a>åºåˆ—åŒ–-&gt;ååºåˆ—åŒ–</h3><p>å¼•å…¥ä¾èµ–</p>
<figure class="highlight toml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[dependencies]</span></span><br><span class="line"><span class="attr">serde</span> = &#123; version = <span class="string">&quot;1.0&quot;</span>, features = [<span class="string">&quot;derive&quot;</span>] &#125;</span><br><span class="line"><span class="attr">serde_json</span> = <span class="string">&quot;1.0&quot;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>serde</code> æ˜¯ <strong>åºåˆ—åŒ–æ¡†æ¶çš„æ ¸å¿ƒ</strong>ï¼ˆè´Ÿè´£ trait å®šä¹‰ã€æ¨å¯¼æœºåˆ¶ï¼‰</li>
<li><code>serde_json</code> æ˜¯ <strong>æ”¯æŒ JSON æ ¼å¼çš„å…·ä½“å®ç°</strong></li>
</ul>
<h4 id="serde"><a href="#serde" class="headerlink" title="serde"></a><code>serde</code></h4><p>æä¾›äº† <code>Serialize</code>ã€<code>Deserialize</code> è¿™ä¸¤ä¸ªæ ¸å¿ƒ traitï¼Œè¿˜æœ‰å® <code>#[derive(Serialize, Deserialize)]</code></p>
<h4 id="serde-json"><a href="#serde-json" class="headerlink" title="serde_json"></a>serde_json</h4><p>æä¾›äº†å…·ä½“çš„ JSON æ ¼å¼å¤„ç†å™¨ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li><code>to_string()</code></li>
<li><code>from_str()</code></li>
<li><code>Value</code> ç±»å‹ï¼ˆç±»ä¼¼ JS çš„åŠ¨æ€ JSON ç±»å‹ï¼‰</li>
</ul>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> serde::&#123;Deserialize, Serialize&#125;;</span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">info</span> = Information &#123;</span><br><span class="line">        name: <span class="string">&quot;John&quot;</span>.<span class="title function_ invoke__">to_string</span>(),</span><br><span class="line">        age: <span class="number">20</span>,</span><br><span class="line">        email: <span class="string">&quot;john@example.com&quot;</span>.<span class="title function_ invoke__">to_string</span>(),</span><br><span class="line">        address: Address &#123;</span><br><span class="line">            strees: <span class="string">&quot;123 Main St&quot;</span>.<span class="title function_ invoke__">to_string</span>(),</span><br><span class="line">            city: <span class="string">&quot;New York&quot;</span>.<span class="title function_ invoke__">to_string</span>(),</span><br><span class="line">        &#125;,</span><br><span class="line">        phone_number: <span class="built_in">vec!</span>[<span class="string">&quot;123-456-7890&quot;</span>.<span class="title function_ invoke__">to_string</span>(), <span class="string">&quot;098-765-4321&quot;</span>.<span class="title function_ invoke__">to_string</span>()],</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">str_info</span> = serde_json::<span class="title function_ invoke__">to_string_pretty</span>(&amp;info).<span class="title function_ invoke__">unwrap</span>();</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, str_info);</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">infomation</span>: Information = serde_json::<span class="title function_ invoke__">from_str</span>(&amp;str_info).<span class="title function_ invoke__">unwrap</span>();</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;:?&#125;&quot;</span>, infomation);</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#[derive(Serialize, Deserialize, Debug)]</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Information</span> &#123;</span><br><span class="line">    name: <span class="type">String</span>,</span><br><span class="line">    age: <span class="type">i32</span>,</span><br><span class="line">    email: <span class="type">String</span>,</span><br><span class="line">    address: Address,</span><br><span class="line">    phone_number: <span class="type">Vec</span>&lt;<span class="type">String</span>&gt;,</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#[derive(Serialize, Deserialize, Debug)]</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Address</span> &#123;</span><br><span class="line">    strees: <span class="type">String</span>,</span><br><span class="line">    city: <span class="type">String</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/06/28/%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D/" data-id="cmconx2qm000micqw8gmy4jrt" data-title="æ¨¡å¼åŒ¹é…" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Rust/" rel="tag">Rust</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-ç»“æ„ä½“" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/06/27/%E7%BB%93%E6%9E%84%E4%BD%93/" class="article-date">
  <time class="dt-published" datetime="2025-06-27T01:12:57.000Z" itemprop="datePublished">2025-06-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/06/27/%E7%BB%93%E6%9E%84%E4%BD%93/">ç»“æ„ä½“</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="ç»“æ„ä½“è¯­æ³•"><a href="#ç»“æ„ä½“è¯­æ³•" class="headerlink" title="ç»“æ„ä½“è¯­æ³•"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/compound-type/struct.html#%E7%BB%93%E6%9E%84%E4%BD%93%E8%AF%AD%E6%B3%95"><font style="color:rgb(0, 0, 0);">ç»“æ„ä½“è¯­æ³•</font></a></h3><h4 id="å®šä¹‰ç»“æ„ä½“"><a href="#å®šä¹‰ç»“æ„ä½“" class="headerlink" title="å®šä¹‰ç»“æ„ä½“"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/compound-type/struct.html#%E5%AE%9A%E4%B9%89%E7%BB%93%E6%9E%84%E4%BD%93"><font style="color:rgb(0, 0, 0);">å®šä¹‰ç»“æ„ä½“</font></a></h4><p><font style="color:rgb(0, 0, 0);">ä¸€ä¸ªç»“æ„ä½“ç”±å‡ éƒ¨åˆ†ç»„æˆï¼š</font></p>
<ul>
<li><font style="color:rgb(0, 0, 0);">é€šè¿‡å…³é”®å­—</font><font style="color:rgb(0, 0, 0);"> </font><code>&gt;struct</code><font style="color:rgb(0, 0, 0);"> </font><font style="color:rgb(0, 0, 0);">å®šä¹‰</font></li>
<li><font style="color:rgb(0, 0, 0);">ä¸€ä¸ªæ¸…æ™°æ˜ç¡®çš„ç»“æ„ä½“</font><font style="color:rgb(0, 0, 0);"> </font><code>åç§°</code></li>
<li><font style="color:rgb(0, 0, 0);">å‡ ä¸ªæœ‰åå­—çš„ç»“æ„ä½“ </font><code>å­—æ®µ</code></li>
</ul>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    active: <span class="type">bool</span>,</span><br><span class="line">    username: <span class="type">String</span>,</span><br><span class="line">    email: <span class="type">String</span>,</span><br><span class="line">    sign_in_count: <span class="type">u64</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="åˆ›å»ºç»“æ„ä½“å®ä¾‹"><a href="#åˆ›å»ºç»“æ„ä½“å®ä¾‹" class="headerlink" title="åˆ›å»ºç»“æ„ä½“å®ä¾‹"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/compound-type/struct.html#%E5%88%9B%E5%BB%BA%E7%BB%93%E6%9E%84%E4%BD%93%E5%AE%9E%E4%BE%8B"><font style="color:rgb(0, 0, 0);">åˆ›å»ºç»“æ„ä½“å®ä¾‹</font></a></h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">user1</span> = User &#123;</span><br><span class="line">    email: <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;someone@example.com&quot;</span>),</span><br><span class="line">    username: <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;someusername123&quot;</span>),</span><br><span class="line">    active: <span class="literal">true</span>,</span><br><span class="line">    sign_in_count: <span class="number">1</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol>
<li><font style="color:rgb(0, 0, 0);">åˆå§‹åŒ–å®ä¾‹æ—¶ï¼Œ</font><strong><font style="color:rgb(0, 0, 0);">æ¯ä¸ªå­—æ®µ</font></strong><font style="color:rgb(0, 0, 0);">éƒ½éœ€è¦è¿›è¡Œåˆå§‹åŒ–</font></li>
<li><font style="color:rgb(0, 0, 0);">åˆå§‹åŒ–æ—¶çš„å­—æ®µé¡ºåº</font><strong><font style="color:rgb(0, 0, 0);">ä¸éœ€è¦</font></strong><font style="color:rgb(0, 0, 0);">å’Œç»“æ„ä½“å®šä¹‰æ—¶çš„é¡ºåºä¸€è‡´</font></li>
</ol>
<h4 id="è®¿é—®ç»“æ„ä½“å­—æ®µ"><a href="#è®¿é—®ç»“æ„ä½“å­—æ®µ" class="headerlink" title="è®¿é—®ç»“æ„ä½“å­—æ®µ"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/compound-type/struct.html#%E8%AE%BF%E9%97%AE%E7%BB%93%E6%9E%84%E4%BD%93%E5%AD%97%E6%AE%B5"><font style="color:rgb(0, 0, 0);">è®¿é—®ç»“æ„ä½“å­—æ®µ</font></a></h4><p><font style="color:rgb(0, 0, 0);">é€šè¿‡ </font><code>.</code><font style="color:rgb(0, 0, 0);"> æ“ä½œç¬¦å³å¯è®¿é—®ç»“æ„ä½“å®ä¾‹å†…éƒ¨çš„å­—æ®µå€¼ï¼Œä¹Ÿå¯ä»¥ä¿®æ”¹å®ƒä»¬ï¼š</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯å˜çš„æ‰èƒ½è¿›è¡Œä¿®æ”¹</span></span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">user</span> = User &#123;</span><br><span class="line">        active: <span class="literal">true</span>,</span><br><span class="line">        username: <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;someusername123&quot;</span>),</span><br><span class="line">        email: <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;someone@example.com&quot;</span>),</span><br><span class="line">        sign_in_count: <span class="number">1</span>,</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    user.active = <span class="literal">false</span>;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, user.active)</span><br></pre></td></tr></table></figure>

<h4 id="ç»“æ„ä½“æ›´æ–°è¯­æ³•"><a href="#ç»“æ„ä½“æ›´æ–°è¯­æ³•" class="headerlink" title="ç»“æ„ä½“æ›´æ–°è¯­æ³•"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/compound-type/struct.html#%E7%BB%93%E6%9E%84%E4%BD%93%E6%9B%B4%E6%96%B0%E8%AF%AD%E6%B3%95"><font style="color:rgb(0, 0, 0);">ç»“æ„ä½“æ›´æ–°è¯­æ³•</font></a></h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">user2</span> = User &#123;</span><br><span class="line">      active: user1.active,</span><br><span class="line">      username: user1.username,</span><br><span class="line">      email: <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;another@example.com&quot;</span>),</span><br><span class="line">      sign_in_count: user1.sign_in_count,</span><br><span class="line">  &#125;;</span><br></pre></td></tr></table></figure>

<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">user2</span> = User &#123;</span><br><span class="line">      email: <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;another@example.com&quot;</span>),</span><br><span class="line">      ..user1</span><br><span class="line">  &#125;;</span><br></pre></td></tr></table></figure>

<p><code>..user1</code><font style="color:rgb(0, 0, 0);"> å¿…é¡»åœ¨ç»“æ„ä½“çš„å°¾éƒ¨ä½¿ç”¨ã€‚</font></p>
<p><font style="color:#DF2A3F;">æ³¨æ„:</font>user éƒ¨åˆ†å­—æ®µè½¬ç§»ç»™äº† user2,user çš„ username æ‰€æœ‰æƒè¿›è¡Œäº†è½¬ç§»,å¯¼è‡´ user ä¸­ username æ— æ³•ä½¿ç”¨</p>
<h3 id="å…ƒç»„ç»“æ„ä½“-Tuple-Struct"><a href="#å…ƒç»„ç»“æ„ä½“-Tuple-Struct" class="headerlink" title="å…ƒç»„ç»“æ„ä½“(Tuple Struct)"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/compound-type/struct.html#%E5%85%83%E7%BB%84%E7%BB%93%E6%9E%84%E4%BD%93tuple-struct"><font style="color:rgb(0, 0, 0);">å…ƒç»„ç»“æ„ä½“(Tuple Struct)</font></a></h3><p><font style="color:rgb(0, 0, 0);">ç»“æ„ä½“å¿…é¡»è¦æœ‰åç§°ï¼Œä½†æ˜¯ç»“æ„ä½“çš„å­—æ®µå¯ä»¥æ²¡æœ‰åç§°ï¼Œè¿™ç§ç»“æ„ä½“é•¿å¾—å¾ˆåƒå…ƒç»„ï¼Œå› æ­¤è¢«ç§°ä¸ºå…ƒç»„ç»“æ„ä½“ï¼Œä¾‹å¦‚ï¼š</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">Color</span>(<span class="type">i32</span>, <span class="type">i32</span>, <span class="type">i32</span>);</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">color</span> = <span class="title function_ invoke__">Color</span>(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, color.<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å•å…ƒç»“æ„ä½“-Unit-like-Struct"><a href="#å•å…ƒç»“æ„ä½“-Unit-like-Struct" class="headerlink" title="å•å…ƒç»“æ„ä½“(Unit-like Struct)"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/compound-type/struct.html#%E5%8D%95%E5%85%83%E7%BB%93%E6%9E%84%E4%BD%93unit-like-struct"><font style="color:rgb(0, 0, 0);">å•å…ƒç»“æ„ä½“(Unit-like Struct)</font></a></h3><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> std::fmt::Display;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">AlwaysEqual</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">Display</span> <span class="keyword">for</span> <span class="title class_">AlwaysEqual</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">fmt</span>(&amp;<span class="keyword">self</span>, f: &amp;<span class="keyword">mut</span> std::fmt::Formatter) <span class="punctuation">-&gt;</span> std::fmt::<span class="type">Result</span> &#123;</span><br><span class="line">        <span class="built_in">write!</span>(f, <span class="string">&quot;Iâ€™m always equal!&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">a</span> = AlwaysEqual;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><code>AlwaysEqual</code> æ˜¯ä¸€ä¸ª<strong>å•å…ƒç»“æ„ä½“</strong>ï¼Œä¸å­˜å‚¨æ•°æ®ï¼Œåªä»£è¡¨ä¸€ç§ç±»å‹ï¼Œé€‚ç”¨äºä½ åªå…³å¿ƒå®ƒçš„â€œè¡Œä¸ºâ€ï¼ˆå³å®ç°äº†å“ªäº› traitï¼‰ï¼Œä¸å…³å¿ƒå®ƒâ€œé•¿ä»€ä¹ˆæ ·å­â€</p>
<table>
<thead>
<tr>
<th>å†™æ³•</th>
<th>åç§°</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>struct Person &#123; name: String &#125;</code></td>
<td>æ™®é€šç»“æ„ä½“</td>
<td>æœ‰å­—æ®µï¼Œæœ‰æ•°æ®</td>
</tr>
<tr>
<td><code>struct Color(u8, u8, u8);</code></td>
<td>å…ƒç»„ç»“æ„ä½“</td>
<td>æœ‰å­—æ®µï¼Œä½†ç”¨ä½ç½®æ ‡è¯†</td>
</tr>
<tr>
<td><code>struct AlwaysEqual;</code></td>
<td>å•å…ƒç»“æ„ä½“</td>
<td>æ²¡å­—æ®µï¼Œåªä»£è¡¨ä¸€ç§â€œç±»å‹â€</td>
</tr>
</tbody></table>
<h3 id="ç»“æ„ä½“æ•°æ®çš„æ‰€æœ‰æƒ"><a href="#ç»“æ„ä½“æ•°æ®çš„æ‰€æœ‰æƒ" class="headerlink" title="ç»“æ„ä½“æ•°æ®çš„æ‰€æœ‰æƒ"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/compound-type/struct.html#%E7%BB%93%E6%9E%84%E4%BD%93%E6%95%B0%E6%8D%AE%E7%9A%84%E6%89%80%E6%9C%89%E6%9D%83"><font style="color:rgb(0, 0, 0);">ç»“æ„ä½“æ•°æ®çš„æ‰€æœ‰æƒ</font></a></h3><p>Rust ä¸­ç»“æ„ä½“çš„æ‰€æœ‰æƒå°±æ˜¯å­—æ®µçš„æ‰€æœ‰æƒç»„åˆï¼Œå½“ä½ ç§»åŠ¨ç»“æ„ä½“æˆ–å­—æ®µæ—¶ï¼Œç›¸å…³å­—æ®µä¹Ÿè·Ÿç€è½¬ç§»ï¼›ç”¨å¼•ç”¨æˆ– clone å¯é¿å… moveã€‚</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#[derive(Debug, Clone)]</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    name: <span class="type">String</span>,</span><br><span class="line">    age: <span class="type">u32</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ„å‘³ç€ï¼š</p>
<ul>
<li><code>name</code> æ˜¯ <code>String</code>ï¼Œä¸æ˜¯ <code>Copy</code>ï¼Œ<strong>ä¼š move æˆ– clone</strong></li>
<li><code>age</code> æ˜¯ <code>u32</code>ï¼Œæ˜¯ <code>Copy</code>ï¼Œ<strong>ä¸ä¼š move</strong></li>
</ul>
<h4 id="ç›´æ¥-move"><a href="#ç›´æ¥-move" class="headerlink" title="ç›´æ¥ move"></a>ç›´æ¥ move</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">u1</span> = User &#123;</span><br><span class="line">    name: <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;Tom&quot;</span>),</span><br><span class="line">    age: <span class="number">18</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="variable">u2</span> = u1;</span><br></pre></td></tr></table></figure>

<p>è¿‡ç¨‹æ˜¯ <strong>æ•´ä½“ move</strong></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>          <span class="string">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span><br><span class="line"><span class="string">â”‚</span> <span class="string">u1</span>         <span class="string">â”‚</span>    <span class="string">==&gt;</span>   <span class="string">â”‚</span> <span class="string">u2</span>         <span class="string">â”‚</span></span><br><span class="line"><span class="string">â”‚</span> <span class="attr">name:</span> <span class="string">&quot;Tom&quot;</span><span class="string">â”‚</span>          <span class="string">â”‚</span> <span class="attr">name:</span> <span class="string">&quot;Tom&quot;</span><span class="string">â”‚</span></span><br><span class="line"><span class="string">â”‚</span> <span class="attr">age:</span> <span class="number">18</span>    <span class="string">â”‚</span>          <span class="string">â”‚</span> <span class="attr">age:</span> <span class="number">18</span>    <span class="string">â”‚</span></span><br><span class="line"><span class="string">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>          <span class="string">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span></span><br></pre></td></tr></table></figure>

<p>ä¹‹å <code>u1</code> å·²ç»æ— æ•ˆï¼Œä¸èƒ½å†ä½¿ç”¨ï¼</p>
<h4 id="clone"><a href="#clone" class="headerlink" title="clone"></a>clone</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">u2</span> = u1.<span class="title function_ invoke__">clone</span>();</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªè¿‡ç¨‹æ˜¯ <strong>æ·±æ‹·è´ name å­—æ®µ</strong>ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>          <span class="string">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span><br><span class="line"><span class="string">â”‚</span> <span class="string">u1</span>         <span class="string">â”‚</span>          <span class="string">â”‚</span> <span class="string">u2</span>         <span class="string">â”‚</span></span><br><span class="line"><span class="string">â”‚</span> <span class="attr">name:</span> <span class="string">&quot;Tom&quot;</span><span class="string">â”‚</span>    <span class="string">==&gt;</span>   <span class="string">â”‚</span> <span class="attr">name:</span> <span class="string">&quot;Tom&quot;</span><span class="string">â”‚</span> <span class="string">ï¼ˆå †å†…å­˜é‡æ–°åˆ†é…ï¼‰</span></span><br><span class="line"><span class="string">â”‚</span> <span class="attr">age:</span> <span class="number">18</span>    <span class="string">â”‚</span>          <span class="string">â”‚</span> <span class="attr">age:</span> <span class="number">18</span>    <span class="string">â”‚</span></span><br><span class="line"><span class="string">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>          <span class="string">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ä¸¤è€…éƒ½èƒ½ç»§ç»­ç”¨ï¼</p>
<h4 id="å­—æ®µå€Ÿç”¨ï¼ˆå¼•ç”¨ï¼‰"><a href="#å­—æ®µå€Ÿç”¨ï¼ˆå¼•ç”¨ï¼‰" class="headerlink" title="å­—æ®µå€Ÿç”¨ï¼ˆå¼•ç”¨ï¼‰"></a>å­—æ®µå€Ÿç”¨ï¼ˆå¼•ç”¨ï¼‰</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">name</span> = &amp;u1.name;</span><br></pre></td></tr></table></figure>

<p>å€Ÿç”¨åªæ˜¯â€œæŒ‡å‘â€ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span></span><br><span class="line"><span class="string">â”‚</span> <span class="string">u1</span>         <span class="string">â”‚</span></span><br><span class="line"><span class="string">â”‚</span> <span class="attr">name:</span> <span class="string">&quot;Tom&quot;</span><span class="string">â”‚</span> <span class="string">&lt;â”€â”€â”€</span> <span class="attr">name:</span> <span class="string">&amp;Stringï¼ˆå¼•ç”¨ï¼‰</span></span><br><span class="line"><span class="string">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ç»“æ„ä½“å­—æ®µåˆ†ä¸¤ç±»ï¼š</span><br><span class="line">- <span class="built_in">Copy</span> ç±»å‹å­—æ®µï¼šä¸ä¼š <span class="keyword">move</span>ï¼Œå¯é‡å¤ä½¿ç”¨</span><br><span class="line">- é <span class="built_in">Copy</span> å­—æ®µï¼ˆå¦‚ <span class="type">String</span>ï¼‰ï¼šä½¿ç”¨å <span class="keyword">move</span>ï¼ŒåŸå¤„ä½œåºŸ</span><br><span class="line">- æƒ³é¿å… <span class="keyword">move</span>ï¼šç”¨ clone æˆ–å¼•ç”¨ï¼ˆ&amp;ï¼‰</span><br></pre></td></tr></table></figure>

<h3 id="è§£æ„ç»“æ„ä½“"><a href="#è§£æ„ç»“æ„ä½“" class="headerlink" title="è§£æ„ç»“æ„ä½“"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/match-pattern/all-patterns.html#%E8%A7%A3%E6%9E%84%E7%BB%93%E6%9E%84%E4%BD%93"><font style="color:rgb(0, 0, 0);">è§£æ„ç»“æ„ä½“</font></a></h3><p><font style="color:rgb(0, 0, 0);">æ¨¡å¼ä¸­çš„å˜é‡åä¸å¿…ä¸ç»“æ„ä½“ä¸­çš„å­—æ®µåä¸€è‡´</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Point</span> &#123;</span><br><span class="line">    x: <span class="type">i32</span>,</span><br><span class="line">    y: <span class="type">i32</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">p</span> = Point &#123; x: <span class="number">0</span>, y: <span class="number">7</span> &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">Point</span> &#123; x: a, y: b &#125; = p;</span><br><span class="line">    <span class="built_in">assert_eq!</span>(<span class="number">0</span>, a);</span><br><span class="line">    <span class="built_in">assert_eq!</span>(<span class="number">7</span>, b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/06/27/%E7%BB%93%E6%9E%84%E4%BD%93/" data-id="cmconx2qo000uicqw44kr25t9" data-title="ç»“æ„ä½“" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Rust/" rel="tag">Rust</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-æšä¸¾" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/06/26/%E6%9E%9A%E4%B8%BE/" class="article-date">
  <time class="dt-published" datetime="2025-06-26T02:29:48.000Z" itemprop="datePublished">2025-06-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/06/26/%E6%9E%9A%E4%B8%BE/">æšä¸¾</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="æšä¸¾å€¼"><a href="#æšä¸¾å€¼" class="headerlink" title="æšä¸¾å€¼"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/compound-type/enum.html#%E6%9E%9A%E4%B8%BE%E5%80%BC"><font style="color:rgb(0, 0, 0);">æšä¸¾å€¼</font></a></h3><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">PokerSuit</span> &#123;</span><br><span class="line">  Clubs,</span><br><span class="line">  Spades,</span><br><span class="line">  Diamonds,</span><br><span class="line">  Hearts,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><font style="color:rgb(0, 0, 0);">é€šè¿‡ </font><code>::</code><font style="color:rgb(0, 0, 0);"> æ“ä½œç¬¦æ¥è®¿é—® </font><code>PokerSuit</code><font style="color:rgb(0, 0, 0);"> ä¸‹çš„å…·ä½“æˆå‘˜</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">heart</span> = PokerSuit::Hearts;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">diamond</span> = PokerSuit::Diamonds;</span><br></pre></td></tr></table></figure>

<h4 id="ç»“æ„ä½“"><a href="#ç»“æ„ä½“" class="headerlink" title="ç»“æ„ä½“"></a>ç»“æ„ä½“</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">PokerSuit</span> &#123;</span><br><span class="line">    Clubs,</span><br><span class="line">    Spades,</span><br><span class="line">    Diamonds,</span><br><span class="line">    Hearts,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">PokerCard</span> &#123;</span><br><span class="line">    suit: PokerSuit,</span><br><span class="line">    value: <span class="type">u8</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">   <span class="keyword">let</span> <span class="variable">c1</span> = PokerCard &#123;</span><br><span class="line">       suit: PokerSuit::Clubs,</span><br><span class="line">       value: <span class="number">1</span>,</span><br><span class="line">   &#125;;</span><br><span class="line">   <span class="keyword">let</span> <span class="variable">c2</span> = PokerCard &#123;</span><br><span class="line">       suit: PokerSuit::Diamonds,</span><br><span class="line">       value: <span class="number">12</span>,</span><br><span class="line">   &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç›´æ¥å°†æ•°æ®ä¿¡æ¯å…³è”åˆ°æšä¸¾æˆå‘˜"><a href="#ç›´æ¥å°†æ•°æ®ä¿¡æ¯å…³è”åˆ°æšä¸¾æˆå‘˜" class="headerlink" title="ç›´æ¥å°†æ•°æ®ä¿¡æ¯å…³è”åˆ°æšä¸¾æˆå‘˜"></a><font style="color:rgb(0, 0, 0);">ç›´æ¥å°†æ•°æ®ä¿¡æ¯å…³è”åˆ°æšä¸¾æˆå‘˜</font></h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">PokerCard</span> &#123;</span><br><span class="line">    <span class="title function_ invoke__">Clubs</span>(<span class="type">u8</span>),</span><br><span class="line">    <span class="title function_ invoke__">Spades</span>(<span class="type">u8</span>),</span><br><span class="line">    <span class="title function_ invoke__">Diamonds</span>(<span class="type">u8</span>),</span><br><span class="line">    <span class="title function_ invoke__">Hearts</span>(<span class="type">u8</span>),</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">   <span class="keyword">let</span> <span class="variable">c1</span> = PokerCard::<span class="title function_ invoke__">Spades</span>(<span class="number">5</span>);</span><br><span class="line">   <span class="keyword">let</span> <span class="variable">c2</span> = PokerCard::<span class="title function_ invoke__">Diamonds</span>(<span class="number">13</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Option"><a href="#Option" class="headerlink" title="Option"></a>Option<T></h3><p><code>Option&lt;T&gt;</code> ä»£è¡¨ï¼š<strong>å¯èƒ½æœ‰å€¼ï¼ˆSomeï¼‰</strong>ï¼Œä¹Ÿ<strong>å¯èƒ½æ²¡æœ‰å€¼ï¼ˆNoneï¼‰</strong></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Option</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="title function_ invoke__">Some</span>(T),  <span class="comment">// æœ‰å€¼</span></span><br><span class="line">    <span class="literal">None</span>,     <span class="comment">// æ²¡æœ‰å€¼</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>Some(k)</code> æ˜¯ä¸€ä¸ªâ€œæ‹†ç›’å­â€çš„æ¨¡å¼ã€‚å®ƒé—®ï¼šè¿™ä¸ª <code>Option</code> æœ‰å€¼å—ï¼Ÿæœ‰çš„è¯ï¼ŒæŠŠé‡Œé¢çš„å€¼å–å‡ºæ¥ç»™å˜é‡ <code>k</code>ã€‚</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">key</span>: <span class="type">Option</span>&lt;<span class="type">String</span>&gt; = <span class="title function_ invoke__">Some</span>(<span class="string">&quot;é—¨é’¥åŒ™&quot;</span>.<span class="title function_ invoke__">to_string</span>());</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> <span class="variable">Some</span>(k) = key &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;æˆ‘å¸¦äº†ï¼š&#123;&#125;&quot;</span>, k);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;æˆ‘æ²¡å¸¦é’¥åŒ™ï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><code>Some(k)</code> æ˜¯ä¸€ä¸ª <strong>æ¨¡å¼ï¼ˆpatternï¼‰</strong>ï¼Œç”¨æ¥â€œæ‹†å¼€â€ <code>Option</code> ç±»å‹ã€‚</p>
<ul>
<li>å¦‚æœ <code>key</code> çš„å€¼æ˜¯ <code>Some(ä¸œè¥¿)</code>ï¼Œå°±ï¼š<ul>
<li>å–å‡ºé‡Œé¢çš„ <code>ä¸œè¥¿</code></li>
<li>æ”¾åˆ°å˜é‡ <code>k</code> é‡Œ</li>
</ul>
</li>
</ul>
<h4 id="unwrap-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#unwrap-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title=".unwrap() æ˜¯ä»€ä¹ˆï¼Ÿ"></a>.unwrap() æ˜¯ä»€ä¹ˆï¼Ÿ</h4><ul>
<li><code>unwrap()</code> çš„æ„æ€æ˜¯ï¼š<strong>æˆ‘ç¡®å®šä¸€å®šæœ‰å€¼ï¼ŒæŠŠå®ƒæ‹¿å‡ºæ¥</strong></li>
<li>ä½†å¦‚æœæ˜¯ <code>None</code>ï¼Œç¨‹åºå°±ä¼š <strong>å´©æºƒ</strong>ï¼š</li>
</ul>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">x</span>: <span class="type">Option</span>&lt;<span class="type">i32</span>&gt; = <span class="literal">None</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">n</span> = x.<span class="title function_ invoke__">unwrap</span>(); <span class="comment">// âŒ ç›´æ¥ panic!</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="å®‰å…¨åœ°ä½¿ç”¨-unwrap-or"><a href="#å®‰å…¨åœ°ä½¿ç”¨-unwrap-or" class="headerlink" title="å®‰å…¨åœ°ä½¿ç”¨ .unwrap_or()"></a>å®‰å…¨åœ°ä½¿ç”¨ .unwrap_or()</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">key</span>: <span class="type">Option</span>&lt;<span class="type">String</span>&gt; = <span class="literal">None</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="variable">real_key</span> = key.<span class="title function_ invoke__">unwrap_or</span>(<span class="string">&quot;å¤‡ç”¨é’¥åŒ™&quot;</span>.<span class="title function_ invoke__">to_string</span>());</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;ä½¿ç”¨é’¥åŒ™ï¼š&#123;&#125;&quot;</span>, real_key);</span><br></pre></td></tr></table></figure>

<h3 id="Result"><a href="#Result" class="headerlink" title="Result"></a>Result</h3><p><code>Result</code> æ˜¯ Rust ç”¨æ¥è¡¨ç¤º <strong>å¯èƒ½æˆåŠŸï¼Œä¹Ÿå¯èƒ½å¤±è´¥</strong> çš„ä¸€ç§ç±»å‹ã€‚</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Result</span>&lt;T, E&gt; &#123;</span><br><span class="line">    <span class="title function_ invoke__">Ok</span>(T),    <span class="comment">// æˆåŠŸï¼Œé‡Œé¢æ˜¯ç»“æœ</span></span><br><span class="line">    <span class="title function_ invoke__">Err</span>(E),   <span class="comment">// å¤±è´¥ï¼Œé‡Œé¢æ˜¯é”™è¯¯åŸå› </span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="ä¸¾ä¾‹"><a href="#ä¸¾ä¾‹" class="headerlink" title="ä¸¾ä¾‹"></a>ä¸¾ä¾‹</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">divide</span>(x: <span class="type">i32</span>, y: <span class="type">i32</span>) <span class="punctuation">-&gt;</span> <span class="type">Result</span>&lt;<span class="type">i32</span>, <span class="type">String</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> y == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="title function_ invoke__">Err</span>(<span class="string">&quot;ä¸èƒ½é™¤ä»¥ 0&quot;</span>.<span class="title function_ invoke__">to_string</span>())</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_ invoke__">Ok</span>(x / y)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">result</span> = <span class="title function_ invoke__">divide</span>(<span class="number">10</span>, <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">match</span> result &#123;</span><br><span class="line">        <span class="title function_ invoke__">Ok</span>(val) =&gt; <span class="built_in">println!</span>(<span class="string">&quot;ç»“æœæ˜¯ &#123;&#125;&quot;</span>, val),</span><br><span class="line">        <span class="title function_ invoke__">Err</span>(err) =&gt; <span class="built_in">println!</span>(<span class="string">&quot;å‡ºé”™äº†ï¼š&#123;&#125;&quot;</span>, err),</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ›´çŸ­çš„å†™æ³•ï¼šif-let"><a href="#æ›´çŸ­çš„å†™æ³•ï¼šif-let" class="headerlink" title="æ›´çŸ­çš„å†™æ³•ï¼šif let"></a>æ›´çŸ­çš„å†™æ³•ï¼šif let</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> <span class="variable">Ok</span>(value) = <span class="title function_ invoke__">divide</span>(<span class="number">10</span>, <span class="number">2</span>) &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;æˆåŠŸï¼š&#123;&#125;&quot;</span>, value);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;å‡ºé”™äº†&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Option-å’Œ-Result-è½¬æ¢-åŠå¸¸ç”¨-api"><a href="#Option-å’Œ-Result-è½¬æ¢-åŠå¸¸ç”¨-api" class="headerlink" title="Option å’Œ Result è½¬æ¢,åŠå¸¸ç”¨ api"></a>Option å’Œ Result è½¬æ¢,åŠå¸¸ç”¨ api</h3><ul>
<li><code>Option&lt;T&gt;</code>ï¼šå¯èƒ½æœ‰å€¼ï¼ˆ<code>Some(T)</code>ï¼‰ï¼Œä¹Ÿå¯èƒ½æ²¡æœ‰å€¼ï¼ˆ<code>None</code>ï¼‰</li>
<li><code>Result&lt;T, E&gt;</code>ï¼šå¯èƒ½æˆåŠŸï¼ˆ<code>Ok(T)</code>ï¼‰ï¼Œä¹Ÿå¯èƒ½å¤±è´¥ï¼ˆ<code>Err(E)</code>ï¼‰</li>
</ul>
<h4 id="Option-â†’-Result"><a href="#Option-â†’-Result" class="headerlink" title="Option â†’ Result"></a>Option â†’ Result</h4><p>å¦‚æœä½ æƒ³æŠŠä¸€ä¸ª <code>Option</code> å˜æˆ <code>Result</code>ï¼Œä½ å¾—æä¾›ä¸€ä¸ªé”™è¯¯å€¼ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">maybe_name</span>: <span class="type">Option</span>&lt;&amp;<span class="type">str</span>&gt; = <span class="title function_ invoke__">Some</span>(<span class="string">&quot;å°æ˜&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="variable">result</span>: <span class="type">Result</span>&lt;&amp;<span class="type">str</span>, &amp;<span class="type">str</span>&gt; = maybe_name.<span class="title function_ invoke__">ok_or</span>(<span class="string">&quot;æ²¡æœ‰åå­—&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;&#123;:?&#125;&quot;</span>, result); <span class="comment">// Ok(&quot;å°æ˜&quot;)</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>ok_or(err)</code>ï¼šå¦‚æœæ˜¯ <code>Some(val)</code>ï¼Œå°±å˜æˆ <code>Ok(val)</code>ï¼›å¦‚æœæ˜¯ <code>None</code>ï¼Œå°±å˜æˆ <code>Err(err)</code></li>
</ul>
<h4 id="Result-â†’-Option"><a href="#Result-â†’-Option" class="headerlink" title="Result â†’ Option"></a>Result â†’ Option</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">result</span>: <span class="type">Result</span>&lt;<span class="type">i32</span>, &amp;<span class="type">str</span>&gt; = <span class="title function_ invoke__">Ok</span>(<span class="number">42</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="variable">maybe</span>: <span class="type">Option</span>&lt;<span class="type">i32</span>&gt; = result.<span class="title function_ invoke__">ok</span>(); <span class="comment">// æŠŠ Ok(42) è½¬ä¸º Some(42)</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;&#123;:?&#125;&quot;</span>, maybe); <span class="comment">// Some(42)</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>ok()</code>ï¼šæŠŠ <code>Ok(val)</code> å˜æˆ <code>Some(val)</code>ï¼Œ<code>Err(_)</code> å˜æˆ <code>None</code></li>
<li><code>err()</code>ï¼šåè¿‡æ¥å–é”™è¯¯å€¼ï¼š<code>Err(e)</code> â†’ <code>Some(e)</code></li>
</ul>
<h3 id="é—­åŒ…"><a href="#é—­åŒ…" class="headerlink" title="é—­åŒ…"></a>é—­åŒ…</h3><h4 id="é—­åŒ…-vs-æ™®é€šå‡½æ•°"><a href="#é—­åŒ…-vs-æ™®é€šå‡½æ•°" class="headerlink" title="é—­åŒ… vs æ™®é€šå‡½æ•°"></a>é—­åŒ… vs æ™®é€šå‡½æ•°</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">add1_fn</span>(x: <span class="type">i32</span>) <span class="punctuation">-&gt;</span> <span class="type">i32</span> &#123;</span><br><span class="line">    x + <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="variable">add1_closure</span> = |x: <span class="type">i32</span>| x + <span class="number">1</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>fn</code> æ˜¯æ™®é€šå‡½æ•°ï¼Œå¿…é¡»å†™åœ¨å¤–é¢</li>
<li><code>|x| x + 1</code> æ˜¯é—­åŒ…ï¼Œå¯ä»¥å†™åœ¨ä»»ä½•åœ°æ–¹ï¼Œæ›´çµæ´»</li>
</ul>
<h4 id="é—­åŒ…ä¸ä¼ å‚æ•°çš„å†™æ³•"><a href="#é—­åŒ…ä¸ä¼ å‚æ•°çš„å†™æ³•" class="headerlink" title="é—­åŒ…ä¸ä¼ å‚æ•°çš„å†™æ³•"></a>é—­åŒ…ä¸ä¼ å‚æ•°çš„å†™æ³•</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">say_hi</span> = || <span class="built_in">println!</span>(<span class="string">&quot;Hi!&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">say_hi</span>(); <span class="comment">// è¾“å‡ºï¼šHi!</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>||</code> è¡¨ç¤ºè¿™ä¸ªé—­åŒ…ä¸æ¥æ”¶ä»»ä½•å‚æ•°</li>
<li>é—­åŒ…ä½“å°±åƒæ™®é€šå‡½æ•°ä¸€æ ·å†™ <code>&#123;&#125;</code>ï¼Œæˆ–è€…å•è¡Œå¯ä»¥çœç•¥</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/06/26/%E6%9E%9A%E4%B8%BE/" data-id="cmconx2qm000kicqwd9dgbb5w" data-title="æšä¸¾" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Rust/" rel="tag">Rust</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-å­—ç¬¦ä¸²" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/06/25/%E5%AD%97%E7%AC%A6%E4%B8%B2/" class="article-date">
  <time class="dt-published" datetime="2025-06-25T07:25:28.000Z" itemprop="datePublished">2025-06-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2025/06/25/%E5%AD%97%E7%AC%A6%E4%B8%B2/">å­—ç¬¦ä¸²</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="åˆ‡ç‰‡"><a href="#åˆ‡ç‰‡" class="headerlink" title="åˆ‡ç‰‡"></a>åˆ‡ç‰‡</h3><p><font style="color:rgb(0, 0, 0);">ä½¿ç”¨æ–¹æ‹¬å·åŒ…æ‹¬çš„ä¸€ä¸ªåºåˆ—ï¼š</font><strong><font style="color:rgb(0, 0, 0);">[å¼€å§‹ç´¢å¼•..ç»ˆæ­¢ç´¢å¼•]åŒ…å«å·¦ä¸åŒ…å«å³</font></strong></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">s</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hello world&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="variable">hello</span> = &amp;s[<span class="number">0</span>..<span class="number">5</span>];</span><br><span class="line"><span class="keyword">let</span> <span class="variable">world</span> = &amp;s[<span class="number">6</span>..<span class="number">11</span>];</span><br></pre></td></tr></table></figure>

<p>è·å–æœ€åä¸€ä¸ªå…ƒç´ çš„ 2 ç§æ–¹æ³•</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">s</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="variable">len</span> = s.<span class="title function_ invoke__">len</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="variable">slice</span> = &amp;s[<span class="number">4</span>..len];</span><br><span class="line"><span class="keyword">let</span> <span class="variable">slice</span> = &amp;s[<span class="number">4</span>..];</span><br></pre></td></tr></table></figure>

<h3 id="å­—ç¬¦ä¸²çš„å­—é¢é‡æ˜¯åˆ‡ç‰‡"><a href="#å­—ç¬¦ä¸²çš„å­—é¢é‡æ˜¯åˆ‡ç‰‡" class="headerlink" title="å­—ç¬¦ä¸²çš„å­—é¢é‡æ˜¯åˆ‡ç‰‡"></a>å­—ç¬¦ä¸²çš„å­—é¢é‡æ˜¯åˆ‡ç‰‡</h3><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¹‹å‰æåˆ°è¿‡å­—ç¬¦ä¸²å­—é¢é‡ï¼Œä½†æ˜¯æ²¡æœ‰æåˆ°å®ƒçš„ç±»å‹ï¼š</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">s</span> = <span class="string">&quot;Hello, world!&quot;</span>;</span><br><span class="line"><span class="comment">// å®é™…ä¸Šï¼Œs çš„ç±»å‹æ˜¯ &amp;strï¼Œå› æ­¤ä½ ä¹Ÿå¯ä»¥è¿™æ ·å£°æ˜ï¼š</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">s</span>: &amp;<span class="type">str</span> = <span class="string">&quot;Hello, world!&quot;</span>;</span><br></pre></td></tr></table></figure>

<p><code>&amp;str</code>æŒ‡å‘çš„æ˜¯ä¸å¯å˜çš„å¼•ç”¨</p>
<h3 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a><a target="_blank" rel="noopener" href="https://www.yuque.com/lisiyi-ephgy/nyhpoz/pzgsysfcyx4y5btw#QVwW0">å­—ç¬¦ä¸²</a></h3><h4 id="String-ä¸-str-çš„è½¬æ¢"><a href="#String-ä¸-str-çš„è½¬æ¢" class="headerlink" title="String ä¸ &amp;str çš„è½¬æ¢"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/compound-type/string-slice.html#string-%E4%B8%8E-str-%E7%9A%84%E8%BD%AC%E6%8D%A2"><font style="color:rgb(0, 0, 0);">String ä¸ &amp;str çš„è½¬æ¢</font></a></h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">s</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hello,world!&quot;</span>);</span><br><span class="line">    <span class="title function_ invoke__">say_hello</span>(&amp;s);</span><br><span class="line">    <span class="title function_ invoke__">say_hello</span>(&amp;s[..]);</span><br><span class="line">    <span class="title function_ invoke__">say_hello</span>(s.<span class="title function_ invoke__">as_str</span>()); <span class="comment">// è¯¦è§æ‰€æœ‰æƒä¸­å­—ç¬¦ä¸²è§£é‡Š</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">say_hello</span>(s: &amp;<span class="type">str</span>) &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>,s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æ“ä½œå­—ç¬¦ä¸²"><a href="#æ“ä½œå­—ç¬¦ä¸²" class="headerlink" title="æ“ä½œå­—ç¬¦ä¸²"></a>æ“ä½œå­—ç¬¦ä¸²</h4><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&amp;<span class="symbol">&#x27;static</span> <span class="type">str</span></span><br></pre></td></tr></table></figure>

<p>å®ƒæ˜¯ä¸€ä¸ªï¼š</p>
<ul>
<li><strong>ä¸å¯å˜çš„å­—ç¬¦ä¸²å¼•ç”¨</strong></li>
<li>å­˜å‚¨åœ¨<strong>ç¨‹åºçš„åªè¯»å†…å­˜åŒº</strong></li>
<li>ç”Ÿå‘½å‘¨æœŸæ˜¯ <code>&#39;static</code>ï¼ˆç¨‹åºæ•´ä¸ªè¿è¡ŒæœŸéƒ½æœ‰æ•ˆï¼‰</li>
<li>æœ‰èƒ½åŠ›å»ä¿®æ”¹å†…å®¹</li>
</ul>
<h5 id="è¿½åŠ -Push"><a href="#è¿½åŠ -Push" class="headerlink" title="è¿½åŠ (Push)"></a>è¿½åŠ (Push)</h5><p><font style="color:rgb(0, 0, 0);">åœ¨å­—ç¬¦ä¸²å°¾éƒ¨å¯ä»¥ä½¿ç”¨ </font><code>push()</code><font style="color:rgb(0, 0, 0);"> æ–¹æ³•è¿½åŠ å­—ç¬¦ </font><code>char</code><font style="color:rgb(0, 0, 0);">ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ </font><code>push_str()</code><font style="color:rgb(0, 0, 0);"> æ–¹æ³•è¿½åŠ å­—ç¬¦ä¸²å­—é¢é‡ã€‚è¿™ä¸¤ä¸ªæ–¹æ³•éƒ½æ˜¯</font><strong><font style="color:rgb(0, 0, 0);">åœ¨åŸæœ‰çš„å­—ç¬¦ä¸²ä¸Šè¿½åŠ ï¼Œå¹¶ä¸ä¼šè¿”å›æ–°çš„å­—ç¬¦ä¸²</font></strong><font style="color:rgb(0, 0, 0);">ã€‚ç”±äºå­—ç¬¦ä¸²è¿½åŠ æ“ä½œè¦ä¿®æ”¹åŸæ¥çš„å­—ç¬¦ä¸²ï¼Œåˆ™è¯¥å­—ç¬¦ä¸²å¿…é¡»æ˜¯å¯å˜çš„ï¼Œå³</font><strong><font style="color:rgb(0, 0, 0);">å­—ç¬¦ä¸²å˜é‡å¿…é¡»ç”± </font></strong><code>**mut**</code><strong><font style="color:rgb(0, 0, 0);"> å…³é”®å­—ä¿®é¥°</font></strong><font style="color:rgb(0, 0, 0);">ã€‚</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">s</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;Hello &quot;</span>);</span><br><span class="line"></span><br><span class="line">    s.<span class="title function_ invoke__">push_str</span>(<span class="string">&quot;rust&quot;</span>);</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;è¿½åŠ å­—ç¬¦ä¸² push_str() -&gt; &#123;&#125;&quot;</span>, s);</span><br><span class="line"></span><br><span class="line">    s.<span class="title function_ invoke__">push</span>(<span class="string">&#x27;!&#x27;</span>);</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;è¿½åŠ å­—ç¬¦ push() -&gt; &#123;&#125;&quot;</span>, s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="æ’å…¥-Insert"><a href="#æ’å…¥-Insert" class="headerlink" title="æ’å…¥(Insert)"></a>æ’å…¥(Insert)</h5><p><font style="color:rgb(0, 0, 0);">å­—ç¬¦ä¸²æ’å…¥æ“ä½œè¦</font><strong><font style="color:rgb(0, 0, 0);">ä¿®æ”¹åŸæ¥çš„å­—ç¬¦ä¸²</font></strong><font style="color:rgb(0, 0, 0);">ï¼Œåˆ™è¯¥å­—ç¬¦ä¸²å¿…é¡»æ˜¯å¯å˜çš„ï¼Œå³</font><strong><font style="color:rgb(0, 0, 0);">å­—ç¬¦ä¸²å˜é‡å¿…é¡»ç”± </font></strong><code>**mut**</code><strong><font style="color:rgb(0, 0, 0);"> å…³é”®å­—ä¿®é¥°</font></strong><font style="color:rgb(0, 0, 0);">ã€‚</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">s</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;Hello rust!&quot;</span>);</span><br><span class="line">    s.<span class="title function_ invoke__">insert</span>(<span class="number">5</span>, <span class="string">&#x27;,&#x27;</span>);</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;æ’å…¥å­—ç¬¦ insert() -&gt; &#123;&#125;&quot;</span>, s);</span><br><span class="line">    s.<span class="title function_ invoke__">insert_str</span>(<span class="number">6</span>, <span class="string">&quot; I like&quot;</span>);</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;æ’å…¥å­—ç¬¦ä¸² insert_str() -&gt; &#123;&#125;&quot;</span>, s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="æ›¿æ¢-Replace"><a href="#æ›¿æ¢-Replace" class="headerlink" title="æ›¿æ¢ (Replace)"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/compound-type/string-slice.html#%E6%9B%BF%E6%8D%A2-replace"><font style="color:rgb(0, 0, 0);">æ›¿æ¢ (Replace)</font></a></h5><p><font style="color:rgb(0, 0, 0);">è¯¥æ–¹æ³•æ˜¯è¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯æ“ä½œåŸæ¥çš„å­—ç¬¦ä¸²ã€‚</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">string_replace</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;I like rust. Learning rust is my favorite!&quot;</span>);</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">new_string_replace</span> = string_replace.<span class="title function_ invoke__">replace</span>(<span class="string">&quot;rust&quot;</span>, <span class="string">&quot;RUST&quot;</span>);</span><br><span class="line">    dbg!(new_string_replace);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="replacen"><a href="#replacen" class="headerlink" title="replacen"></a><font style="color:rgb(48, 25, 0);background-color:rgb(246, 247, 246);">replacen</font></h5><p><font style="color:rgb(0, 0, 0);">å‰ä¸¤ä¸ªå‚æ•°ä¸ </font><code>replace()</code><font style="color:rgb(0, 0, 0);"> æ–¹æ³•ä¸€æ ·ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°åˆ™è¡¨ç¤ºæ›¿æ¢çš„ä¸ªæ•°ã€‚</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">string_replace</span> = <span class="string">&quot;I like rust. Learning rust is my favorite!&quot;</span>;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">new_string_replacen</span> = string_replace.<span class="title function_ invoke__">replacen</span>(<span class="string">&quot;rust&quot;</span>, <span class="string">&quot;RUST&quot;</span>, <span class="number">1</span>);</span><br><span class="line">    dbg!(new_string_replacen);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="replace-range"><a href="#replace-range" class="headerlink" title="replace_range"></a>replace_range</h5><p>è¯¥æ–¹æ³•æ˜¯ç›´æ¥æ“ä½œåŸæ¥çš„å­—ç¬¦ä¸²</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">string</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">    <span class="comment">// å¦‚æœèŒƒå›´å°äºæ›¿æ¢é•¿åº¦,å­—ç¬¦ä¸²ä¼šå˜é•¿,åä¹‹ä¼šå˜çŸ­</span></span><br><span class="line">    string.<span class="title function_ invoke__">replace_range</span>(<span class="number">0</span>..<span class="number">1</span>, <span class="string">&quot;H&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="åˆ é™¤-Delete"><a href="#åˆ é™¤-Delete" class="headerlink" title="åˆ é™¤ (Delete)"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/compound-type/string-slice.html#%E5%88%A0%E9%99%A4-delete"><font style="color:rgb(0, 0, 0);">åˆ é™¤ (Delete)</font></a></h5><p><font style="color:rgb(0, 0, 0);">ä¸å­—ç¬¦ä¸²åˆ é™¤ç›¸å…³çš„æ–¹æ³•æœ‰ 4 ä¸ªï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ </font><code>pop()</code><font style="color:rgb(0, 0, 0);">ï¼Œ</font><code>remove()</code><font style="color:rgb(0, 0, 0);">ï¼Œ</font><code>truncate()</code><font style="color:rgb(0, 0, 0);">ï¼Œ</font><code>clear()</code><font style="color:rgb(0, 0, 0);">ã€‚è¿™å››ä¸ªæ–¹æ³•ä»…é€‚ç”¨äº </font><code>String</code>ç±»å‹<br><code>pop</code><font style="color:rgb(0, 0, 0);"> â€”â€” åˆ é™¤å¹¶è¿”å›å­—ç¬¦ä¸²çš„æœ€åä¸€ä¸ªå­—ç¬¦</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">string_pop</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;rust pop ä¸­æ–‡!&quot;</span>);</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">p1</span> = string_pop.<span class="title function_ invoke__">pop</span>();</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">p2</span> = string_pop.<span class="title function_ invoke__">pop</span>();</span><br><span class="line">    dbg!(p1);</span><br><span class="line">    dbg!(p2);</span><br><span class="line">    dbg!(string_pop);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>remove</code><font style="color:rgb(0, 0, 0);"> â€”â€” åˆ é™¤å¹¶è¿”å›å­—ç¬¦ä¸²ä¸­æŒ‡å®šä½ç½®çš„å­—ç¬¦</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">string_remove</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;æµ‹è¯•removeæ–¹æ³•&quot;</span>);</span><br><span class="line">    <span class="built_in">println!</span>(</span><br><span class="line">        <span class="string">&quot;string_remove å  &#123;&#125; ä¸ªå­—èŠ‚&quot;</span>,</span><br><span class="line">        std::mem::<span class="title function_ invoke__">size_of_val</span>(string_remove.<span class="title function_ invoke__">as_str</span>())</span><br><span class="line">    );</span><br><span class="line">    <span class="comment">// åˆ é™¤ç¬¬ä¸€ä¸ªæ±‰å­—</span></span><br><span class="line">    string_remove.<span class="title function_ invoke__">remove</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="comment">// ä¸‹é¢ä»£ç ä¼šå‘ç”Ÿé”™è¯¯</span></span><br><span class="line">    <span class="comment">// string_remove.remove(1);</span></span><br><span class="line">    <span class="comment">// ç›´æ¥åˆ é™¤ç¬¬äºŒä¸ªæ±‰å­—</span></span><br><span class="line">    <span class="comment">// string_remove.remove(3);</span></span><br><span class="line">    dbg!(string_remove);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>truncate</code><font style="color:rgb(0, 0, 0);"> â€”â€” åˆ é™¤å­—ç¬¦ä¸²ä¸­ä»æŒ‡å®šä½ç½®å¼€å§‹åˆ°ç»“å°¾çš„å…¨éƒ¨å­—ç¬¦</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">string_truncate</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;æµ‹è¯•truncate&quot;</span>);</span><br><span class="line">    string_truncate.<span class="title function_ invoke__">truncate</span>(<span class="number">3</span>);</span><br><span class="line">    dbg!(string_truncate);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>clear</code><font style="color:rgb(0, 0, 0);"> â€”â€” æ¸…ç©ºå­—ç¬¦ä¸²</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">string_clear</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;string clear&quot;</span>);</span><br><span class="line">    string_clear.<span class="title function_ invoke__">clear</span>();</span><br><span class="line">    dbg!(string_clear);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="è¿æ¥-Concatenate"><a href="#è¿æ¥-Concatenate" class="headerlink" title="è¿æ¥ (Concatenate)"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/compound-type/string-slice.html#%E8%BF%9E%E6%8E%A5-concatenate"><font style="color:rgb(0, 0, 0);">è¿æ¥ (Concatenate)</font></a></h5><h6 id="ä½¿ç”¨-æˆ–è€…-è¿æ¥å­—ç¬¦ä¸²"><a href="#ä½¿ç”¨-æˆ–è€…-è¿æ¥å­—ç¬¦ä¸²" class="headerlink" title="ä½¿ç”¨ + æˆ–è€… += è¿æ¥å­—ç¬¦ä¸²"></a><font style="color:rgb(0, 0, 0);">ä½¿ç”¨ </font><code>+</code><font style="color:rgb(0, 0, 0);"> æˆ–è€… </font><code>+=</code><font style="color:rgb(0, 0, 0);"> è¿æ¥å­—ç¬¦ä¸²</font></h6><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">string_append</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hello &quot;</span>);</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">string_rust</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;rust&quot;</span>);</span><br><span class="line">    <span class="comment">// &amp;string_rustä¼šè‡ªåŠ¨è§£å¼•ç”¨ä¸º&amp;str</span></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">result</span> = string_append + &amp;string_rust;</span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">result</span> = result + <span class="string">&quot;!&quot;</span>; <span class="comment">// `result + &quot;!&quot;` ä¸­çš„ `result` æ˜¯ä¸å¯å˜çš„</span></span><br><span class="line">    result += <span class="string">&quot;!!!&quot;</span>;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;è¿æ¥å­—ç¬¦ä¸² + -&gt; &#123;&#125;&quot;</span>, result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="let-result-string-append-string-rust"><a href="#let-result-string-append-string-rust" class="headerlink" title="let result &#x3D; string_append + &amp;string_rust;"></a>let result &#x3D; string_append + &amp;string_rust;</h6><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿™2è¡Œä»£ç ç­‰ä»·</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">result</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hello &quot;</span>) + &amp;<span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;rust&quot;</span>);</span><br><span class="line"><span class="comment">// è¿™ä¸ª + çš„è¡Œä¸ºå…¶å®æ˜¯ï¼š</span></span><br><span class="line"><span class="type">String</span>::<span class="title function_ invoke__">add</span>(<span class="keyword">self</span>, rhs: &amp;<span class="type">str</span>) <span class="punctuation">-&gt;</span> <span class="type">String</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>string_append</code> è¢« <strong>ç§»åŠ¨ï¼ˆmoveï¼‰</strong></li>
<li><code>&amp;string_rust</code> ä¼šè¢«è‡ªåŠ¨è§£å¼•ç”¨ä¸º <code>&amp;str</code></li>
<li>ç»“æœæ˜¯ä¸€ä¸ªæ–°çš„ <code>String</code>ï¼Œèµ‹å€¼ç»™ <code>result</code></li>
</ul>
<h6 id="let-mut-result-result-â€œ-â€"><a href="#let-mut-result-result-â€œ-â€" class="headerlink" title="let mut result &#x3D; result + â€œ!â€;"></a>let mut result &#x3D; result + â€œ!â€;</h6><ul>
<li>åŸæ¥çš„ <code>result</code> æ˜¯ä¸å¯å˜çš„</li>
<li>ä½ ç”¨ <code>+ &quot;!&quot;</code> åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ <code>String</code></li>
<li>ç„¶åä½ æŠŠè¿™ä¸ªæ–°çš„å­—ç¬¦ä¸²ç”¨ <code>let mut result = ...</code><strong>é‡æ–°å£°æ˜ä¸ºä¸€ä¸ªå¯å˜å˜é‡</strong></li>
</ul>
<p>â— è¿™ä¸æ˜¯ä¿®æ”¹æ—§çš„ <code>result</code>ï¼Œè€Œæ˜¯åˆ›å»ºäº†æ–°çš„å˜é‡ï¼ˆåŒåï¼‰ï¼Œå¹¶ä¸”æ˜¯ <code>mut</code>ã€‚</p>
<h6 id="result-â€œ-â€"><a href="#result-â€œ-â€" class="headerlink" title="result +&#x3D; â€œ!!!â€;"></a>result +&#x3D; â€œ!!!â€;</h6><ul>
<li>è¿™æ˜¯å¯¹æ–°çš„ã€å¯å˜çš„ <code>result</code> åšæ“ä½œ</li>
<li><code>+=</code> å®é™…ä¸Šè°ƒç”¨çš„æ˜¯ <code>String::push_str()</code> æ–¹æ³•</li>
</ul>
<h6 id="String-add-self-rhs-str-String"><a href="#String-add-self-rhs-str-String" class="headerlink" title="String::add(self, rhs: &amp;str) -&gt; String"></a>String::add(self, rhs: &amp;str) -&gt; String</h6><ol>
<li>self æ˜¯ Stringï¼ˆæ‰€æœ‰æƒï¼‰ï¼Œä¸æ˜¯ &amp;String</li>
<li>rhs æ˜¯ &amp;strï¼Œä¹Ÿå°±æ˜¯å³è¾¹ä½ ç”¨ &amp;string_rust æ˜¯ âœ… æ²¡é—®é¢˜çš„</li>
</ol>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">s1</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hello,&quot;</span>);</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">s2</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;world!&quot;</span>);</span><br><span class="line">    <span class="comment">// åœ¨ä¸‹å¥ä¸­ï¼Œs1çš„æ‰€æœ‰æƒè¢«è½¬ç§»èµ°äº†ï¼Œå› æ­¤åé¢ä¸èƒ½å†ä½¿ç”¨s1</span></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">s3</span> = s1 + &amp;s2;</span><br><span class="line">    <span class="built_in">assert_eq!</span>(s3,<span class="string">&quot;hello,world!&quot;</span>);</span><br><span class="line">    <span class="comment">// ä¸‹é¢çš„è¯­å¥å¦‚æœå»æ‰æ³¨é‡Šï¼Œå°±ä¼šæŠ¥é”™ ,s1çš„æ‰€æœ‰æƒå·²ç»è½¬ç§»åˆ°s3</span></span><br><span class="line">    <span class="comment">// println!(&quot;&#123;&#125;&quot;,s1);</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="ä½¿ç”¨-format-è¿æ¥å­—ç¬¦ä¸²"><a href="#ä½¿ç”¨-format-è¿æ¥å­—ç¬¦ä¸²" class="headerlink" title="ä½¿ç”¨ format! è¿æ¥å­—ç¬¦ä¸²"></a><font style="color:rgb(0, 0, 0);">ä½¿ç”¨ </font><code>format!</code><font style="color:rgb(0, 0, 0);"> è¿æ¥å­—ç¬¦ä¸²</font></h6><p><code>format!</code><font style="color:rgb(0, 0, 0);"> è¿™ç§æ–¹å¼é€‚ç”¨äº </font><code>String</code><font style="color:rgb(0, 0, 0);"> å’Œ </font><code>&amp;str</code><font style="color:rgb(48, 25, 0);background-color:rgb(246, 247, 246);">,æ‰€æœ‰æƒä¸ä¼šè½¬ç§»</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">s1</span> = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">s2</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;rust&quot;</span>);</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">s</span> = <span class="built_in">format!</span>(<span class="string">&quot;&#123;&#125; &#123;&#125;!&quot;</span>, s1, s2);</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, s);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="æ“ä½œ-UTF-8-å­—ç¬¦ä¸²"><a href="#æ“ä½œ-UTF-8-å­—ç¬¦ä¸²" class="headerlink" title="æ“ä½œ UTF-8 å­—ç¬¦ä¸²"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/compound-type/string-slice.html#%E6%93%8D%E4%BD%9C-utf-8-%E5%AD%97%E7%AC%A6%E4%B8%B2"><font style="color:rgb(0, 0, 0);">æ“ä½œ UTF-8 å­—ç¬¦ä¸²</font></a></h4><h5 id="å­—ç¬¦"><a href="#å­—ç¬¦" class="headerlink" title="å­—ç¬¦"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/compound-type/string-slice.html#%E5%AD%97%E7%AC%A6"><font style="color:rgb(0, 0, 0);">å­—ç¬¦</font></a></h5><p><font style="color:rgb(0, 0, 0);">å¦‚æœä½ æƒ³è¦ä»¥ Unicode å­—ç¬¦çš„æ–¹å¼éå†å­—ç¬¦ä¸²ï¼Œæœ€å¥½çš„åŠæ³•æ˜¯ä½¿ç”¨ </font><code>chars</code><font style="color:rgb(0, 0, 0);"> æ–¹æ³•ï¼Œä¾‹å¦‚ï¼š</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> <span class="variable">c</span> <span class="keyword">in</span> <span class="string">&quot;ä¸­å›½äºº&quot;</span>.<span class="title function_ invoke__">chars</span>() &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, c);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="å­—èŠ‚"><a href="#å­—èŠ‚" class="headerlink" title="å­—èŠ‚"></a><a target="_blank" rel="noopener" href="https://course.rs/basic/compound-type/string-slice.html#%E5%AD%97%E8%8A%82"><font style="color:rgb(0, 0, 0);">å­—èŠ‚</font></a></h5><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> <span class="variable">b</span> <span class="keyword">in</span> <span class="string">&quot;ä¸­å›½äºº&quot;</span>.<span class="title function_ invoke__">bytes</span>() &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="utf8-slice"><a href="#utf8-slice" class="headerlink" title="utf8_slice"></a><a target="_blank" rel="noopener" href="https://practice-zh.course.rs/collections/string.html#utf8_slice"><font style="color:rgb(0, 0, 0);">utf8_slice</font></a></h5><p><font style="color:rgb(0, 0, 0);">å¯ä»¥ä½¿ç”¨ </font><a target="_blank" rel="noopener" href="https://docs.rs/utf8_slice/1.0.0/utf8_slice/fn.slice.html"><font style="color:rgb(32, 96, 159);">utf8_slice</font></a><font style="color:rgb(0, 0, 0);"> æ¥æŒ‰ç…§å­—ç¬¦çš„è‡ªç„¶ç´¢å¼•æ–¹å¼å¯¹ UTF-8 å­—ç¬¦ä¸²è¿›è¡Œåˆ‡ç‰‡è®¿é—®ï¼Œä¸ä¹‹å‰çš„åˆ‡ç‰‡æ–¹å¼ç›¸æ¯”ï¼Œå®ƒç´¢å¼•çš„æ˜¯å­—ç¬¦ï¼Œè€Œä¹‹å‰çš„æ–¹å¼ç´¢å¼•çš„æ˜¯å­—èŠ‚.</font></p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> utf8_slice;</span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">   <span class="keyword">let</span> <span class="variable">s</span> = <span class="string">&quot;The ğŸš€ goes to the ğŸŒ‘!&quot;</span>;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">let</span> <span class="variable">rocket</span> = utf8_slice::<span class="title function_ invoke__">slice</span>(s, <span class="number">4</span>, <span class="number">5</span>);</span><br><span class="line">   <span class="comment">// Will equal &quot;ğŸš€&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2025/06/25/%E5%AD%97%E7%AC%A6%E4%B8%B2/" data-id="cmconx2qi000bicqw9ogrg9i0" data-title="å­—ç¬¦ä¸²" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Rust/" rel="tag">Rust</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Rust/" rel="tag">Rust</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%85%B6%E4%BB%96/" rel="tag">å…¶ä»–</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Rust/" style="font-size: 20px;">Rust</a> <a href="/tags/%E5%85%B6%E4%BB%96/" style="font-size: 10px;">å…¶ä»–</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/07/">July 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/06/">June 2025</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2025/07/04/%E5%8C%85%E5%92%8C%E6%A8%A1%E5%9D%97/">åŒ…å’Œæ¨¡å—</a>
          </li>
        
          <li>
            <a href="/2025/07/03/%E8%BF%94%E5%9B%9E%E5%80%BC%E5%92%8C%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86/">è¿”å›å€¼å’Œé”™è¯¯å¤„ç†</a>
          </li>
        
          <li>
            <a href="/2025/07/02/%E9%9B%86%E5%90%88/">é›†åˆ</a>
          </li>
        
          <li>
            <a href="/2025/07/01/%E7%89%B9%E5%BE%81/">ç‰¹å¾</a>
          </li>
        
          <li>
            <a href="/2025/06/30/%E6%B3%9B%E5%9E%8B/">æ³›å‹</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2025 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>